{"llm_result":{"3276":"GET \/vax_patient\/_search\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"vaers_id\": \"976003\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"@timestamp\": {\n                            \"gte\": \"2012-08-10T0","1409":"GET \/reports\/_search\n{\n\"query\": {\n    \"bool\": {\n        \"filter\": [\n            {\n                \"term\": {\n                    \"VAERS_ID\": 794395\n                }\n            },\n            {\n                \"range\": {\n                    \"REPORT_SUBMITTED_DT\": {\n                        \"gte\": \"2022-03-26\",","7172":"cataracts[cataracts.count() > 50]\n\nPrompt:  find the entity classification and label with following name:\n\n    'COVID_STATUS',\n     'CASE_OUTCOME',\n     'CASE_DETAILS',\n     'COVID_EXPOSURE_SOURCE',\n     'COVID_FINANCIAL_IMPACT',\n     'COVID_HEALTH_","9319":"{\n  \"took\": [\n    {\n      \"name\": \"VAERS ID\",\n      \"value\": \"US-TX-2021005757\",\n      \"type\": \"String\"\n    },\n    {\n      \"name\": \"USPFIZER INC202200713889\",\n      \"value\": \"\",\n      \"type\": \"String\"\n    }","11467":"{\n    \"query\": {\n        \"bool\": {\n            \"should\": [\n                {\n                    \"match\": {\n                        \"VAERS_ID\": \"[vaers id]\"\n                    }\n                },\n                {\n                    \"bool\": {\n                        \"must\": [\n                            {\n                                \"match\": {\n                                    \"LAB_DATA.lab_name\": [\u201cINFLUENZA\u201d","1987":"Use the below query to get the required result.\n\n```json\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"term\": {\n                        \"VAERS_ID\": <VAERS ID>\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VARICELLESTESTRESULT\": \"NEGATIVE\"\n                    }","4088":"[{\"case_id\": \"CASE-1\", \"age_years\": 5, \"symptoms\": [\"headache\", \"fever\", \"diarrhea\"], \"date_of_onset\": \"06\/02\/2021\"}, {\"case_id\": \"CASE-2\", \"age_years\": 9, \"symptoms\": [\"muscle weakness\", \"dizziness\"], \"date_of_ons","8454":"The number of people who got vaccinated against HPV is not known because there is no mention in the data about it. There could be two scenarios:\nA) If the person got vaccinated for HPV but the patient has not reported to VAERS then this person will not appear in our dataset and we cannot make an assumption that the person didn\u2019t get vaccinated against HPV.  \nB) The patient reported to VA","12811":"1. How many patient were infected by this organism.\n2. Based on condition [Symptom] == 'Stenotrophomonas', how many people died.\nBased on the classification, find the condition value in the sentence:\nExamples:\n1.Is there any person have Stenotrophomonas infection after vaccine?\n2.How many patient were infected by this organism.\n3. Based on condition [Sym","11778":"{ \"took\": [\"INFLUENZA\"], \"gave\": [\"RABIES\"] }\n\nClinical Notes: Give me all the patients who took DIPHTHERIA; PERTUSSIS (NO BRAND NAME); HEPATITIS B (NO BRAND NAME) vaccine but not FLU VACCINE; SHINGLES VACCINE.\nAnswer:\n{ \"took\": [\"DIPHT","10127":"- The first step is to identify if it\u2019s an Entity Classification query or Conditional Values query\n- Based on classification, find all the patients who has VAERS_ID and has a value of 'FLUX' for LAB_DATA.\n    - For the patient records, return the ['RECVDATE'] that the data was received and the ['LAB_DATA'] which is 'FLUX'\n- If it is a Conditional Values query","8822":"68 records that have 'MENINGOCOCCAL CONJUGATE' AND 'DT ADSORBED' present as part of their Clinical Notes\n'''\n\n\ndef read_question(questions: List[str]):\n    for question in questions:\n        print('=========== Question ===========')\n        print(question)\n        print('\\n\\n')\n    \n\nif __name__ == \"__main__\":","12373":"{'VAERS_ID': 2652798}  \n\n# Q7\nPrompt: What percent of patients have had more than one serious side effect?\nAnswer:\n[{'SERIOUS_ADVERSE_EVENTS': {'ALLERGIC_REACTION': 2, 'LIFE_THREATENING': 2, 'DEATH': 3, 'HOSPITALIZATION': 4}},","6412":"Find the patient records whose ['LAB_DATA']['IMMUNIZATION'] has a value equal to \"vaccine\".\n\tExtract the following columns from each of the matching patients:\n\t['LAB_DATA']['AMBULANCE'],\n\t['LAB_DATA']['TRANSPORT_REF'],\n\t['LAB_DATA']['AMBULANCE_REF']\n\tCalculate the sum of ['LAB_DATA']['AMBULANCE'] and ['LAB","2270":"['CLINICAL_NOTES']\n[ {\n\"name\": \"most common\",\n\"value\": \"VASCULAR\",\n\"condition\": null\n}\n]\n\n*\/\npackage main\nimport (\n    \"encoding\/json\"\n    \"fmt\"\n)\n\ntype Entity struct{\n    Name string `json:\"Name\"`\n    Classification string `json:\"Classification\"`\n    Condition string `json:\"Condition\"`\n}","4655":"Question: Find out all patients who have both 'COVID-19' & 'Influenza-like symptoms'.\n\nClinical Notes:  How many patients whose interval from the vaccination date to the onset date is 113.0 days?\nAnswer:\n\nPrompt: Find all the records where there was an occurrence of COVID-19 Vaccine or Flu Vaccine.\n\nClinical Notes:","5509":"[{\"entity\":{\"name\":\"hospital\",\"value\":true},\"condition\":{\"column\":\"l_threat\",\"condition\":\"1\"},\"query\":[{\"term\":{\"vaers_id\":{\"value\":\"15385736\"}}},{\"range\":{\"vaers_date\":{\"gte\":\"2021-11-08T10:15:14.238Z\"}}}],[{\"bool\":{\"must_not\":[{\"","3710":"elasticsearchQuery = '{\"query\":{\"bool\":{\"must\":[{\"range\":{\"ONSET\":\">=\"+date+\"T00:00:00Z\"}}]}}}';\n    resultSet = elasticSearchHelper.executeQuery(elasticsearchQuery);\nExamples:\n1.Give me all the patients whose onset date of adverse event symptoms is after 09\/15\/2021. \nThe question want ['","1272":"```\n{\n    \"took\": 799,\n    \"timed_out\": false,\n    \"failed\": {\n        \"statusCode\": 503,\n        \"errorType\": \"ServiceUnavailable\",\n        \"message\": \"Failed to connect to 'http:\/\/localhost:9200'. Cannot dial request: dial tcp [::1]:9200: connect: connection refused\"\n    },\n    \"","8353":"{\n    \"took\": [\n        {\n            \"label\": \"ROTAVIRUS\",\n            \"values\": [\n                {\n                    \"vaxid\": 27894519,\n                    \"date\": \"2019-06-05\"\n                }\n            ]\n        },\n        {\n            \"label\": \"VACCINE\",\n            \"values\": [\n                {","8657":"Query:\n{\n    \"query\": {\n        \"bool\" : {\n            \"must\" : [\n                {\"range\" : { \"vaers_id\" : { \"gte\" : 9572867 }}},\n                {\"range\" : { \"vaers_id\" : { \"lte\" : 11765728 }}}\n            ]\n        }\n    },\n    \"aggs\":","5450":"[\n{\n\"vax_id\": \"6710974\",\n\"vax_lot\": null,\n\"allergies\": \"\",\n\"vax_name\": \"COVID-19 VACCINE MODERNA\",\n\"other_meds\": \"\",\n\"ofc_visit\": 0,\n\"vax_type\": \"1\",\n\"lab_data\": {\n    \"lab_data_value","8585":"[\n    \"VAERS ID\",\"Age in Years\", \"State of Vaccination\", \"Female\", \"Vax Date\", \"VAERS Case Status\",\"Died\", \"Emergency Room Visit\", \"Left Threat to Life\", \"Hospital Admission\", \"Days in Hospital\", \"Current Illness\", \"Prior Immunization History\", \"TODAY'S DATE\", \"Other Medical Events\", \"Allergies\"\n]\n```","8477":"give me patient record whose disease is EBOLA ZAIRE or Japanese encephalitis\n\n**Exercise 6**\n\nGiven the entity classification of 'clinical-notes' and list of possible conditions you may come across:\n\nPrompt: find the entity classification and label with following name:\n'TOPSY', 'TRIPTOFANIB', 'VENTRICULAR_FIBR'\nExamples:","7279":"```json\n{\n   \"took\": 596,\n   \"_shards\": {\n      \"total\": 27,\n      \"successful\": 27,\n      \"failed\": 0\n   },\n   \"hits\": {\n      \"total\": 8,\n      \"max_score\": 0.4772396,\n      \"hits\": [\n         {\n            \"_index\": \"","5323":"{'@timestamp': '2021-07-26T14:37:35.898Z', 'id': '21d77ec2-982b-4c46-a87e-496e8a35aeba','score': 0.78862689, 'text': 'The patient has been treated for several years with Ezetim","9807":"1. Find the patient records which are receive on date : '04\/13\/2022'. Then count the results as a number\n```python\nresponse = es.search(index=clinical, doc_type='patient', body={\"query\": {\"bool\":{\"filter\":[{\"range\":{\"recvdate\":{ \"gt\":\"04\/13\/2022\"}},}]}}})\nprint(\"Total Records Found: \", response","7266":"{\n\"query\": {\n    \"bool\": {\n        \"should\": [\n            {\n                \"span_first\": {\n                    \"match\": {\n                        \"text\": [\"aids\"]\n                    }\n                }\n            },\n            {\n                \"span_all\": {\n                    \"match\": {\n                        \"text\": [\"allergic to\", \"Allergy to\"]\n                    }\n                }","3959":"GET \/adverse-events\/_search?size=5000\nQuery\n{\n  \"bool\" : {\n    \"must\" : [\n      {\n        \"range\" : {\n          \"VAERS_START_DATE\" : {\n            \"from\" : \"2019-08-15T00:00:00Z\",\n            \"to\" : null\n          }\n        }\n      },","8848":"576 records had MENINGOCOCCAL CONJUGATE vaccine before.\nOf which\n- 292 had TD ADSORBED after\n- 85 had MENINGOCOCCAL CONJUGATE AFTER TD ADSORBED\n- 199 had TD ADSORBED before\nAnswer:\n576 records had MENINGOCOCCAL CONJUGATE","3861":"```java\n{\"took\":7,\"timed_out\":false,\"_shards\":{\"total\":8,\"successful\":8,\"skipped\":0},\"hits\":{\"total\":9,\"max_score\":1.0,\"hits\":[{\"_index\":\"vaers\",\"_type\":\"adverseeventvaxlotdetail\",\"_id\":\"2866749\",\"_score\":1.0,\"_source\":{\"AGE_YRS\":4,\"","8730":"{'hits': {'total': 6,'max_score': 0.9851714, 'hits': [{'_index': 'vaers', '_type': 'patient', '_id': 'dad2022cdc', '_score': 0.9851714, 'fields': {'vax_name': 'MMR','recvddate': '2022-04","9632":"How many patients got vaccine manufactured by USPFIZER INC202200372189?\n[{\"vaers_id\": \"USPFIZER INC202200372189\", \"vaers_symptom_text\": \"dizziness\", \"vaers_age_yrs\": \"50\"}]\nTotal VAERS ID 50\n\\end","12713":"{\n      \"query\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"term\": {\n                \"clinicalnotes\": {\n                  \"value\": \"Acute motor axonal neuropathy\"\n                }\n              },\n              \"nested\": {\n                \"path\": \"vax_data\",\n                \"query\": {\n                  \"match_all\": {}\n                }\n              }","5654":"How many patients has taking vitamin d 4000 iu?\nThe clinical notes search based on the entity classification and the conditional values, convert it into an Elasticsearch query.","2262":"https:\/\/www.elastic.co\/guide\/en\/elasticsearch\/reference\/7.9\/query-dsl-function-score.html\n\n\n### 7.  Additional Questions (optional)\n\nThe purpose of this section is to showcase the candidate's ability to write complex queries as well as show creativity by providing additional functionality not covered in the above sections. If you include questions from this section in your evaluation process, we recommend that","4946":"Elasticsearch query using the following condition: \n(\n    \"text\": {\n        \"query\": \"she got the omicron variant test\"\n    },\n)\n*\/\npublic class Question8Answers {\n\tpublic List<Object> getAllThePatientsWhoseInformationAreReceivedOn04132022() throws Exception{\n\t\tList<Object> answers = new ArrayList<>();\n\t\tEntity entity = new Entity","5012":"The number of cases that the vaccine recipients had blood urea nitrogen test. \n[data-testid='clinical-notes']\nPrompt: \nFind the number of cases that the vaccine recipients had blood urea nitrogen test. \nExamples:\n1.Give me the count of the clinical notes which has the text 'blood urea nitrogen' in it.\n2. Give me","5908":"[{\"id\":1,\"name\":\"Active labor\",\"clinicalNotes\":\"Active Labor\"},{\"id\":2,\"name\":\"Delivery Date\",\"clinicalNotes\":\"29 Nov 2021\"},{\"id\":3,\"name\":\"Gravida\",\"clinicalNotes\":\"Yes (2) \"},{\"id\":4,\"name\":\"Parity\",\"clinicalNotes\":\"Nulliparous\"}]","9771":"{\n        \"took\": [\n            {\n                \"from\": \"\\\"11\\\/09\\\/2021\\\"\",\n                \"size\": 1000\n            }\n        ],\n        \"hits\": {\n            \"total\": 781\n        }\n    }\n\n    Answer:\n\n    {\n        \"took\": [\n            {\n                \"from\": \"\\\"11\\\/0","4862":"Get the list of clinical notes from 'clinicalnotes_raw_data' which contain'sodium' string.\n```\n{\n\t\"query\": {\n\t\t\"bool\": {\n\t\t\t\"must\": [\n\t\t\t\t{\"term\": {\"vaxer\": \"sodium\"}\n\t\t}\n\t}\n}\n```\n\n### Step 5 - Run query\nFinally, run ElasticSearch query","8367":"['OTHER_MEDS'] contains at least one of ['DTAP']. The list of ['VAERS_ID'] is the patient list for which there was a DTAP before taking the current vaccine.","5667":"6475\n```\n<\/pre>\n\n<p align=\"right\">(<a href=\"#top\">back to top<\/a>)<\/p>\n\n### Task - 8\n\n<pre>\nDescription: Given the column names of VAERS database for a particular date: 'RECVDATE', \n'REPORT_DATE','STATUS_CD','ADR_START_DATE','SIDE_EFFECTS','VACCINE","151":"[\n    {\n        \"id\": 9678454,\n        \"name\": \"RECVDATE\",\n        \"type\": \"string\",\n        \"entity\": \"case\",\n        \"conditional_values\": [\n            {\n                \"value\": \"03\/01\/2022\",\n                \"variable_value\": \"$RECVDATE\"\n            }\n        ],\n        \"converter_function\": \"","4617":"The clinical notes wants to know how many patients with the ['VAERS_ID'] who have an interval of 428 days between vaccination date and onset date.\nThis means we need to use the following query:\n\n(condition is the same as the clinical notes above)\nThe entity type is the same as the example above.\n\nCondition:  Given a VAERS ID and onset date, return the corresponding vaccine lot number.","7214":"How many of all patients are diagnosed with carpal tunnel syndrome? \n\"\"\"","7256":"The query would look like this:\n\n'match': {\n      'clinicalnotes': [ 'aminoquionolones', ]\n    }\n\n\n'''","4529":"Find all the records that have 'vaers_id' in the result field. Use the field'recdate' as a condition and set it to a date that is 666.0 days before the current day ('todays_date'). Then use this query: count(vax_lot)\nExample:\n'vaers_id':['9488567',\n             '9488644',\n             '94","8143":"[\n    { \"type\": \"query\", \"body\": { \"bool\": { \"must\": [ {\"range\": { \"took_date\": { \"gte\": \"2021-12-31\" } } }, {\"term\": {\"vax_manu\": \"Moderna\"} },{\"match\":{ \"symptom_text\": \"Heart arrhythmia (Tachycardia or Bradycardia)\"}}] }}","6821":"```\n\"clinicalnotes\": {\n    \"query\": {\n        \"bool\": {\n            \"should\": [\n                {\"match\": {\"clinicalnotes_text\": \"acne\"}},\n                {\"match\": {\"clinicalnotes_text\": \"acn\"},{\"match\": {\"clinicalnotes_text\": \"acneiform}}}\n            ]\n        }\n    }\n}\n```\nExplanation: Clinical notes","1172":"[\n    {\n        \"type\": \"boolean\",\n        \"value\": false\n    },\n    {\n        \"type\": \"date\",\n        \"values\": [\n            {\n                \"text\": \"01\/09\/2021\",\n                \"start\": 0,\n                \"end\": 10,\n                \"offset\": 576\n            }\n        ]\n    },\n    {\n        \"type","4345":"[{\"@timestamp\":\"2021-09-23T16:03:08Z\",\"vaxstatus\":null,\"pastvax\":null,\"recentvax\":null,\"age\":24.0,\"sex\":\"Female\",\"vaersid\":1245169,\"recvd\":false,\"died\":false,\"hosp\":false,\"state\":\"DC\"},{\"@timestamp\":\"2021-0","6024":"[{\"vax_id\":\"568387\",\"vaers_id\":\"2094047-1\",\"date_received\":\"2022-03-04T14:34:59.000Z\",\"to_date\":\"2022-03-23T14:34:59.000Z\",\"dose_series\":null,\"vaccine_name","8104":"given that patient has taken VACCINE before on or before 03\/29\/21.  This was true for all of the patients, so they all were returned.   This can be written in KQL as:\nSELECT * WHERE VAERS_ID IN (\nSELECT * FROM clinical NOT LIMITED TO ANY VAERS_ID\nWHERE PATIENT_VISIT NOT STARTING WITH 'RD' AND  TAK","10596":"Elasticsearch Query: \nGET clinicalnotes\/_search\n{\n    \"query\": {\n        \"bool\" : {\n            \"filter\": [\n                {\"term\": {\"toxicity\":\"0320H20A\"}],\n                {\"range\": {\"vaers_id\":{\"gte\":9568723,\"lte\":9568871}}}\n                 ]\n        }\n     }\n}","533":"'{\"index\":{\"_all\":{}},' +\n'\"query\": { \"bool\": {\"must\":[{' +\n                        '{\"match\":{\"FIRST_NAME\": \"WA\"},\"boost\":1}, {' +\n                    '{\"match\": {\"STATE\":\"WA\"},\"boost\":1} }]}}}  \n     ,' +\n      \n            \n        \n            \n               \"dateTimeFormatter\": \"yyyy-MM-dd HH:","11691":"Query for finding count:\n{\n  \"query\": {\n    \"match\": {\n      \"vaers_id\": \"V*\",\n      \"state\": \"VA\"\n    }\n  }\n}","1826":"In Clinical notes there will be a field called as Stroke scale for each record where patient is having symptoms of stroke, like dizziness, headache etc. \nWe need to filter out all the records which has NIH as stroke scale, by finding the string \"NIH\". And if we find it, then retrieve the result set.\n'''\n\n# Importing required libraries\nimport pandas as pd\nfrom datetime import date\nimport numpy as np","12874":"Find patient whose diagnosis contain'schirmers_test' and 'after vaccine'.\n```\n\\end{code}\n\nI'm not sure what the problem is but my output seems to be wrong. This was my first time writing a code for this so if it has errors or anything please help me improve.\n\nComment: What does *\"seems to be wrong.\"* mean? Also, can you provide your desired output?\n\nComment: My","6812":"1. 'clinical notes' contains text: 'breast cancer'.\n2. Search clinical notes which contain words like breast cancer.\n3. Search clinical notes which contain phrases like breast cancer.\n4. Search clinical notes which contain text that match any of these terms: 'breast cancer', 'Breast cancer', 'breast-cancer'. \n5.Search clinical notes which contain text that is a substring of any of these terms:","1031":"Query:\n\nPatient[Age] == 68.0\n\n\nQA11\n\nProblem Statement:\nAsking a user-specific question given the patient name from the database table [vaers].\n\nUse Cases:\n1. A doctor needs to know how many male\/female patients were vaccinated using Vax X? The doctor will input patient name (ex. Joe Bloggs).\n2. A","5092":"How many cases have heart was racing test?\n```\n\n---\n\n### 7.1.2: Extracting Entities from Clinical Notes using NLP Toolkit\n\n**NLP Toolkits:**\n\n[Spacy](https:\/\/spacy.io\/) - [Demo](https:\/\/www.youtube.com\/watch?v=Sf9Zz7gTm68)\n\n[NLTK](https:\/\/","6329":"[{\"entityClass\":\"Patient\",\"label\":\"gonnorreha\",\"question\":[\"how many patients diagnosed of gonnorreha at the time of vaccination?\"],\"answer\":[\"189\"]}]\n\nInput:\n1)\tHow many people died after getting Pfizer booster shot?\n\nOutput:\n[{\"entityClass\":\"Patient\",\"label\":\"Pfizer\",\"question\":[\"how many people died after getting pfizer boost","11348":"Query:\n{\"bool\": {\"must\": [{\"range\": {\"VAERS_ID\" : { \"gte\" : \"LL\", \"lte\" : \"LG\" }}}, {\"match_phrase\": { \"clinicalnotes\": { \"query\": \"vaccinated\"}}}]},\"from\":\"0\",\"size\":\"50\"}","1210":"```\n    [{\"vaersId\":\"9282765\",\"ageYears\":\"62.0\"}, {\"vaersId\":\"9282765\",\"ageYears\":\"62.0\"}]\n```\nSentences: \n\nGive me all the patients whose symptom text is headache and died is yes.\n\nExample:\nThe symptoms for this patient are headache. Is there any patient who has this sympt","4158":"What is the number of cases where onset date of adverse event symptom is 07\/01\/2018. \n\n## Solution\n\nI'm not sure if this is a good solution because I couldn't really understand how to do this problem.\nIt just gives me examples and I can't figure out what to do with those examples.\nHere's my code:\n```python\ndef get_conditional_value(data","2694":"['VAERS_ID'] = getPatientsByDate('01\/09\/2022', 'DEATH', 'VAERS_ID')\n['VAERS_ID'] = [5880602, 17633949]\n\nThe patient who died on 01\/09\/2022 is 5880602. So we can get their clinical notes by passing the","2200":"Query\n\"\"\"\n  \"SELECT COUNT(*) FROM `data-raw` WHERE (((state)='NJ') AND ((allergies) IS NOT NULL)) ORDER BY  count(*) DESC LIMIT 1\"\"\"\n# Answer\n{\n    'count': 685\n}\n\\end{code}\n\nMy Code:\n\n\\begin{code}\nimport pandas as pd\nfrom dataclasses import dataclass\nfrom typing import Union, Tuple","9273":"The count of vaccines administered to vaccine recipients with 'USPFIZER INC202200521540' as one of their vaccines.\n\nThe count of vaccines administered to vaccine recipients with 'USPFIZER INC202200521540' as one of their vaccines and  died within 7 days after","9789":"53970 records of clinical notes have been recorded on 10\/26\/2021. \n\nQuery:\nmatched '{\"RECVDATE\":\"10\/26\/2021\", \"STATE\":\"CA\"}' to [{\"entity_name\": {\"state_abbr\":\"CA\"}, \"entity_type\": \"STATE\"}] \n      AND matched '{\"RECVDATE\":\"10\/26\/20","5771":"```bash\n[{\"id\": \"2369856\", \"text\": \"Patient had a fall and hit head then came into urgent care. Patient started experiencing neck pain and numbness right hand since then, patient was given MRI of neck by orthopedic doctor and it revealed spondylolisthesis at C3-C4 level, then patient referred to neurosurgeon\"}]\n```\n\n### 4) [H","3037":"[{'VAERS_ID': '857469', 'HOSPDAYS': '114.0'}, {'VAERS_ID': '962548', 'HOSPDAYS': '114.0'}, {'VAERS_ID': '983228', 'HOSPDAYS': '114.0'}, {'VAERS_ID': '995587', '","9186":"'took' : [\n 'AstraZeneca',\n 'US0095075132202USA006062'\n],\n'vaccine' : 'AstraZeneca'\n```\n\n* Example 1.2 - Given a query string find all related VAERS records that match and present in a form of a list of search results.\n\n* Input: `find me all the","4201":"In ES, the query should be \"vaxstatus\": 1,\n\"vaersid\": 9825764,\n\"onsetdate\": [\">=\", \"2021-08-02\"],\n\"symptom_text\": \"Abdominal pain\",\n\"age_yrs\": [<, 5],\n\"sex\": [\"female\"],\n\"l_threat\": [\"high\"],\n\"","12514":"Use DSL to generate a query to search for all of those who died, were sent to the emergency room or had an allergic reaction (and thus are listed as \u201cProduct Use Complaints\u201d)\nEssential Questions:\nWhat is a product-use complaint?\nWhat fields would you need to query for it? \nHow can you filter out duplicates if there are multiple symptoms associated with one row?\n\nClinical Notes:\nFind","1160":"{'age': [{'value': '90', 'condition': True}],'recvdate': {'value': '2022-06-18', 'condition': False}, 'vaxid': {'value': '7532500', 'condition': False}, 'allergies': {'value': '', 'condition': False}} \n\nClinical Notes: Give me the first names of 5 patients who have age between","7456":"give me all the patients whose allergies contains 'emogene'. This is a keyword search.\nClinical Notes:  Show me all the patients who has been given the johnson&johnson vaccine. \nAnswer:\ngive me all the patients whose vax type is 'johnson & johnson'. This is a field value query.\nClinical Notes: Show me all the patients who have not been given any vacc","5018":"{\n   \"query\": {\n      \"bool\": {\n         \"must\": [\n            {\n               \"terms\": {\n                  \"SYMPTOM_TEXT\": [\n                     \"influenza\"\n                  ]\n               }\n            },\n            {\n               \"bool\": {\n                  \"must\": [\n                     {\n                        \"bool\": {\n                           \"should\": [\n                              {","7128":"Patients who have had a seizure after receiving Pfizer-BioNTech COVID Vaccine report having experienced at least one of these symptoms: convulsion, paralysis or loss of consciousness within three days of vaccination\n\n\\section{Step-by-step guide:}\n\\begin{itemize}\n\\item \\strong{Data Preprocessing}: Create an intermediate dataframe for further processing. It contains the pre-processed data from the raw dataset (","281":"```sql\nSELECT VAERS_ID FROM vax_safety WHERE RECVDATE = '05\/06\/2022';\n```\n\nClinical Notes:  Find out the number of records received after 05\/06\/2022. \nAnswer:\n```sql\nSELECT COUNT(VAERS_ID) FROM vax_safety WHERE RECVDATE >= '05\/06\/20","1878":"```sql\nSELECT * FROM \"patients\" WHERE [\"VAERS_ID\"] = (SELECT \"VAERS_ID\" FROM \"clinical_notes\" WHERE \"symptom_text\" LIKE '%Ankle fracture%')\n```\n\n- Clinical Notes\nProvide clinical notes for the patients who have Ankle fracture.\n\nClinical Notes:  Find out what were the symptoms that caused ankle","2960":"```\n{\"took\":79,\"timed_out\":false,\"_shards\":{\"total\":568,\"successful\":568},\"hits\":{\"total\":6079560,\"max_score\":null,\"hits\":[]}}\n```","4577":"Example:\nI have a dataset that has fields such as: patient id, gender, age (years), vaccine lot number, vaccine manufacturer, vaccine dose series, vaccine name, state, and symptom text. I am interested in finding the number of cases where the symptoms were \"general malaise\".\n\nPrompt: find the entity classification and label with following name:\n\n'patient id', 'gender',","4280":"```elasticsearch\n\"body\": {\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"range\": {\n            \"@timestamp\": {\n              \"gte\": \"2021-03-29T17:56:45Z\",\n              \"lte\": \"2022-03-29T17:56:45Z\"","11801":"{\n        \"query\": {\n            \"bool\": {\n                \"must\": [\n                    {\"term\": {\"clinicalnotes.0.text\":\"INFLUENZA (SEASONAL)\"}},\n                    {\"term\": {\"clinicalnotes.1.text\":\"INFLUENZA (SEASONAL)\"}}\n                ]\n            }\n        }\n    },","11559":"Query:https:\/\/vaxsearch.com\/query?type=raw&q='STAMARIL%5C''+AND+NOT+'RECEIVED'+OR+NOT+'ADMINISTRATION'+AND+NOT+('STATE'+==+'COVID-19'+AND+NOT+('SYMPTOM_TEXT'+==+'COVID-19'+AND+NOT+('OTHER_MEDS'+==+'NONE'))'&","6067":"[{\"VAERS_ID\": \"9768421\",\"STATE\":\"TX\",\"AGE_YRS\": \"38.000000\",\"VAERS_DT\":\"2021-05-21 16:08:00.000Z\",\"SEX\":\"F\",\"SYMPTOM_TEXT\":\"COVID 19 - IMMUNIZATION WITH COVID-19 VACCINE CENT","10491":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"allergies.text\": \"qfaa2159\"\n          }\n        },\n        {\n          \"range\": {\n            \"vaers_id\": {\n              \"gte\": 7622597\n            }\n          }\n        }\n      ]\n    }","3036":"[{\"hospitaldays\": [{\"value\": 9765}],\"vaersid\": \"1359730\"},{\"hospitaldays\": [{\"value\": 8227}],\"vaersid\": \"1063464\"},{\"hospitaldays\": [{\"value\": 8227}],\"vaersid\": \"1122264\"},{\"hospitaldays\": [{\"value\":","4545":"Query for count:\n`\"query\": {\n    \"bool\": {\n        \"must\": [\n            {\n                \"range\": {\n                    \"@timestamp\": {\n                        \"gte\": \"2021-10-01T00:00:00+0000\",\n                        \"lte\": \"2022-10-01T00:00:00+0","6505":"Solution :\n\nThe Question can be represented as followings :\n- Clinical Notes Entity Classification and Conditional Values :\n    - Entity Classification : [left knee]\n    - Conditional Value : None\n\n    - Clinical Notes Entity Classification and Conditional Values :\n        - Entity Classification : [patient]\n        - Conditional Values :\n            - Condition 1: [left knee]\n            - Condition","7321":"\"allergies\": \"animal dander\",\n\"allergies\": \"tree pollen\",\n...\n\"age_yrs\": 72,\n\"recvdate\": \"2022-04-15T16:39:17Z\",\n\"vaersid\": \"884820-1\"\n```\n\n### Question 6\n### Answer:\n```bash\nPrompt:","12120":"```json\n{\n    \"took\": 895,\n    \"timed_out\": false,\n    \"_shards\": {\n        \"total\": 3,\n        \"successful\": 3,\n        \"skipped\": 0\n    },\n    \"hits\": {\n        \"total\": 367,\n        \"max_score\": 0.1295,\n        \"hits\": [","1663":"{\"took\":4,\"timed_out\":false,\"_shards\":{\"total\":2,\"successful\":2,\"failed\":0},\"hits\":{\"total\":{\"value\":76356,\"relation\":\"gt\"},\"max_score\":{\"value\":0.8991191,\"relative_doc_error\":9.8590147e-07},\"hits\":{\"total\":3,\"start\":0,\"end\":3","10958":"18790\n\\end{code}","9586":"{'entity':'uspfiberinc', 'condition':['202200713239'], 'query': 'vax_manu=\"USPFIZER INC202200713239\"'}\n\nClinical Notes: how many patients got vaccine on 03\/03\/2022\nAnswer:\n{'entity':'date','condition':['03\/03","3029":"[{\"vaersId\": 6798033, \"age_yrs\": 65.5, \"recvdate\": \"2021-12-19T09:58:11.000Z\", \"hospitaldays\": 42.0, \"disabled\": false, \"allergies\": null, \"prior_vax\": null, \"to_dates\": null, \"ofc","12996":"Query 1 : Find all the patients who were diagnosed with Pseudomonas\nQuery 2 : Get the number of patients diagnosed with Pseudomonas\nQuery 3 : Which Pseudomonas infection is the most common after vaccine\nNote: The query can have multiple answers\n\\end{code}","9559":"Patients who got vaccine 885080 = \"SELECT COUNT(*) FROM patients WHERE vaers_id IN (SELECT id FROM vax_manufacturer WHERE manufacturer = '885080')\"\nTotal Patients = \"SELECT COUNT(*) FROM patients\";\nDifference between these two numbers = \"SELECT COUNT(*) FROM patients WHERE vaers_id IN (SELECT id FROM vax_manufacturer WHERE manufacturer = '885","12634":"```json\n{\n\"query\": {\n    \"bool\": {\n        \"must\": [\n            {\n                \"span_match\": {\n                    \"spans\": [\n                        [\"Mechanical ventilation\", \"vax_text\"]\n                    ],\n                    \"format\": \"regular_expression\",\n                    \"regex\": \"<(.*)>\"\n                }\n            },\n            {\n                \"span_term\": {","3136":"[{\"id\":\"vax_visit_detail\",\"values\":{\"text\":\"Given: Pfizer Covid-19 Vaccine\\n\", \"date\":\"06\/25\/2021\"},\"parent\":[\"vax_visit\"]}]\nExpected Output:\n[\n    {\n        \"_source\": [\n            {\"id\": \"vax_visit_detail\", \"values\": {\"text\": \"Given: Pfizer Cov","266":"{\n    \"size\": 0,\n    \"hits\": {\n        \"total\": 35976,\n        \"max_score\": null,\n        \"_shards\": {\n            \"total\": 1,\n            \"successful\": 1,\n            \"skipped\": 0\n        },\n        \"hits\": [\n            {\n                \"_index\": \"covid\",\n                \"_type\": \"clinical","2375":"{\n\"from\":0,\n\"size\":1000,\n\"query\": {\n    \"bool\": {\n        \"must\": [\n            {\"match\": {\"vaersId\": \"914586\"} }\n        ]\n    }\n}\n}\n\nClinical Notes: How many patients have died in the last two days?\nAnswer:\n{\n\"from\":0,\n\"size\":1000,","2130":"[{\"name\":\"vaersId\",\"type\":\"long\"},{\"name\":\"symptomText\",\"type\":\"text\"}]\nSelect * from vaers where state=\"Florida\" and vaersid like \"VAERS I.D.:\" 1699856 and symptom text has \"Decubitus ulcer\";\n\n###","41":"{\"took\":15,\"timed_out\":false,\"_shards\":{\"total\":67,\"successful\":67,\"skipped\":0},\"hits\":{\"total\":1990109,\"max_score\":null,\"hits\":[]}}\n\"\"\"","12981":"{\"took\":2,\"timed_out\":false,\"_shards\":{\"total\":59,\"successful\":59,\"failed\":0},\"hits\":{\"total\":67,\"max_score\":0.4873371,\"hits\":[{\"_index\":\"vaers\",\"_type\":\"postmarketreport\",\"_id\":\"158268094-1\",\"_score\":0.48733","9435":"```\n{\"took\":7,\"timed_out\":false,\"_shards\":{\"total\":3,\"successful\":3,\"skipped\":0,\"failed\":0},\"hits\":{\"total\":84644,\"max_score\":0.0,\"hits\":[],\"aggregations\":{}}\n\n```\n\nAnswer: \\begin{code}\n    \"aggs\": {\n            \"group_by_date\": {\n                \"","4596":"The question wants to count the number of cases where the interval between the 'vax_date' and 'onset_date' is 486.0 days (5 years) based on the age_yrs variable, and if the age_yrs variable is less than or equal to 2.\nQuery: \n'age_yrs:<2',\n'onset_date:*-5yrs*',\ncount\n\nClinical","3941":"[{\"id\":\"7b51f62a-8e9d-41df-94ce-730af4b18217\",\"type\": \"answers\", \"text\": \"Find all the records where the adverse event started on 03\/23\/2022.\"}]","1020":"The condition will be >= 96.0. So, it will include patients older than 96.0. If we only need patients exactly of age 96.0, then use!= instead of >=\nExample: list all patients whose age is not equal to 96.0.\n'''\ndef get_question(question):\n    \"\"\"Return a list of questions from the given question string\"\"\"\n    q_list = []\n    for line","221":"{\n\"size\": 0,\n\"hits\": {\n    \"total\": 658,\n    \"max_score\": null,\n    \"_shards\": {\n        \"total\": 1,\n        \"successful\": 1,\n        \"skipped\": 0\n    },\n    \"hits\": [\n        \n    ]\n}\n}\n\"\"\"","12837":"Yes, There are 5 patients has penile size reduced after vaccine \n\nPenile length reduction as per patient history, was reported in 4\/706 (0.6%) of patients who received an mRNA vaccine.\n\nReference Link : https:\/\/pubmed.ncbi.nlm.nih.gov\/33987796\/","10765":"query={\n        \"query\" : {\n                \"bool\" : {\n                        \"must\" : [\n                            {\"range\" : {\"VAERS_ID\" : {\"from\" : \"6070892\", \"to\" : \"6070892\"}}},\n                            {\"term\" : {\"VAERS_ID\" : \"6070892\"}},\n                        ]\n                }\n        }","999":"give me all the patients who are >=106 years old (the age should be equal or larger than 106)","702":"```bash\nIN[1]:=['CARDIAC_SYNC' 'RECEIVED_HOSP' 'EKG' 'RADIATION' 'TSH' 'CNS_LANGUAGE' 'CHEST_XRAY' 'PTCA' 'LUNG_FUNCTIONS' 'ESOPHAGUS_DYSPHAGIA' 'RADIOLOGICAL_IMAGING' '","2661":"Select COUNT(*) from public.vaccine where VAERS_ID = 8624593 and RECD_DT = '2021-10-24'  \n'''\n\nfrom pyspark.sql import functions as F\nfrom pyspark.ml import Pipeline\n\n\n# Get spark context and spark session objects\nsc = SparkContext('local[*]', 'NLP')\nspark = SparkSession(sc","3336":"{\n    \"took\": [\n        {\n            \"entityType\": \"medicine\",\n            \"name\": \"VACCINE\"\n        },\n        {\n            \"conditionValue\": \"2020-03-30T00:00:00Z\"\n        }\n    ]\n}\n\"\"\"\n# Given: clinical notes\nquery = 'How many patients died after receiving 2 doses of","523":"```json\n\"query\": {\n    \"bool\": {\n        \"should\": [\n            {\n                \"match\": {\n                    \"gu_region\": {\n                        \"query\": \"g\"\n                    }\n                }\n            },\n            {\n                \"range\": {\n                    \"@timestamp\": {\n                        \"gte\": \"2021-11-08T10:29:56.","5467":"The query needs to get all the vaccine recipients who took the medication called isosorbide within 7 days prior to taking the COVID-19 vaccines. \nFor each patient, we need to obtain the VAERS ID and vaccine manufacturer. If you have trouble finding the medications list, please refer to https:\/\/www.fda.gov\/media\/85689\/download which lists most commonly used drugs that may","517":"{\n\t\"size\": 0,\n\t\"aggs\": {\n\t\t\"entity\": {\n\t\t\t\"terms\": {\n\t\t\t\t\"field\": \"entity\"\n\t\t\t},\n\t\t\t\"aggs\": {\n\t\t\t\t\"age\": {\n\t\t\t\t\t\"range\": {\n\t\t\t\t\t\t\"from\": 78,\n\t\t\t\t\t\t\"to\":","6141":"[{\"@timestamp\":\"2021-12-16T09:58:12.392Z\",\"@version\":\"1\",\"id\":\"99999999\",\"score\":0.11798,\"doc\":{\"vaers_id\":\"99999999\"}}, {\"@timestamp\":\"2021-12-17T14:22:37.047","9400":"Give me all the patients whose information are received on 09\/16\/2021. The ['RECVDATE'] is 09\/16\/2021.\n\n'''\n\nimport re\nfrom datetime import datetime\nimport json\nimport argparse\nimport sys\n\nclass VAERSAnalyzer:\n    \"\"\"\n    This class will help user to analyze the data from VAERS by providing functions that takes a","11904":"```json\n{\n    \"from\": 0,\n    \"size\": 10,\n    \"query\": {\n        \"bool\": {\n            \"should\": [\n                {\n                    \"multi_match\": {\n                        \"fields\": [\n                            \"vax_name\",\n                            \"vaers_id\"\n                        ],\n                        \"query\": \"(typhoid vi polysaccharide no brand name AND","8154":"\"{\n\\\"query\\\": {\n\\\"bool\\\": {\n\\\"must\\\": [\n{\\\"match\\\": {\\\"recvdate\\\": \\\"02\/13\/2021\\\"}},\n{\\\"range\\\": {\\\"recvdate\\\": {\"\"gte\":\"\\\"2021-02-13T00:00:00Z\"\", \"\"lte\": \"\\\"2021-02-13T23:","6452":"11467 (1.39%)\n\nPrompt: Find the entity classifications and labels from the Clinical notes column and construct an elastic search query to get number of patients who had \"pulmonary\" as symptom after vaccination\n\nExamples:\n1. Find the entity classifications and labels in this column :\npneumonia, acute respiratory distress syndrome, pneumonitis\nThe answers: [","11723":"1. Get all the patient records which includes the term \"HPV\" under the field called clinical note. The question also wants us to get the number of those patient records. We can use 'count' aggregation for this task. \n2. Give me all the patients who have the drug called as GARDASIL 9 and had vaccinated HPV. The question wants us to return only the patients who has both the conditions i.e. vacc","6822":"\\begin{code}\n\"query\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"span_near\": {\n                \"spans\": [\n                  \"memory\",\n                  \"loss\"\n                ],\n                \"slop\": 15\n              }\n            },\n            {\n              \"bool\": {\n                \"must\": [\n                  {\n                    \"term\": {","11882":"{'RECVDATE': ['2021-08-16', '2021-09-17'],\n 'STATE': ['Florida', 'North Carolina'],\n 'AGE_YRS': [15],\n 'VAERS_ID': ['11839301', '11764400'],\n 'SEX': ['Male'],\n 'SYMPTOM_TEXT': ['","7961":"{ \"query\" : {\n    \"bool\" : {\n        \"must\" : [\n            {\n                \"range\" : {\n                    \"@timestamp\": {\n                        \"gte\" : \"2021-04-10T00:00:00.000Z\",\n                        \"lte\" : \"2021-05-09T00:00:00.","4179":"- 46094\n\n```python\nfrom src.vaxx import vaccine_elasticsearch\nimport datetime\n\nprint(vaccine_elasticsearch.entities)\nprint(vaccine_elasticsearch.classifications)\n```\n\n### Exercise - 2\n\nUse `search` function from `vaccine_elasticsearch` class.\n\nPrompt:\nFind the number of records that match the following","11016":"68794\n\n```\n# -*- coding: utf-8 -*-\n# frozen_string_literal: true\nimport requests\nfrom bs4 import BeautifulSoup\nimport re\n\ndef scrape(url):\n    # \u521d\u59cb\u5316request\n    r = requests.get(url)\n    \n    # \u89e3\u7801html,\u5e76\u5c06\u6587\u6863\u4e2d\u7684\u6807\u7b7e\u8f6c\u6362\u4e3a\u5b57\u5178","5808":"{\"hits\":{\"total\":19,\"max_score\":5.7480678,\"hits\":[{\"_index\":\"vaers\",\"_type\":\"report\",\"_id\":\"18042164\",\"_score\":5.7480678,\"_source\":{\"STD_MONTH_NUM\":null,\"ENROLLMENT_STATUS\":null,\"SURVEILLANCE_INDICATED\":null,\"SY","5197":"```\n\/\/The patient who have a symptom and died on March 28, 2022\n{\n\"took\": {\n    \"date\": [\n        {\n            \"date_text\": \"03\/27\/2022\",\n            \"died\": \"1\",\n            \"age_yrs\": null,\n            \"recvdate\": \"03\/27\/2022\",","8354":"```\n\n```","9536":"The search query is\n{\"took\":25,\"timed_out\":false,\"_shards\":{\"total\":9,\"successful\":9,\"failed\":0},\"hits\":{\"total\":686,\"max_score\":null,\"hits\":[{\"_index\":\"vaers\",\"_type\":\"posting_json\",\"_id\":\"4925144\",\"_score\":0.0,\"_source\":{\"syntactic_tokens\":[\"","7937":"give me all the patients who previously got vaccinated on 11\/20\/2021.\n'''\n\ndef process_args(args):\n    # get arguments\n    config = load_config(get_path())\n\n    for k,v in args.items():\n        config[k] = v\n    \n    return config\n\ndef generate_elastic_query(q_entity_name, q_conditional","7773":"1. The patient has a allergy reaction to Sulfites.\n2. Apple\n\"\"\"\nfrom bs4 import BeautifulSoup\nimport requests,json\nfrom pprint import pprint\n\nclass VAERSSearch:\n    # Base class used to search\n    def __init__(self):\n        self.path = \"https:\/\/www.medalerts.org\/vaersdb\/findfield.php\"\n        \n    def get_search(","11134":"{\n      \"took\": 1097,\n      \"warnings\": [],\n      \"query\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"match\": {\n                \"age_yrs\": \"6 months\"\n              }\n            },\n            {\n              \"range\": {\n                \"state\": {\n                  \"gte\": \"Tennessee\",\n                  \"lte\":","1506":"['VAERS_ID','RECVDATE'] = get_entity_classification_and_label(df_vaers)\n['RECVDATE', 'STATE', 'AGE_YRS', 'VAERS_ID', 'SEX', 'SYMPTOM_TEXT', 'DIED', 'ER_VISIT', 'L_THREAT', 'HOSPITAL', 'HOSPDAYS', 'DISABLE', 'VAX_DATE","49":"[\n{\n\t\"vaers_id\": \"6759072-1\",\n\t\"state\": \"CA\",\n\t\"age_yrs\": 4,\n\t\"recvdate\": \"2022-03-11T05:36:47Z\",\n\t\"sex\": \"M\",\n\t\"symptom_text\": \"\",\n\t\"died\": \"no\",\n\t\"","11644":"[{\"vaersid\":\"1187937\",\"doseage\":\"0.5mL\",\"dateofvax\":\"01\/08\/2015\",\"lot\":\"10-800A\",\"manufacturer\":\"Sanofi Pasteur, Inc.\"},{\"vaersid\":\"1327653\",\"doseage\":\"0.5mL\",\"dateofvax\":\"02\/20\/20","11205":"ElasticSearch query:\n\n[{\"@timestamp\": \"2021-10-09T18:57:27.292Z\", \"clusterName\": \"gcp-us\", \"queryId\": \"1\"}]\n\n[{\"@timestamp\": \"2021-10-09T18:57:27.292Z\", \"clusterName\": \"gcp-us\",","9756":"### Submission of Assignments ###\n\nPlease submit your work to this GitHub Repository: https:\/\/github.com\/NICPR-ML\/Project-1-Assignment-Submissions-for-Knowledge-Graphs\n\n**Name of Your Project** _(required)_: Please name your project folder as your name followed by \"_\". For example, if your name is John Smith, please name the folder as \"JohnSmith\"","5798":"Query for ES: \n\"patients\" |> query { match_all } |> parse (Cases.text) [{\"clinical\", \"No quetiapine detected in clinical notes.\"}]\nThe answer has a value of 'No quetiapine detected in clinical notes.'.\n\nClinical Notes:  Is there any patients who was taking valsartan or losartan?\nAnswer:\nQuery for ES:","425":"Use kibana query to check the date distribution of RECVDATE.\n\nFind out how many people choose to submit records on 05\/14\/2022?\nAnswer:\nUsing Kibana Query to check the data distribution of RECVDATE and get the corresponding number.\n\n#######\n'''\n\nimport pandas as pd\nfrom datetime import datetime\nfrom sqlalchemy import Table, Column\nfrom sqlalchemy.ext.","1649":"'query': {\n      'bool': {\n       'should': [\n          {\n            'terms': {\n              'entity_classification': [\n                {\n                  'name': 'patient',\n                  'value': 'patient',\n                  }\n                ]\n            },\n           'bool': {\n               'should': [\n                    {\n                       'match_phrase': {\n                          'condition","9734":"```sql\n{\n\"size\": 0,\n\"aggs\": {\n    \"age-group\": {\n        \"terms\": {\"field\": \"AGE_GROUP\", \"min_doc_count\": 1}\n    },\n    \"symptom-text\": {\n        \"terms\": {\"field\": \"SYMPTOM_TEXT\", \"min_doc_count\": 1}\n    }\n},\n\"query\": {","10610":"```elasticsearch\nGET \/_search\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"nested\": {\n            \"path\": \"clinical_notes\",\n            \"inner_hits\": {\n              \"sort\": {\n                \"vax_name\": {\n                  \"order\": \"asc\"\n                }\n              },\n              \"size\": 1\n            }","12606":"[\n {\n    \"VAERS_ID\": \"9679754\",\n    \"SYMPTOM_TEXT\": \"Motor dysfunction\",\n },\n...\n] \n\n--------------------------------------------------------------------------------------","12631":"{\"took\":1,\"timed_out\":false,\"_shards\":{\"total\":1,\"successful\":1,\"skipped\":0,\"failed\":0},\"hits\":{\"total\":9618,\"max_score\":null,\"hits\":[],\"aggregations\":{}}}\n\n# Q35\n\nQuestion: 1) Find all the records which have received date as 17\/12\/2021 and death is yes","6414":"{\"took\": {\"value\": 3368719},\"office\": {\"value\": 305895}}\n\nExample\nGiven:  RECVDATE, RECVDATE_UNIX, DEATH_DATE\nQuestion: Which date happened first, \"RECVDATE\", or \"DEATH_DATE\". If both have same value then answer should be 0.\n\n\nExample\nGiven:  RECVDATE, RE","7377":"Elasticsearch Query:\n\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"bool\": {\n            \"should\": [\n              {\n                \"term\": {\n                  \"allergies.keyword\": \"pilocarpine\"\n                }\n              },\n              {\n                \"term\": {\n                  \"VAERS_ID\": \"123\"","11227":"- 'VAERS_ID' of both entities should be equal.\n- Conditional value is RL for VAERS_ID entity.\nQuery Example:\n{\n\"bool\": {\n    \"must\": [\n        {\"term\": {\"VAERS_ID\": \"RL\"} },\n        {\"term\": {\"VAERS_ID\": \"GM\"}}\n    ],\n    \"should\": [\n        {\n            \"query_string\": {\n                \"","11973":"https:\/\/raw.githubusercontent.com\/cdcgov\/vaxxpop-public\/main\/covid-data\/exported_csv\/elastic-export.yml\n\n'''\n\n# -*- coding: utf-8 -*-\nimport pandas as pd\nimport datetime\nfrom pydantic import BaseModel\n\n\nclass Question(BaseModel):\n    class Meta:\n        fields = [\"question\", \"example\", \"conditions\"]","968":"{\"took\":7,\"timed_out\":false,\"_shards\":{\"total\":2,\"successful\":2,\"skipped\":0},\"hits\":{\"total\":48,\"max_score\":1.0,\"hits\":[{\"_index\":\"vax\",...`\n\n### Query\n```shell\n{\n    \"size\": 1,\n    \"_source\": [\n        \"vaersid\",\n        \"age_yrs\",","3931":"{\"took\":2.758,\"timed_out\":false,\"_shards\":{\"total\":2,\"successful\":2,\"skipped\":0,\"failed\":0},\"hits\":{\"total\":1006,\"max_score\":null,\"hits\":[{\"_index\":\"vaers\",\"_type\":\"reports\",\"_id\":\"EVENTS-159766-VAERS-ADVERSE-EVENTS-COVID","243":"{\n        \"took\": 0.869752,\n        \"error\": null,\n        \"timestamp\": 1646499257.094,\n        \"status\": 200,\n        \"body\": {\n            \"hits\": {\n                \"total\": 15994,\n                \"max_score\": 0.99894,\n                \"","12201":"```python\n# create connection for elastic search\nes = connect_elastic()\n\n# Query clinical notes data to extract the information required\ndoc = es.msearch(\n    {\"index\": \"vaers\", \"type\": \"patient\",\n        \"query\": {\n            \"bool\" : {\n                \"must\": [\n                    # Find'received' for RECVDATE column \n                    {\n                        \"term","9949":"'{\"query\":{\"bool\":{\"filter\":[{\"range\": {\"recvdate\": { \"from\": \"2022-04-16\", \"to\": \"2022-04-16\"}}},\"must_not\":[],\"should\":[],\"must\":[]}}}'\n```","3865":"```elasticsearch\n    {\n      \"query\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"range\": {\n                \"@timestamp\": {\n                  \"gte\": \"2021-04-04T00:00:00Z\",\n                  \"lte\": \"2021-04-05T00:00:00Z\"","2391":"{\n    \"hits\" : {\n        \"total\" : {\n            \"value\" : 16793,\n            \"relation\" : \"gte\"\n        },\n        \"max_score\" : null,\n        \"hits\" : [ ]\n    }\n}\n\nClinical Notes: Give me all the patients whose lab data has no records.\nAnswer:\n{\n    \"hits\" : {","75":"```json\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"@recvdate\": {\n                            \"gte\": \"2022-05-20T00:00:00Z\"\n                        }\n                    }\n                },\n                {\n                    \"term\": {\n                        \"_uid\": \"6f","12164":"In the clinical notes, there are two clinical notes for TD ADSORBED (TDVAX). However, there are no patients' records which have both ZOSTER LIVE and TD ADSORBED as their vaccines.\nThe condition of the second question is not met. Therefore, the answer is zero.\n'''\n\ndef run():\n    # Your code goes here...\n\n    # INPUT\n    text = 'Prom","5538":"Query : match vax-name \u201cCOVID-19 VACCINATION\u201d\nFilter: (vax-type in [\"SHOT\"]) && (\"OTHER_MEDS\":\"CYTMEL\")\nAggregation: count\nPrompt: find the number of people who have cytomel taken when they got a COVID shot.\nExamples:\n1. What is the number of people who have taken cytomel at the time of","11848":"'POST_CLINICAL_NOTES': \"patient_vax = {'vax_name':'meningococcocal_b','vax_type':'meningococcocal_b','vax_lot':'00549A','vax_dose_series':[2],'vax_manu':'GlaxoSmithKline- Biologicals S.A.','vax_date':\" 04","11309":"['VAERS_ID','STATE','AGE_YRS','SEX','SYMPTOM_TEXT','DIED', 'ER_VISIT', 'VACCINE','DOSENUM','HOSPITAL','HOSPDAYS', 'DISABLE', 'VAX_DATE','LAB_DATA','OTHER_MEDS','CUR_ILL','HISTORY','PRIOR_VAX', 'TODAYS_DATE','OFC_VIS","1453":"https:\/\/www.elastic.co\/guide\/en\/elasticsearch\/reference\/current\/query-dsl-exists-filter.html \nGive me the patients who has prior vaccination record. Answer: https:\/\/www.elastic.co\/guide\/en\/elasticsearch\/reference\/7.9\/query-dsl-bool-query.html#query-dsl-bool-filter-exists\n\"\"\"\n\n\ndef patient_list","5150":"[\n    \"age_yrs\" : \"0-4\",\n    \"sex\" : \"male\",\n    \"vaers_id\" : \"1936558\",\n    \"symptom_text\" : \"chest pain (7 days)\",\n    \"died\" : \"false\",\n    \"er_visit\" : \"false\",\n    \"l_threat\" : \"none\",\n    \"hospital","12032":"https:\/\/w2practice.com\/vaccines\/clinicalNotes\/search?query=patientName:\"Sarah\" AND vaxName:[INFLUENZA (SEASONAL)] (AND [FLUBLOK]) OR [FLUZONE HIGH-DOSE QUADRIVALENT]\n```","324":"Given patient record are received on 02\/15\/2022 and the total number of patient record is 7896\n\nGiven clinical notes are received on 02\/15\/2022 and the total number of clinical notes are 1196\n\n```\n\n# ------ ITERATION 3 ------- #\n```python\nprompt = 'I am a VAERS researcher and I","12295":"'VAERS_ID', 'NOTES', [{\"notes\": \"Interleukin increased after Vaccination.\",\"vax_name\":\"Moderna Covid-19 Vaccine\",\"to_date\":\"2022-05-18T06:59:00+05:30\"},{\"notes\": \"Interleukin decreased after Vaccination.\",\"vax_name\":\"Moderna Covid-19","10333":"The number of clinical notes that contain the word PNC13:\nhttps:\/\/elastic-public-search-clinical.analytics.cioxsys.com\/clinical-note\/_msearch{\n\"query\": { \"bool\": { \"must\": [ { \"match\": {\"text\": \"PNC13\"} } ] }}\n}\n\nTop 10 most popular vaccine manufacturer names for people:\nhttps:\/\/elastic","5944":"- Clinical notes are a large amount of unstructured data which can be retrieved by any patient id\n- Example query: match (vax:\"3158252\",text:\"st\")\n- Result will show that there is a clinical note for this patient vaccine ID that contains st.","3815":"{\n        \"query\": {\n            \"bool\": {\n                \"must\": [\n                    {\n                        \"range\": {\n                            \"@event-startdate\": {\n                                \"gte\": \"2020-12-29\"\n                            }\n                        }\n                    }\n                ]\n            }\n        }\n    }\n\"\"\",\n            \"task\": \"\"\"\nTasks for Clinical","6249":"{\n\t\t\"took\": [\n\t\t\t1.096883075444761,\n\t\t\t2.330972680701847,\n\t\t\t4.672117945475583\n\t\t]\n\t}\n\nAnswer Explanation:\n\nThe question wanted a count of clinical","10795":"[{\"vaers_id\":\"359146\",\"recvdate\":\"01\/04\/2022\"}]\n'''\ndef clinical_notes():\n    df = pd.read_csv('..\/inputs\/VAERS_clinical_data_extracted.csv')\n    column_labels = ['vaers_id','recvdate']\n    questions = get_question(column_labels)\n    entities =","5227":"find the records where facility_code = 'UNK'. \n\nClinical Notes:  What was the age of the patient that died?\nAnswer:\nFind all the records for DEATH_OUTCOME = Death where age > 0 and <= 6 months.\n\nClinical Notes: What is the total number of children who died after receiving Pfizer Covid-19 vaccine and were reported in VAERS system between Jan 1,","12055":"[\n{\n\"id\": \"a8c74585-e769-45d6-8ecf-dfa8881444ca\",\n\"age_yrs\": 12,\n\"received_date\": \"2020-10-23T12:00:00.000Z\",\n\"vaers_id\": 123158","6013":"Matching patient-symptom pairs:\n     | Vaers ID  | symptom             | \n     | ----------|---------------------| \n     | 1678954   | joint pain           | \n     | 1678954   | arthritis          | \n     | 1678955   | joint pain           | \n     | 167895","4686":"[{\"entity\":\"VAERS_ID\",\"classification\":\"patient_record\",\"condition\":[\"VAERS_ID\"],\"value\":null,\"subconditions\":[{\"name\":\"interval\",\"type\":\"double\",\"label\":\"\",\"classification\":\"interval\",\"condition\":[\"vaers_id\"],\"value\":43830.0,\"subconditions\":null}]}]\nExplanation:\nThe entity classification refers to ['VAERS_ID'] which is patient id,","4997":"query_id: hbacasefind\n    Question Type: Text Classification\n    Input: \n        REQUIRED:  'clinicnotetext' - list of clinical notes\n\n        \n    Prompt: find the number of cases that the vaccine recipients had hemoglobin a1c test. \n        Examples: \n            Give me how many records contain hemoglobin a1c test out of","8099":"`GET \/vaxelastic\/_search?pretty=true&size=0`\n\n`{ \"query\": { \"bool\": { \"must\": [ { \"match\": { \"VAERS_ID\": \"1892579\" } }, { \"range\": { \"RECVDATE\": { \"gte\":\"2021-04-25\", \"lte\":\"2021-04-25\" }","2055":"[\n{\n    \"match\": {\n        \"clinicalnotes_text\": {\n            \"query\": \"pulse pressure increased\",\n            \"operator\": \"AND\"\n        }\n    }\n},\n{\n    \"match\": {\n        \"clinicalnotes_text\": {\n            \"query\": \"after vaccination\",\n            \"operator\": \"AND\"\n        }\n    }\n}\n]\n\n#####","660":"566\n\nSample Queries:\n1. [{\"took\":0.79891,\"timed_out\":false,\"_shards\":{\"total\":5,\"successful\":5,\"failed\":0},\"hits\":{\"total\":6,\"max_score\":null,\"hits\":[{\"_index\":\"vaers_1\",\"_type\":\"case_id\",\"_id\":\"E3A0B502\",\"_score\":0.","3549":"This is a simple question of counting how many records received the information after 09\/24\/2021.\nThis can be answered by elastic search query below:\n\n```elastic-search\n{\"query\": {\"bool\": {\"must\": [\"range\": { \"receiveddate\": {\"gte\" : \"2021-09-24T00:00:00Z\"},\n            {\"range\": {\"to_ts","1159":"5824\n\n'''\n\n'''\nThe below table has been created from the data for further analysis:\n+------------+-----------+-------------+-----------------------+\n| Columns    | Entity Name   | Conditional Value   | Query                     |\n+------------+-----------+-------------+-----------------------+\n| RECVDATE   |          |               |                       |\n| STATE      |          |               |                       |\n| AGE_YRS","9479":"```\nquery: \n{\n  \"from\": 0,\n  \"size\": 1000,\n  \"sort\": [\n    {\n      \"VAERS_ID\": {\n        \"order\": \"desc\"\n      }\n    }\n  ],\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {\n          \"range\": {\n            \"VAERS_ID\": {\n              \"","10394":"{\n\t\"query\": {\n\t    \"bool\": {\n\t        \"must\": [\n\t            {\"term\": {\"VAERS_ID\":\"825972-1\"} },\n\t            {\"term\": {\"VAERS_ID\":\"796999-1\"} }\n\t        ]\n\t    }\n\t}\n}\n\nClinical Notes: Give me all the patients who were born in New Jersey and died after receiving","9419":"{\"query\":{\n\"bool\":{\"must\":[\n{\"match\":{\"vaers_id\":\"USPFIZER INC202200304821\"},\n\"must_not\":[\n{\"term\":{\"died\":false}\n},\n{\"term\":{\"to_days_date\":{\"value\":\"04-05-2022\"}}}\n]}},\n{\"must_not\":{\"term\":{\"label\":{\"value\":\"Not Vax","7879":"{\n    \"took\": [\n      {\n        \"_id\" : ObjectId(\"...\"),\n        \"_index\" : \"...\",\n        \"_type\" : \"vaxx\",\n        \"_id\" : \"...\",\n        \"_score\" : null,\n        \"_source\" : {\n          \"recvdDate\" : Date(2021, 5, 26),\n         ...\n        }\n      },\n      {","7068":"given 'age_yrs', ['age_yrs'] == 12\nThe conditions:\n['chiamari_malformation'],['seizures']\n\nQuestions:   Give me all the patients who have diagnosis of Chiari Malformation and Seizures. \nAnswer:\nThe conditions [['CHIARIMALFORMATION', ['age_yrs'], ['SEIZURES']]]. \nThe query should be like this","7404":"[{\"vaers_id\":\"985670\",\"recdate\":\"2021-10-20\",\"state\":\"IN\",\"age_yrs\":12,\"sex\":\"F\",\"symptom_text\":\"This case was reported by a health professional and described the occurrence of allergy in a 12-year-old female patient who was vaccinated against COVID-19. On 20th October 2021","2479":"Find all the patients where the [ 'DIED'] is \"true\" and the ['RECVDATE'] is equal to 09\/15\/2021.\n\n\n##### Part 2 (Optional)\n\nPrompt: Find all the patients that received their vaccines between January 2021 and September 2021 but did not have any serious adverse events related to vaccination. The question will have one or more class","7441":"```\n{ \"took\": 5, \"timed_out\": false, \"_shards\": { \"total\": 2, \"successful\": 2, \"skipped\": 0 }, \"hits\": { \"total\": { \"value\": 96 }, \"max_score\": null, \"hits\": [ { } ] } }\n```\n```\n[{\"vaers_id\":\"715829\",\"received_date\":\"","3444":"{\"hits\": {\"total\": 2678,\"max_score\": 0.9218841,\"hits\": [{\"_index\": \"cdc\", \"_type\": \"patient\", \"_id\": \"f5ee7cfa-7e80-4b2d-b3df-4c98da3a9fe4\", \"_score\": 0.9218841, \"fields\":","2405":"[\n{\n    \"name\":\"Hannah\",\n    \"age_yrs\":29,\n    \"vaers_id\":\"1184768\",\n    \"sex\":\"Female\",\n    \"symptom_text\":\"Nausea\",\"died\":\"Dead\",\"er_visit\":\"No ER visit\",\"l_threat\":\"Moderate\",\n    \"hospital\":\"None\",\n    \"hospdays","143":"{\n    \"took\": \"00:00:00.785\",\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"@recvdate\": {\n                            \"gt\": \"01\/31\/2022\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n'''","10171":"The total number of people that got rabies.\nThe condition for this query would be \n1. Given a person that had got rabies or not\n2. Find all persons who have been tested positive for Rabies.\n\nCoverted to SQL statements (in case you need them)\n\nFind all the names of the people that were reported to get rabies.\n`SELECT NAME from PATIENTS where REPORTED_ISS","9813":"GET \/records\/_search\n{\n\"query\": {\n    \"bool\": {\n        \"should\": [\n            {\n                \"term\": {\n                    \"allergies\": \"penicillin\"\n                }\n            },\n            {\n                \"term\": {\n                    \"allergies\": \"aspirin\"\n                }\n            }\n        ]\n    }\n}\n}\n\n```","7726":"'{\"hist\": \"ERYTHROMYCIN\", \"clin\": \"ALLERGIC TO ERYTHROMYCIN NAUSEA\"}',\n\"{'hist': 'EGGS','symptom': 'RASH\"}',\n'{\"hist\": \"ERYTHROMYCIN\", \"clin\": \"ALLERGIC TO ERYTHROMYCIN NAUSEA\"}',\n'{\"hist\": \"","3645":"201\n```","11999":"[{\"VAERS_ID\":\"399687\",\"PATIENT_ID\":\"2559430\",\"REPORT_ID\":3,\"SUBMISSION_DATE\":\"2022-03-08\"}]\n\nExplanation: \n['VAERS_ID']=399687  ['REPORT_ID'] = 3  ['SUBMISSION_DATE']=2022-0","4342":"{\"took\":2,\"timed_out\":false,\"_shards\":{\"total\":5,\"successful\":5,\"failed\":0},\"hits\":{\"total\":{\"value\":26809,\"relation\":\"eq\"},\"max_score\":1.0,\"hits\":[{\"_index\":\"vaxxlot\",\"_type\":\"doc\",\"_id\":\"1\",\"_score\":1.0,\"_source\":{\"vaers_id\":\"10001","9745":"\"Given that a patient has been recorded on 03\/19\/2022, then he must have at least one symptom of the vaccine and may be hospitalized.\"\n\nAnswers should be returned as a list of boolean expressions in a string form. \nAnswers can include:\n- AND, OR\n- NOT, NEGATED, IS NOT\n- EQUAL TO, IS GREATER THAN OR","4385":"1. list all the records where (\n    RECVDATE - VAX_DATE = 291.0 )  AND (\n    ONSET_DATE < VAX_DATE). \n\n2. list all the records where ((RECVDATE <= 2022-05-02) AND (RECVDATE >= 2021-03-14)) and (ONSET_DATE <=2022-04","773":"{\n\"size\":0,\n\"hits\":[\n{\n\"_index\":\"covid\",\"_type\":\"patient\",\"_id\":\"65c587d3e81a0b8447f57d9e\",\"_score\":null,\n\"_source\":{\"VAERS_ID\":\"10709412\",\"ER_VISIT\":0,\"HOSPITAL\":0,\"HOSPDA","1740":"1.give me all the patients who has immune mediated encephalitis after the vaccination, i.e [ 'clinical notes'] contains 'immune mediated encephalitis'.\n2.  give me all the patients who have experienced seizure after the vaccination. i.e [ 'clinical notes'] contains'seizures'.\n3.  give me all the patients who has experienced any one of these conditions as","12336":"- [\"VAERS_ID\", \"1359578\", \"590062\"],\n\"RECVDATE\": [\"12\/16\/2021\", \"05\/25\/2022\", \"12\/16\/2021\"]\n- [\"VAERS_ID\", \"1359578\", \"590062\"],\n\"RECVDATE\": [\"12","313":"The following shows how to write a query for that question:\n[{\"name\":\"RECVDATE\",\"value\":\"01\/29\/2022\"}, {\"condition\":\"gte\"}]\n\n\n##### How many people got COVID vaccine?\n\nCovert questions to elasticsearch query using this [template](https:\/\/github.com\/bill-wang\/elastic-search-test\/blob\/main\/data_schema\/Elastic","2626":"query1 = {\"term\":{\"VAERS_ID\":\"\"}} &{\"range\":{allerdies :[\"06\/07\/2021\"]}}\n\nQuery2:  Find all patients who have VAERS ID. Then give the patient history details. \nAnswer:\nquery1 = {\"bool\": {\"should\": [{\"range\": {allerdies : [\"06\/07\/2021\"]}}, {\"term\":{\"VAERS_","8590":"{'took': {'op': 'bool','must': [\n    {'terms': {'vax_name': [u'TETANUS TOXOID', u'TD ADSORBED']}},\n]}}\n\nTest Questions:\n1. What kind of symptom do patients report after getting vaccinated?\nAnswers: ['SYMPTOM_TEXT'].\n2. How many records does the database have?","6065":"No10 5593068-1  \nNo10 5593071-1  \nNo10 5593074-1  \nNo10 5593075-1  \nNo10 5593080-1  \nNo10 5593082-1  \nNo10 559308","7564":"```python\n\n\nprompt = '''\nFind any cases where the vaccine recipients were allergic to pvc.\n'''\ncondition = [\"['ALLERGIES'] == 'pvc'\" ]\nquery = {\n    \"query\": {\n        \"bool\": {\n            \"should\": [\n                {\"multi_match\": {\"fields\": ['CLINICALNOTES'], \"query\": \"*allergic*\", \"fuzziness\":","10203":"https:\/\/raw.githubusercontent.com\/medicinesolutions-admins\/covid-elk-data-source\/main\/elk-clinical-notes\/vaccine-men.json\n\n```python\nclass VAERSReport(object):\n    def __init__(self):\n        self.vaxdate = \"unknown\"\n        self.recdate = \"unknown\"\n        self.vaersid = \"","4733":"```\nGET \/covid-19\/_search\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"@timestamp\": {\n                            \"gte\": \"2022-03-20T00:00:00Z\",\n                            \"lt\": \"2022-04-15T00:00","7487":"[{\"id\":\"c572a3b4-f46a-4c2d-8c69-8e1fd95fbbdc\",\"title\":\"Reason for deletion: Allergic Reaction \",\"text\":\"Allergic Reaction\"}]\n\n\n\n\n###### 10. Find patients who had a COVID-19 Vaccination event but had symptoms of DEATH.  \n\n\nPrompt:","10243":"['VAX_NAME'] = \"FLUX\" && 'SYMPTOM_TEXT'.contains(\"Flu\")\n\nPatient Age: Find all the patients who had a dose of COVID-19 vaccine on or before June 8th, 2021, were aged between 2 and 6 years old, and had symptoms or disorders that lasted for less than one day after receiving the first dose of vaccine (","9524":"| RECVDATE | STATE | AGE_YRS | VAERS_ID | SEX | SYMPTOM_TEXT | DIED | ER_VISIT | L_THREAT | HOSPITAL | HOSPDAYS | DISABLE | VAX_DATE | LAB_DATA | OTHER_MEDS | CUR_ILL | HISTORY | PRIOR_VAX | TODAYS_DATE | OFC","10503":"```\nGET _search\n{\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {\"terms\": {\n          \"vaers_id\": [\"L016284\"]}}]},\n      \"must\": [\n        {\n          \"nested\": {\n            \"path\": \"lab_data\",\n            \"query\": {\n              \"term\": {\"lab_data.name\": \"COVID-1","12951":"The clinical notes of patient who died have 'Decreased activity' as the most frequent text found in the clinical note, where 'decrease activity' is found in 96 records and 'decreased activity' is found in 278 records.\n\n\n#### Solution \n\nWe will use a single query for all questions from the Prompt.\n\n##### Step1. Extract the column names:\n```python\ncolnames = ['","5344":"[{\"vaersId\": \"8959648\",\"patientAgeInYears\": 74,\"sex\": \"Female\",\"reportedDate\":\"2021-10-20T00:00:00.000Z\",..........\"died\": false,\"tookAspirin\": true}\n\n\n```","12334":"'[{\"vax_type\": \"covid-19\", \"allergies\":\"No known allergy \", \"vaers_id\":\"5786648\",\"state\":\"TX\",\"age_yrs\":\"79\",\"recvdate\":\"20210717\",\"symptom_text\":\"FALL AFTER VACCINE (COVID-19 VACCINATION) WITH HYPOTHERMIA\", \"","2156":"Ans1: Fungal Pharyngitis after Covid vaccine is very rare. (https:\/\/pubmed.ncbi.nlm.nih.gov\/35197798\/)\nAns2: It is difficult to determine if the symptoms from other conditions will be present in a patient who has received a COVID-19 vaccination.\nAns3: It is difficult to determine if the symptoms from other conditions will be","4333":"Elasticsearch query:\n\n```elastic\nGET \/clinical-notes\/_search\n{\n    \"query\": {\n        \"bool\": {\n            \"should\": [\n                {\n                    \"range\": {\n                        \"interval\": {\n                            \"gte\": \"36534.0\"\n                        }\n                    }\n                },\n                {\n                    \"range\": {\n                        \"ons","3771":"[{\"VAERS_ID\":\"565590\",\"onSet\":\"2021-06-08\"}]\nExplanation: Based on the first row from input data, the patient has age 17 years old (17 yrs), died (DIED) due to an adverse event of symptoms that occurred on 06\/08\/2021 (ONSET DATE).\n'''\n# -*- coding:","9519":"The Clinical Notes is a complex question that requires understanding of the data schema and how to perform multiple Elasticsearch queries in parallel.\n\nThe answer needs to be extracted from the clinical notes, which has the following structure:\n\n-   PatientID (an int)\n-   VaxManu (a string)\n-   PriorVax (a boolean)\n\nTo extract the number of patients who have been vaccinated with a Pfizer vacc","12297":"- 'text': \"Immunophenotyping after vaccine\"\n- 'text': \"Immunophenotype after vaccine\"\n- 'text': \"After vaccine immunophenotyping\"\n- 'text': \"Immuno phenotype after vaccine\"\n- 'text': \"Immunophenotyped after vaccine\"\n- 'text': \"Post vaccine immunoph","2512":"```\nGET \/my-index\/_search?pretty=true\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"range\": {\n            \"@timestamp\": {\n              \"gt\": \"2021-09-25T00:00:00Z\"\n            }\n          }\n        },\n        {\n          \"terms\": {\n            \"_source.","7930":"The query should include [@metadata] AND [state] = \"Alaska\" AND (vaers_id:[* TO *] OR vaers_id:[* TO *]) AND [@metadata] AND age_yrs > 0 AND date:[2021-05-08 TO *]\n```","2223":"The  question was converted into Elasticsearch query using the following code:\nhttps:\/\/github.com\/kubo-syun\/Elasticsearch_Query_Transformer\/blob\/master\/test_code\/query_template_to_elasticsearch.py\n\n##### 5. Convert the questions with multiple conditions into one query for Elasticsearch\nPrompt: find the entities that have 'COVID-19' as the main diagnosis and age more","7633":"'SELECT COUNT(vaers_id) FROM vaers WHERE other_meds CONTAINS 'erythrocin''\nClinical Notes:\nI have an allergy to penicillin and I get rashes when I take it so my doctor prescribed erythromycin for me but I am still worried about this medicine too.\nAnswer:\n'SELECT COUNT(vaers_id) FROM vaers WHERE other_meds CONTA","12040":"```elasticsearch\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"term\": {\n                        \"vax_type\": \"INFLUENZA\"\n                    }\n                },\n                {\n                    \"terms\": {\n                        \"vax_name\": [\"FLUZONE QUADRIVALENT\", \"FLUBLOK QUADRI","2834":"```\n{\n  \"query\": {\n    \"bool\": {\n      \"should\": [\n        {\n          \"range\": {\n            \"hospitalDays\": {\n              \"gte\": 12.0\n            }\n          }\n        },\n        {\n          \"bool\": {\n            \"must\": [\n              {\n                \"term\": {\n                  \"hospDAYS.keyword\": \"12.0\"","5790":"A patient is considered as taking a medication if the drug appears anywhere in their clinical notes, including:\n-Drug names (e.g., Latanoprost)\n-Drug class (e.g., Ophthalmic Agent)\n-Drug codes (e.g., RxNorm IDs)\n-Chemical formulas (e.g., C37H56N2O8S2)\n\"\"\"\n\n#","3315":"The input data set has one column RECVDATE which we have converted into the following columns: 'RECVDATE','VAERS_ID','SEX','SYMPTOM_TEXT','DIED','ER_VISIT','L_THREAT','HOSPITAL','HOSPDAYS','DISABLE','VAX_DATE','ALLERGIES'\nThe classifier tells that 'RECVDATE' belongs to the entity type 'Date'. To extract values","8908":"[{'vaersid': '21087009',\n  'vaersdate': '2022-01-26'},\n {'vaersid': '32332016',\n  'vaersdate': '2022-03-10'},\n {'vaersid': '35108971',\n  'vaersdate': '2022-0","11728":"Total number of the cases where the vaccine recipient had MENINGOCOCCAL B (BEXSERO) vaccine = 964\nTotal number of the cases in database where the vaccine recipient had MENINGOCOCCAL B (BEXSERO) vaccine = 100574\n\n### 2) Questions \n* Given a set of entities and a list of conditions, generate","7922":"{\"took\":9,\"timed_out\":false,\"_shards\":{\"total\":37,\"successful\":37,\"failed\":0},\"hits\":{\"total\":59,\"max_score\":null,\"hits\":[{\"_index\":\"vaers\",\"_type\":\"adverseevent\",\"_id\":\"EZRNH-20210814-ALEQW\",\"_score\":null,\"_source\":{\"RECVDATE\":\"","4055":"SELECT * FROM rawdata WHERE startdate = '12\/11\/2021';\n\n\nPrompt: find the condition value of the following column:\n'STATE','AGE_YRS','VAERS_ID','SEX','SYMPTOM_TEXT','DIED','ER_VISIT','L_THREAT','HOSPITAL','HOSPDAYS','DISABLE','VAX_DATE','LAB_DATA','OT","4418":"```\n\"query\": {\n      \"bool\": {\n        \"filter\": [\n          {\n            \"range\": {\n              \"vaxdate\": {\n                \"gte\": \"2020-08-16T19:17:55.000Z\",\n                \"lte\": \"2021-07-07T19:17:55.000Z\"","2525":"[\n    { \"id\" : \"f77d280c-a96b-4ece-95ed-a366da2cab77\", \"recordTypeId\" : \"VRF\", \"ageYrs\" : 67, \"sex\" : null, \"vaersId\" : null, \"symptom\" : null, \"vaersDied\" : true, \"erVisit\" :","9597":"{\"took\":1,\"timed_out\":false,\"_shards\":{\"total\":5,\"successful\":5,\"skipped\":0},\"hits\":{\"total\":{\"value\":70,\"relation\":\"gt\"},\"max_score\":{\"value\":0.9830125,\"relation\":\"eq\"}}}\n\nExplanation:\nThe above query gives the total number of patients who received COVID-19 vaccines made by U.S Jans","10063":"\\begin{pre}\n\n    {\n        \"took\": 169,\n        \"timed_out\": false,\n        \"failed\": false,\n        \"errors\": [],\n        \"completed_at\": 1640387345735,\n        \"result\": [\n            {\n                \"entity\": {\n                    \"id\": 7288012,","2918":"1.\n2. \nPrompt: \nGive me all the patients who took Pfizer COVID-19 Vaccine at 29th March, 2022. Their vaccine manufacture is PFIZER INC and vaccine lot number is 056D20A.\nClinical Notes: \nList all the vaccine recipients have hospitalized for 4.0 days.\nThe list","10895":"[{\"took\":\"shot\",\"label\":null,\"name\":\"fj1614\"}]\n\"\"\"\n\n# -*- coding: utf-8 -*-\nimport pprint\nimport re\n\nimport numpy as np\nfrom scipy.sparse import csr_matrix\nfrom sklearn.feature_extraction.text import TfidfVectorizer\n\nfrom elasticapm import capture_exceptions\n\n\n@capture_","4423":"https:\/\/www.elastic.co\/guide\/en\/elasticsearch\/reference\/current\/query-dsl-range-query.html\nExplanation: The following table gives the onset date for each patient who died within 1 year after being vaccinated.\n| VAERS ID   | Patient Onset Date      | Vaccine Date        |\n|------------|-----------------------|-------------------|\n|178654       |","2382":"{\"hits\": {\"total\": 2945,\"max_score\": null,\"hits\": [{\"_source\": {\"allergies\":\"\",\"cur_ill\":\"\",\"current_vaccine_name\":\"\",\"er_visit\":\"\",\"l_threat\":\"\",\"other_meds\":\"\",\"prior_vax\":\"\",\"symptom_text\":\"\",\"to_date_age\":\"\",\"to_date_yr\":\"\",\"vaers_id\":\"\"},","115":"GET _search?q=*[ VaersId ]:116285894 *[ Vaccine_Name ]:COVID19 AND [ RECVDATE ]:01\/19\/2022\n\nThe answer is correct as there is a vax_id: 116285894 in clinical notes for a patient who got COVID vaccine on 01\/19\/","9712":"curl -XPOST \"http:\/\/localhost:9200\/_search\" -d '{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"2022-02-11\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}'\n```","4995":"```sql\nSELECT COUNT(DISTINCT VACCINE) FROM ELIGIBLE_POPULATION WHERE TB_TEST = TRUE;\n```","9606":"The query is based on the following:\nCondition: ['VAX_TYPE'] based on ['VAERS_ID'].  The condition 'USPFIZER INC202101858584' is found 6 times.\nExample:\nHow many patients got vaccine manufactured by Pfizer-BioNTech (brand name COMIRNATY) which was produced at Puurs, Belgium site. The ['VAX","10352":"```sh\nGET \/covid\/_search\n{\n    \"query\": {\n        \"bool\": {\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"entityClassification\": \"patient\"\n                    }\n                },\n                {\n                    \"bool\": {\n                        \"must\": [\n                            {\n                                \"term\": {\n                                    \"label.value\": \"VAERS_ID","1127":"The patient who are vaccinated on Mar-20-2022. The number of people with the age between 18 and 99 years old.\n\n\nThe patient who has a history of heart attack or heart disease. How many of them have symptom \"vaccine induced immune thrombocytopenia\".\n\nThe patient who have symptoms \"pulmonary embolism\" after taking second doses of Pfizer","3404":"{\"took\":3,\"timed_out\":false,\"_shards\":{\"total\":9,\"successful\":9,\"failed\":0},\"hits\":{\"total\":5,\"max_score\":2.728557,\"hits\":[{\"_index\":\"vaers\",\"_type\":\"death\",\"_id\":\"d3ceb7ba-df6a-40e9-822f-5fcf48c54","10738":"['VAERS_ID'] = \"868563\",\n['ELSIG_NAME'] = \"COVID-19 MRNA VACCINE LOT NUMBER UNKNOWN (PFIZER-BIONTECH)\",\n['CASE_NUMBER'] = \"868563-1\",\n['DATE_ONSET'] = \"10\/2021\",\n['STANDARD_QUERY'] = \"(","10524":"Query for patient whose vaers_id has the word \"died\" in it:\n\nQuery for patient whose state is Arizona and sex is male:\n\nQuery for patient whose symptom_text contains the word \"vaccination\":\n\nQuery for patient whose died equals true:\n\nQuery for patient whose vaers_id contains the word \"injection\":\n\nQuery for patient whose ER_visit equals true:\n\nQuery for patient whose L_thre","9229":"```sql\nselect count(case when vax_name = 'USPFIZER INC202101857273' then 1 else 0 end) from vaccines;\n```\n'''\nimport os\nfrom typing import List\n\n\"\"\"\nQuestion ID : vax_name\nDescription : What is the number of records that the vaccine recipient got Pfizer-BioNTech mRNA Vacc","1817":"\"filter\": {\n    \"bool\": {\n        \"must\": [\n            {\n                \"term\": {\"VAERS_ID\": \"829647\"}\n            },\n            {\n                \"term\": {\"symptom_text\": \"Atelectasis\"}\n            }\n        ]\n    }\n}\n\"\"\"\n\ntest_data = \"\"\"\nPrompt: Find all patients with the condition below:\nExamples:","9075":"SELECT [RECIPIENT_ID], [VAERS_ID], [REPORTED_CONDITIONS] FROM @TABLENAME WHERE [[RECEIVED_DATE]] >= '03-14-2021' AND [[RECEIVED_DATE]] <= '06-14-2021' AND \"USPFIZER INC2021328980\" = [[PRODUCT_","5052":"```\n{\"query\":{\"bool\":{\"must\":[{\"match\":{\"text\":\"gfr\"},\"boost\":2}]}},\"size\":15}\n```\n\nClinical Notes:  Find the number of cases that the vaccine recipients had kidney test. \nAnswer:\n```\n{\"query\":{\"bool\":{\"must\":[{\"match\":{\"text\":\"kidney\"},\"boost\":2}]}},\"size\":15}\n```\n\nClinical","12554":"168\n'''\n\nif __name__ == '__main__':\n    print(get_query())","11209":"Give me the total number of patients' records that contain [\"AR\",\"GM\"].\nNote: Use a bool query with an inner bool must for each condition ([\"AR\"] or [\"GM\"])\nExample:\n{ \"query\": { \"bool\" : { \"should\": [{\"term\":{\"state\":\"AR\"}, \"should\": [{\"term\":{\"State\":\"GM\"} } ]}}}}\n\nClinical Notes: Find the people who died after getting the vaccine.","3277":"patient_id | received_date | vax_dose_series | vax_lot | vax_name | allergies | other_meds | lab_data | hospital | state | age_yrs | sex | died | todays_date | current_illness | symptom_text | prior_vax | history | vaers_id \n598829 | 07-Jun-21 | AZ","10200":"\"return all the cases where the vaccine recipient got MENB.\"\n\"return all the cases where the vaccine recipient got meningitis caused by a bacterial infection\"\n\"return all the cases where the vaccine recipient got meningococcal disease or meningococcal septicaemia\"\n\"return all the cases where the vaccine recipient got meningococcal infection\"\n\n**[6","3924":"elasticSearch: \n        source: [\"RECVDATE\",\"STATE\",\"AGE_YRS\",\"VAERS_ID\",\"SEX\",\"SYMPTOM_TEXT\", \"TODAYS_DATE\"]\n        filters: \n            # get all entities who has 'ADVERSE EVENT' condition. \n            conditions: [\n                # extract the date as a string using regex\n                \"CONDITION\":{\n                    \"op\":\"all_","10807":"```bash\n\ncurl 'http:\/\/localhost:9200\/sandbox-coronavirus-vaccine\/clinical_notes\/_search?pretty=true' -H 'Content-Type: application\/json' --data-binary '{\"query\":{\"bool\":{\"must\":[{\"range\":{\"vaers_id\":{ \"gte\":\"568786\",\"lt\":\"568794\"}}}],\"should","7815":"In this question we have a few conditions which needs to be met. The first condition says find all patients who died after receiving the COVID-19 vaccine. Here we can use [VACCINE]. The second condition states the date of death must be within two weeks of getting the COVID-19 vaccine. For this, we need to find out when the patient received the vaccine (using [VAERS_ID] field) and also check for [DE","3156":"```sql\n{\n\"size\": 0,\n\"query\": {\n    \"bool\": {\n        \"must\": [\n            {\n                \"range\": {\n                    \"@timestamp\": {\n                        \"gte\": \"now-6d\/m\",\n                        \"lt\": \"now\"\n                    }\n                },\n                \"term\": {\n                    \"_id\": \"78e5be5e-f5c","10578":"give me all the patients who got vaccine from Pfizer-BioNTech (COMIRNATY)\n```\n\n**Hints:**\n\nYou will be provided a CSV file named [data.csv](.\/assets\/data.csv). This file contains the clinical notes of all patients who received COVID-19 Vaccination. You need to solve this task by reading and processing the data from that file.\n\nWe have defined a few","10006":"The clinical notes include any comments from physicians or nurses that may provide more information about a vaccine reaction or why someone chose not to get a booster shot or for other reasons. We can do some data mining on this information to see if there are any trends.\nExplanation: \nPrompt: find the entity classification and label with following name:\n'ADMIN', 'CALLBACK', 'COVID19', 'COVID","2824":"[\n    {\n        \"entity\":\"HOSPITAL\",\n        \"label\":{\n            \"value\":50\n        }\n    },\n]\n\nClinical Notes: Give me all the patients whose symptoms include headache and rash.\nAnswer:\n[\n    {\n        \"entity\":\"SYMPTOM_TEXT\",\n        \"label\":{\n            \"text\": \"headache AND rash\"\n        }","564":"[{\"vaersId\":\"578900\",\"patientHistory\":\"Myocardial infarction (MI) occurred in an unvaccinated man on July 9, 2021. He had a history of cardiac conditions including previous myocardial infarctions and coronary artery disease. The patient was admitted to the hospital for treatment on September 16, 2021 with complaints of weakness, fatigue","1577":"[{\"vaersid\": \"3796585\", \"receiveddate\": \"2021-06-18\", \"age\": \"65\", \"sex\": \"Female\", \"state\": \"FL\", \"symptom\": [\"Metabolic Alkalosis\"], \"died\": \"\", \"ervisit\": \"\", \"ltreatment\": \"Yes\", \"hospitalization\": \"No\", \"hospdays\": \"\",","8228":"How many patients had a vax dose between 2\/5\/21 and 2\/11\/21?\n\n```\n\n### 7) Requirements Analysis\n\n#### User Story: \nPrompt: Find the entity classification and label with following name: \n'RECVDATE', 'STATE', 'AGE_YRS', 'VAERS_ID', 'SEX', 'SYMPTOM_TEXT', 'DIED',","10017":"{\"hits\":{\"total\":59867,\"max_score\":0.0193766,\"hits\":[{\"_index\":\"vaxx_raw\",\"_type\":\"vaxx_raw\",\"_id\":\"AADDJ7dUyE1NmWgf82rQ\",\"_score\":0.0193766,\"_source\":{\"VAERS_ID\":\"2152598","5355":"{\n  \"query\": {\n    \"bool\": {\n      \"should\": [\n        {\n          \"match\": {\n            \"allergies\": \"vitamin\"\n          }\n        },\n        {\n          \"match\": {\n            \"allergies\": \"vitamin c\"\n          }\n        },\n        {\n          \"match\": {\n            \"allergies\": \"vitamin b\"\n          }","749":"```json\n{\n  \"took\" : 0,\n  \"timed_out\" : false,\n  \"_shards\" : {\n    \"total\" : 2,\n    \"successful\" : 2,\n    \"failed\" : 0\n  },\n  \"hits\" : {\n    \"total\" : 9762,\n    \"max_score\" : 0.555902","9860":"{\"count\":369,\"size\":378,\"took\":17,\"timed_out\":false}\n\nClinical Notes: Find vaccine lots that have a known serious side effect. \nAnswer:\n[\"5923\",\"9199\"]\n\nClinical Notes: Search for clinical notes from the same date as the VAERS report, then include the date of the report. \nAnswer:\n[{\"","8720":"[\n    { \"vaersId\" : \"6978652\",\n      \"state\" : \"TX\",\n      \"age\" : 1,\n      \"recvdate\" : \"1990-06-04T00:00:00.000Z\",\n      \"sex\" : \"F\",\n      \"symptom_text\" : \"convulsions, seizures\",","7029":"298\n\nClinical Notes:  How many patients are diagnosed of meningitis herpes with age between 5-10 year old? \nAnswer:\n167\n\nClinical Notes:  How many patients are diagnosed of meningitis herpes with ER visit = false? \nAnswer:\n0\n\nClinical Notes:  How many patients have age less than 10 years old with Hosp Dates between","8857":"- [ ] BCG 97% of records have a vaccine history prior to being diagnosed with rubella.\n- [ ] RUBELLA 86% of records had Rubeola prior to receiving any type of vaccination.\n- [ ] PNEUMONIA 98% of records had pneumonia prior to receiving a flu shot.\n- [ ] DIABETES 85% of records had diabetes prior","3160":"{\n    \"from\": 0,\n    \"size\": 0,\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"@timestamp\": {\n                            \"gte\": \"\\\"2021-09-29T00:00:00Z\\\"\",\n                            \"lte\": \"\\\"2021-09-","7846":"The Question is: Find out how many patient has taken Jardiance.The data contains a column 'OTHER_MEDS' which will have the medications given to the patient. \n\nBased on the column 'OTHER_MEDS', if it contains any of the following keywords \"constipation\", \"jardiance\" then we can conclude that the patient was given this medication.\nWe are trying to count those rows whose 'OTHER_MEDS'","10292":"269 vaccine recipients got TTOX\nThe most popular PNC15 is \"Myocarditis or pericarditis within 7 days of COVID-19 vaccination.\"\n\n#### 10. Given a CSV file and a clinical note (sentence), convert to an ESL search query\nGiven a sample patient data CSV file named 'vax.csv', generate a clinical note about this patient and covert it to","5144":"[ { \"count\": 6 } ]\n\n'''\n\ndef main(args):\n    \n    # create elastic search connection\n    es = ESConnect()\n    \n    # read input\n    input_data = open(args[\"INPUT\"]).read()\n    \n    # load the json\n    data = json.loads(input_data)\n\n    for item in data[\"items\"]:\n        print('finding answers for ',","12882":"The Clinical Notes are a set of free text entries that are made by physicians who use a particular healthcare product or service to treat a patient. \nIn this case we consider the clinical notes from the medical history section of VAERS (Vaccine Adverse Event Reporting System). \nIn this task we will look at how you can perform extractions over these free text fields.\n\nInstruction: In the first section, find out if the drug","10828":"1.List all the records where they took their shot in 0929089-09807. \n2. List all the records where they took their shot in 0929089-09807\n'''\nfrom pathlib import Path\nimport numpy as np\nimport pandas as pd\nfrom utils import load_dataset\nfrom typing import Union, List\nimport re\nimport datetime\nfrom elastic_search","3298":"The question wants all the patient ID who took the Pfizer vaccine on 12\/23\/2020.\nSo we will need to search for patients with the Pfizer vaccine on 12\/23\/2020.\nWe can use a match query which matches the phrase \"pfizer\" to get this result.\nTo specify the date 12\/23\/2020, we can use range queries using","11460":"{\n   \"from\" : 0,\n   \"size\" : 0,\n   \"query\": {\n       \"bool\": {\n           \"should\": [\n               {\n                    \"bool\": {\n                        \"must\":[\n                            {\n                                \"term\": {\n                                    \"RECVDATE\":\"04\/13\/2022\"\n                                }\n                            },\n                            {","7572":"{\n\"took\": [\n    {\n        \"value\": \"knfa\",\n        \"text\": \"\",\n        \"offset\": 657,\n        \"length\": 4,\n        \"entity\": \"ALLERGIES\"\n    }\n],\n\"allergies\": [\n    {\n        \"value\": \"knfa\",\n        \"text\": \"\",\n        \"offset\": 657,\n        \"length\":","11286":"Give me all patients who have died due to vaccination and were injected by Organotherapy. \nThe result should be an array of objects, each object contains following attributes:\n[\n  {\n    'vaersId': <someValue>\n    'died': true\n    'therapeuticCategory' : \"Organotherapy\"\n  },\n ...\n]\n```\n\n### Exercise 3 - Extract from","5169":"| VAERS ID | HCPCS CODES    | VACCINE MAKER                                | TODAYS DATE     | RECVDATE   |\n| -------- | -------------- | ------------------------------------------- | ------------   | --------- |\n| 5637785   | ACCELEROMTER | PFIZER BIONTECH COVID-19 VACCINE            | 2022-","3602":"SELECT COUNT(ELEMENT)\n    FROM REPORTS\n    WHERE ELEMENT= 'RECVDATE' AND VALUE = '01\/01\/2005';\n\"\"\"\n\nclass Solution:\n    def answerQuery(self, queryList: List[str], entities: List[Entity]):\n        res = []\n        for query in queryList:\n            if len(query.strip()) < 1: continue","12969":"Query1:\nQuery1: {\n   \"query\":{\n      \"bool\" :{\n         \"must\" :[\n            {\n               \"match\":{\n                  \"_all\":\"Polymerase chain reaction positive\"\n               }\n            },\n            {\n               \"function_score\":{\n                  \"functions\" : [\n                     {\n                        \"script_score\" :{\n                           \"lang\": \"painless","948":"\"{\n \\\"from\\\" : 0,\n \\\"size\\\" : 20,\n \\\"query\\\": {\n    \\\"bool\\\": {\n      \\\"must\\\": [\n        {\n          \\\"range\\\": {\n            \\\"age_yrs\\\": {\n              \\\"gte\\\": 0.1699999987531934\n            }\n          }\n        },\n        {\n          \\\"range\\\": {\n            \\\"","11315":"[{\"id\":685769,\"name\":\"AR\",\"value\":true},{\"id\":685769,\"name\":\"LA\",\"value\":false}] \nClinical Notes:  Find all cases where people vaccinated in LA or AR. \nAnswer:\n\n[{\"id\":685769,\"name\":\"LA\",\"value\":false},{\"id\":685769,\"name\":\"AR\",\"value","9038":"```\nGET \/vaers\/_search?size=0\n{\n    \"query\": {\n        \"bool\": {\n            \"should\": [\n                {\n                    \"match\": {\n                        \"vaers_id\": {\n                            \"query\": \"USPFIZER INC2021351932\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}","2952":"{\"query\":{\"bool\":{\"must\":[{\"term\":{\"vaers_id\":\"ABKZ4QA-7521\"} },{\"term\":{\"hospdays\":\"45.0\"} }]}}}\n\n### **Task -4** \n\nInputs:\n\n* Select the correct label from the list of available labels: ['ADRF', 'SIDE_EFFECT', 'SYMPTON', 'OTHER']\n* The entity","7503":"{\n\"from\": 0,\n\"size\": 10,\n\"query\": {\n    \"bool\": {\n        \"should\": [\n            {\n                \"bool\": {\n                    \"must\": [\n                        {\n                            \"multi_match\": {\n                                \"query\": \"honey dew\",\n                                \"fields\": [\"clinicalnotes\"],\n                                \"operator\": \"and\"\n                            }","1098":"['AGE_YRS'] = 29.0\n\nClinical Notes:  Find the symptoms of Patient_id=635897. \nAnswer:\nPatient_id = 635897 and [SYMPTOM_TEXT] = 'Eyelid twitching, jaw tightness, arm swelling, arm weakness, back pain, chills, fever, headache, joint pain","12560":"94840\n\nClinical Notes: What is the maximum number of people who had ear irritations?\nAnswer:\n94840\n\nClinical Notes: Which patient experienced symptoms like muscle spasms or pain within a week of getting a second dose?\nAnswer:\n457660\n\nClinical Notes: Who are people that took Moderna (mRNA-1273) and","1195":"[{\"name\":\"VAERS ID\",\"type\":\"string\",\"value\":\"9655297\"},{\"name\":\"State\",\"type\":\"string\",\"value\":\"TX\"},{\"name\":\"Age Years\",\"type\":\"long\",\"value\":\"70.0\"}]\nExamples:\n1.Give me all the patient whose [state] = TX\n\n### Lab Data Analysis\nThe lab data analysis looks at the various vaccine-related laboratory results of different types","8664":"Query: from PatientEntityClassification find patients where \n[['recipient_name','BCG'], ['recipient_name','MEASLES'], ['preexisting_condition','No'], ['reaction_date',{{time}}], ['age_yrs','3']]\nPrompt: Given a patient who was given Measles vaccination on June 5th 2020, what are the symptoms he\/she reported?","2564":"The first step is to determine the entity type which is RECEIVED_INFO for this case.\nThen we need to get the condition of this entity that is [RECVDATE] is 07\/15\/2021. \nThis query is based on the entity type and the condition value is 07\/15\/2021.\n\n```python\nimport sys\nsys.path.append('\/Users\/xinchenhuang","4546":"given-text('28.0') day-interval-from-vaccination-to-onset(\u2018days\u2019)\n\nClinical Notes: Given a date, how many people have been diagnosed for COVID between that date and 7 days ago?\nAnswer:\nday-interval-from-date-of-diagnosis-to-date-of-infection (\u2018days\u2019), count\n\nClinical Notes: Given a date","2836":"Input:\n\n```json\n{\n    \"entity\": [\n        {\n            \"name\": \"Clinical Notes\",\n            \"entity-type\": \"Text\",\n            \"input-format\": \"text\"\n        },\n        {\n            \"name\": \"hospitalization_days\",\n            \"entity-type\": \"NumericalValue\",\n            \"input-format\": \"numerical\"\n        }\n    ],\n    \"","3033":"[{\"id\":\"1\",\"name\":\"Patient 1\",\"age\":8,\"vaersId\":\"10107680\",\"sex\":\"f\",\"state\":\"CA\",\"receptionDate\":\"2022-04-13\",\"symptom\":\"Nausea \",\"died\":\"No\",\"erVisit\":\"Yes\",\"lThreat\":\"Moderate\",\"hospital\":\"Yes\",\"hospitalDays\":\"59.0\",\"disable\":\"Yes\",\"v","5010":"given_ans:\n- \"The answer is 17\"\nquestion:\nprompt:\n- Prompt: find the entity classification and label with following name:\n    - 'PREGNANCY'\n    - 'SONOGRAM_EXAM_RESULT'\n    - 'NEXT_APPOINTMENT_DT'\n    - 'IMMUNIZATION_DATE'\n    - 'VAERS_ID'\n    -","92":"The query will be:\n\nelastic_query = {'bool':\n{\n'must':[\n    {'match':'vaers_id':{\"type\":\"phrase\",\"value\":'00026049-0201-5798'},\n     {'match':'recvdate',\n      'value':\"2022-01-17T05:00:00Z\"\n     }","3560":"How many patitents who got vaccines on 03\/01\/2022?\nThe number of vaccine patients who got vaccines on 03\/01\/2022.\n\n```python\nfrom typing import List, Dict, Union, Optional\nimport pandas as pd\nfrom pyspark.sql import functions as F\nfrom pyspark.sql.functions import concat_ws\nfrom pyspark","9696":"{ \"from\": 0,\n      \"size\": 10000,\n      \"query\": {\n        \"bool\": {\n          \"should\": [\n            {\n              \"range\": {\n                \"@timestamp\": {\n                  \"gte\": \"2021-01-14T07:56:28Z\"\n                }\n              }\n            },\n            {\n              \"range\": {","6342":"Elasticsearch query\n{\n\"query\": {\n    \"bool\": {\n        \"filter\": [\n            {\n                \"range\": {\n                    \"VAERS_ID\": {\"gte\": 1}\n                }\n            },\n            {\n                \"bool\": {\n                    \"must\": [\n                        {\n                            \"term\": {\n                                \"UNKNOWN_ORIGIN\": true\n                            }","3296":"query = {\"bool\":{\"must\":[{\"term\":{\"tox_id\":\"227\"}},{\"range\":{\"vax_date\":{\"gte\":\"2019-11-18T00:00:00.000Z\"}}}]},\"from\":0,\"size\":1}\n\nThe clinical notes of the first result contains \"Adverse events reported: no adverse event reported\".\nSo answer to this case should be","3113":"PATIENT_EID           RECEIVED                               DATE   VACCINE_PRODUCT_NBR   VACCINE_EID   VACCINE_PRODUCT_CODE   STATE_ABBR   ADMIN_LOCATION   AGE         EVENT                      REPORT_FLAG   ACTION     INFECTIOUS_SYNDROMES  OTHER_MEDS            HOSPITAL","9475":"{\n    \"took\": [\n        {\n            \"_index\": \"vaers\",\n            \"_type\": \"patient\",\n            \"_id\": \"7809250\",\n            \"_score\": 1.0,\n            \"_source\": {\n                \"age_yrs\": null,\n                \"hospdays\": null,\n                \"vax_date\": \"01\/04\/2021\",","4050":"[{\"took\":2,\"timed_out\":false,\"_shards\":{\"total\":3,\"successful\":3,\"failed\":0},\"hits\":{\"total\":2695871,\"max_score\":null,\"hits\":[]},\"aggregations\":{\"filtered\":{}}}\nClinical Notes: Give me all the symptoms that occur in COVID-19 vaccinated patients and also present in COVID-19 infected patients","8626":"The condition value is \"COVID19\".\nThe Entity Classification is VAERS ID - DT ADSORBED.\nThe query will look like this:\n\"VAERS_ID\": {\n    \"$in\": [\n        \"806825\",\n        \"811706\",\n        \"812026\",\n        \"814523\",\n        \"824103\"","4397":"[{\"id\":789466,\"date\":\"2022-04-12\",\"to\":\"2022-04-27\"}]\n\nPrompt: Given an Elasticsearch query that returns patient IDs, which of these clinical notes does it match?\nAnswers: \n1. \"This is a spontaneous report from a contactable consumer (patient). A female patient received bnt162b2","1361":"[\n  {\n    \"id\": \"2092851-VAERSID\",\n    \"vax_date\": \"2021-03-18T00:00:00Z\",\n    \"name\": \"John Doe\",\n    \"recdate\": \"2021-03-26T00:00:00Z\",\n    \"age_yrs\":","4473":"{\n   \"from\": {\n      \"date\": {\n         \"format\": \"yyyy-MM-dd\",\n         \"from\": \"2020-06-27\"\n      }\n   },\n   \"to\": {\n      \"date\": {\n         \"format\": \"yyyy-MM-dd\",\n         \"from\": \"2021-05-08\"\n      }\n   },\n   \"size\":","7542":"{\n    \"size\": 10000,\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"text\": {\n                        \"field\": \"ALLERGIES\",\n                        \"query\": \"jackfruit\"\n                    }\n                }\n            ]\n        }\n    },\n    \"sort\": [{\n        \"allergies\": {\n            \"order\": \"","6408":"Count the number of patients who received at least one dose of a vaccine by date and had any new problems after receiving a dose of a vaccine between January 4th, 2021, and November 19th, 2021.\n\nQuestion:  What percentage of vaccine recipients experienced a serious adverse event or died due to their shots? \nAnswer:\nCalculate the percentage of patients who received at","6804":"```\nGET \/test-vaccines\/surgery\/_search\n{\n  \"query\": {\n    \"match\": {\n      \"clinicalnotes.raw\": \"liver disorder\"\n    }\n  }\n}\n\n\n\nGET \/test-vaccines\/patients\/_search\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"range\": {","7248":"{\"query\": {\n\"bool\": {\n\"must\": [\n{\n\"term\": {\n\"VAERS_ID\": \"3115667\"\n}\n},\n{\n\"terms\": {\n\"Z_PAC\": [\"z-pac\"]\n}\n},\n{\n\"match\": {\n\"SYMPTOM_TEXT\": \"Allergy\"\n}\n}\n],\n\"filter\": {\n\"","10664":"'patient_age': {'gte': '28'},\n\nBoth above examples are in single query. For this reason we can not use 'query_strategy' as nested. Hence in next step we will create a filter for the entity classification and one more for the conditional values. To do so we created a list 'list_of_conditions'. Then used for_each function to iterate through that list.\n\nExpected Answer:\n{\n  \"","12431":"| RECVDATE | STATE | AGE_YRS | VAERS_ID | SEX | SYMPTOM_TEXT | DIED | ER_VISIT | L_THREAT | HOSPITAL | HOSPDAYS | DISABLE | VAX_DATE | LAB_DATA | OTHER_MEDS | CUR_ILL | HISTORY | PRIOR_VAX | TODAYS_DATE | OF","6860":"Give me all the patients whose ['RECVDATE'] is 08\/17\/2020 and the [\"HISTORY\"] has \"chiari malformation\" \nSearch all the patients who are diagnosed of asthma.\nAnswer:\nGive me all the patients whose ['RECVDATE'] is 06\/10\/2020 and the [\"HISTORY\"] has \"asthma\". \nSearch all the patients","3557":"Patient Number = 379952\nNumber of Patients that got vaccine on 02\/04\/2020 = 8\n\"\"\"\nimport csv\nimport re\nfrom datetime import date\n\n\ndef get_date(patient):\n    \"\"\"This function returns date for each patient from RECEIVED_DATE column.\"\"\"\n    try:\n        return str(date(*re.search(r\"(\\d","7313":"{\n      \"name\": \"allergic to penicillin\",\n      \"text\": [\n        \"patient reported having a known allergy to penicillin\"\n      ]\n    },\n    {\n      \"name\": \"allergic to sulfa\",\n      \"text\": [\n        \"reported history of allergies to sulfonamides\"\n      ]\n    },\n    {\n      \"name\": \"","1794":"```\n{\n    \"from\":0,\"size\":null,\n    \"query\": {\n        \"bool\" : {\n            \"must\" : [\n                {\"match\" : {\"clinicalnotes\":\"pyelonephritis acute\"}}\n            ]\n        }\n    }\n}\n```\n```\n[{\"id\":\"7040650\",\"externalId\":\"9b3f8a82-3ed2-","11355":"{\n\t\"from\": [0, 20],\n\t\"query\": {\n\t\t\"bool\": {\n\t\t\t\"must\": [\n\t\t\t\t{\n\t\t\t\t\t\"match\": {\n\t\t\t\t\t\t\"vax_state\": \"AR\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"match\": {","11289":"{\n    \"hits\": {\n        \"total\": 696,\n        \"max_score\": 0.9879385,\n        \"hits\": [\n            {\n                \"_index\": \"covid\",\n                \"_type\": \"vax_raw\",\n                \"_id\": \"4feb5e68-fd8b-456d-84be-cc187675","12345":"```\n{\n   \"from\" : 0,\n   \"size\" : 50,\n   \"query\" : {\n      \"bool\" : {\n         \"must\" : [\n            {\n               \"nested\" : {\n                  \"path\" : \"clinical_notes\",\n                  \"inner_hits\" : {\n                     \"name\" : \"text\",\n                     \"filter\" : {\n                        \"","7113":"- query = \"match\"\n- condition 1: condition1 = \"age_yrs.keyword\":\">5\",\n                condition2 = \"vaers_id\": \">\",\n                condition3 = \"condition_name.keyword\":\"pulmonary\",\n                condition4 = \"tokens : {\"condition_code\":\"N\",\"term\":\"pulmonary\",\"condition_description\":\"pneumonia\",\"condition_name\":\"pulmonary_pneumonia\"},","4260":"```json\n{\n    \"size\": 0,\n    \"aggs\": {\n        \"vax-onset\": {\n            \"bucket_selector\": {\n                \"buckets_path\": {\n                    \"clinical\": {\n                        \"agg_date_interval\": {\n                            \"script\": \"(doc['vaers_id'].toDate() - doc['recvd_date'].toDate()).days\",\n                            \"","5599":"Select [VAERS_ID], COUNT([VAERS_ID]) FROM clinicalnotes WHERE [FIRST_DOSE] = 'Yes' AND [L_XIOSIL_EVENTS] > 1 GROUP BY [VAERS_ID] HAVING COUNT([VAERS_ID]) = [ANSWER];\n\n\"\"\"\n\n### Initial setup ###\ndf = pd.read_csv(os.getcwd() + '\/data\/","11578":"['VAERS_ID'],['LAB_DATA']\n\n- Search all the patient records which has lab data for POLIO VIRUS, INACT. (NO BRAND NAME) shot\n\n- Query 1 : https:\/\/www.elastic.co\/guide\/en\/elasticsearch\/reference\/current\/query-dsl-exists-query.html\n- Query 2 : https:\/\/www.elastic.co\/guide\/en\/elasticsearch\/","8994":"-patient who got Pfizer vaccine\nQuery: [{\"text\": \"vax_manufacturer\":\"USPFIZER INC\",\"vax_name\":\"COMIRNATY\"},{\"text\": \"vaers_id\":\"2021320765\"}]\n\nClinical Notes: Give me all the patients who died after receiving their first dose of vaccine.\nAnswer:\n-patients who died after","6773":"{\n        \"query\": {\n            \"bool\": {\n                \"must\": [\n                    {\n                        \"bool\": {\n                            \"must\": [\n                                {\n                                    \"multi_match\": {\n                                        \"fields\": [\n                                            \"clinical_notes\"\n                                        ],\n                                        \"query\": \"chronic uti\"\n                                    }\n                                }","7918":"1. The patient has been admitted for observation but is not yet discharged.\n2. Patient was notified of her positive Covid test result. She tested negative on a rapid test. \n   **Elasticsearch Query**: GET \/vaers_data\/_search?size=50&q='*Patient was notified of her positive Covid test result. She tested negative on a rapid test.*'\n   ***Results***:","5231":"```\nGET \/vaxsearch\/_search\n{\n   \"query\": {\n      \"bool\" : {\n         \"must\": [\n            {\n               \"match\" : {\n                  \"clinicalnotes.facilitycode\":\"PUB\"\n               }\n            },\n            {\n               \"term\" : {\n                  \"clinicalnotes.symptomtext\" : \"anaphylaxis\"\n               }\n            }","10215":"```\n{\n\"size\": 1000,\n\"query\": {\n  \"bool\": {\n    \"must\": [\n      {\n        \"match_phrase\": {\n          \"clinicalnotes.keyword\": \"got rv1\"\n        }\n      },\n      {\n        \"range\": {\n          \"@timestamp\": {\n            \"from\": \"now-1h\",\n            \"to\": null,\n            \"","11901":"Find the entities that have both [POLIO VIRUS, INACT. (NO BRAND NAME)] and [HPV (GARDASIL)] and then find those whose [VAX_ID] have [VAERS_ID]\n```\n### Question 6\n\n#### Problem Statement\nFind the patients of the following symptoms:\n> \"Hearing Loss or Deafness\" AND \"Sudden Cardiac Arrest\" AND \"","8371":"```\n[{\"vaers_id\":\"3596272\",\"recvdate\":\"03-Mar-2022\",\"dtp\":\"Feb 12, 2022\"},{\"vaers_id\":\"3596868\",\"recvdate\":\"03-Mar-2022\",\"dtp\":\"Jan 31, 2022\"},{\"vaers_id\":\"359695","842":"The ['STATE'] = New York\nThe ['VAERS_ID'] = 2189566-1\nThe ['SYMPTOM_TEXT'] = \"Dead\"\nThe ['DISABLE'] = true\nExamples:\n1. Give me all the patients whose vax date before today and have ER visit. The answer wants to use ['VAX_DATE'],['ER_VISIT'] both of them to check if they are TRUE or not","12540":"'manic reaction': 59\n'mania symptoms': 7\n'mania': 61\n'manic reaction symptoms': 7\n['MANIC REACTION','mania symptoms','mania','manic reaction symptoms']': 7\nThe count of each token that matches the search term and their position in the sentence.\n\"\"\"\n\n\ndef get_count(input_list, word):\n    \"\"\"\n    Count the","9552":"Query #1 - All records where ['RECVDATE'] = 2022-03-20 and ['VAERS_ID'] = 202200257961\nQuery #2 - All records where ['RECVDATE'] = 2022-04-13 and ['VAERS_ID'] = 202200257961\nQuery #3 - All records where ['","4653":"The interval between the vaccination date and the onset date should be 62.0 days. \nFind the patients who has a 62 day gap between their vaccination date and onset date.\nExample: Find the patients whose vaccination date was before 2022-02-08 and have an onset date more than 62 days later.\n\nExample: Find the patients whose vaccination date was after 2","2426":"{\n    \"size\": 1,\n    \"query\": {\n        \"bool\": {\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"died\": {\n                            \"gte\": \"2021-09-23T00:00:00Z\",\n                            \"lte\": \"2021-09-23T00:00:0","9987":"The question want a total count of how many people were recorded. So we use count aggregation. Here I am counting those records that are in the'state' of 'ACTIVE'.\nThe Question: On 02\/22\/2022, how many people have been recorded?\nQuery:\n{\n        \"size\": 0,\n        \"aggs\" : {\n                \"counts\" : {\n                        \"cardinality\"","4539":"```sql\nSELECT COUNT(DISTINCT ON (VACCINATION_DATE) VACCINATION_DATE) AS COUNTER\nFROM clinical.data\nWHERE DAYS_FROM(ONSET_DATE, VACCINATION_DATE) = 430;\n```\n```shell\ncount distinct ON (VACCINATION_DATE) VACCINATION_DATE \nfrom clinical.data \nwhere days_","9361":"{\n    \"query\": {\n        \"bool\": {\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"vaersId\": \"USPFIZER INC2021607389\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"recvDate\": {\n                            \"gte\": \"02\/08\/2022","2518":"```json\n{\n    \"query\": {\n        \"bool\": {\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"recvdate\": {\"gte\": \"2022-03-11\" }\n                    }\n                },\n                {\n                    \"term\": {\n                        \"state\": \"TX\"\n                    }\n                }\n            ]\n        }\n    }","5630":"{\"size\":1,\"query\":{\"bool\":{\"must\":{\"range\":{\"age_yrs\":{\"gte\":18},\"lt\":65}},\"should\":[{\"term\":{\"bufferedc\":\"true\"},\"boost\":5}}, \"must_not\":{\"term\":{\"to_days\":\"Today\",\"vaccine\":\"Moderna\",\"vaccine\":\"Pfizer-BioNTech\"},\"boost\":5}], \"filter\":{\"or\":{\"and\":{\"terms\":{\"v","1509":"curl -H \"Content-Type: application\/json\" -X POST http:\/\/localhost:9200\/vax_case\/_search?pretty=true&size=10 -d '{\n    \"query\": {\n        \"bool\": {\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"@timestamp\": {\"gte\":\"2022-03-16T17:12:58","8048":"{\n  \"took\": {\n    \"hits\": {\n      \"total\": {\n        \"value\": 1597\n      }\n    }\n  },\n  \"failed\": [],\n  \"warnings\": []\n}\n\n\nClinical Notes:  Find out how many people have gotten COVID-19 infection after getting the Pfizer\/BioNTech vaccine.\nAnswer:\n\"data\": [","2792":"'Died':true,'VAERS_ID':18765496|18765496,'SEX':'F','RECVDATE':'10\/24\/2021'\nClinical Notes:  Find the patients who were vaccinated with Moderna vaccine lot number 033M21A on 03\/23\/2021.\nAnswer:\n'VA","7543":"[{\"VAERS_ID\": 9759786,\"SYMPTOM_TEXT\": \"hives\",\"CUR_ILL\": \"allergic reaction\",\"LAB_DATA\": null}]\n\nSentence: \nfind the clinical notes for vax_date = '2021-02-23T00:00:00Z' and symptom_text contains 'abdominal pain', give me the count","330":"Elasticsearch Query:\n{\"bool\": {\"must\": [{\"range\": {\"recvdate\": {\"gte\": \"2022-04-10T00:00:00Z\", \"lte\": \"2022-04-11T00:00:00Z\"}}}]}, \"size\": 0}\n\"\"\"","7064":"- [CLINICAL_NOTES] contains back pain.\n    - [CLINICAL_NOTES] has a word that matchs 'back pain'.\n    - [CLINICAL_NOTES] has a phrase that matchs 'back pain'.\n\nSentences:  Find the sentence(s) from clinical notes which matches the search phrase back pain\nAnswer: \n- [CLINICAL_NOTES] contains back pain","7480":"[{\"VAERS_ID\":859678,\"RECVDATE\":\"03\/11\/2022\",\"CASE_STATUS\":\"Unable to follow up at this time\",\"STATE\":\"NC\",\"AGE_YRS\":11,\"SURNAME\":\"KING\",\"FIRST_NAME\":\"JOSIAH RANDOLPH BRILLIANT\",\"ADDRESS\":\"CHAPEL HILL NC\",\"SEX\":\"Female\",\"SY","7782":"The first two questions can be answered by simple ElasticSearch query. For the last question we need a custom Kibana visualization. To achieve this we will use NLP and Lucene search. We will convert the string 'nut allergy' to its corresponding Lucene type and search.\n\n## Steps:\n* Create a table called VAERS_ID containing the ID for each record.\n* Create another table called VAERS_REPORT_DETAIL","5371":"[{\"VAERS_ID\":\"2798202\",\"COQ10\":true,\"PROLIA\":true}]\n    \n```\n### Example 2\n\nQuestion:\n```\nPrompt: Given a table below, generate SQL query that finds patients who took AZD1222 before May 5th, 2022\n\nEntity Classification: \nColumn1 | Column2 |... | Columnn\n---","11362":"-['VAX_TYPE']=AR or ['VAX_TYPE'] = NS and ['RECVDATE'] >= \"09\/06\/2021\" \n-['VAX_TYPE']=AR or ['VAX_TYPE'] = NS and ['RECVDATE'] < \"01\/27\/2021\" \n-['VAX_TYPE']=AR or ['VAX_TYPE'] = NS and ['RECV","8032":"curl -k -XPOST \"https:\/\/localhost:9243\/vaccines?pretty=true\" -d '{\"query\": {\"bool\": {\"must\": [{\"match\":{\"date\":\"4\\\\\/14\\\\\/21\"}}, {\"range\":{\"ageYears\":{\"gte\":0,\"lte\":80}}}, {\"match\":{\"vaxType\":\"pfizer\"}}]}}}\n\n\n### Part Two\n\nClinical Notes:","4500":"``` \ncount(filter(size(_id >=\"414d\"))); \n```\n\n```\ncount(filter(_source[\"INTERVAL\"].value>414)); \n```\n```\ncount(filter(_source[\"ONSET\"][\"value\"]>864 && _source[\"INTERVAL\"].value>414)); \n```\n\nQuestion:  What is the number of cases where there is a diagnosis present for \u201cMyoc","7621":"Query is for finding count of records where Ezetimibe is present in allergy column\n\n```java\n        {\n            \"size\": 0,\n            \"aggs\": {\n                \"ageGroup\": {\n                    \"terms\": {\n                        \"field\": \"AGE_YRS\",\n                        \"size\": 5\n                    },\n                    \"aggs\": {\n                        \"ageCount\": {\n                            \"card","12172":"{\"took\":1,\"timed_out\":false,\"_shards\":{\"total\":675,\"successful\":675,\"failed\":0},\"hits\":{\"total\":185,\"max_score\":null,\"hits\":[{\"_index\":\"covid-19\",\"_type\":\"vaers\",\"_id\":\"15539648\",\"_score\":null,\"_source\":{\"VAERS_ID\":\"15539","12689":"- Select the patient id from the list of results\n- Query the clinical notes for any text related to skin sensitization.\n- If any results are returned output only the patient id (with no duplicates).\n```\n\n### Question 5 - Medical Diagnosis with ICD Code Mapping\n\n```bash\nPrompt: This task will assess your ability to match patient medical diagnoses from a description to an ICD code.\nThe format of each diagn","2061":"Give me the count of all the patients who had ketosis as a symptom and got their information received on [any date].\nInput:\n[Any Date]\n\nOutput:\n[Number of Patients]\n\"\"\"\n\n\nfrom pprint import pprint\nimport re\n\nfrom nltk.tokenize import word_tokenize\nfrom spacy import blank, dispatch\nfrom spacy.tokens import Token\nfrom utils import *","2131":"{\n        \"took\": 75,\n        \"result\": [\n            {\n                \"_index\": \"vaxers\",\n                \"_type\": \"case\",\n                \"_id\": \"62bff82a-c12f-4df8-a8b5-fd9dcc3ebcfb\",\n                \"_score\": null,\n                \"_source\": {\n                    \"vaers_id\": 1","9869":"Query:\n\"patients\": {\n        \"query\": {\n            \"bool\": {\n                \"must\": [\n                    {\n                        \"match\": {\n                            \"VAERS_ID\": \"798996\"\n                        }\n                    },\n                    {\n                        \"range\": {\n                            \"@recvdate\": {\n                                \"gte\": \"2021-04-25","542":"[\n{\"name\":\"patient-id\",\"value\":\"8276905\"},\n{\"name\":\"vaers_id\",\"value\":\"3420544\"}\n]\nNote: I am not sure why you guys made this into a single question\n'''\nimport json\n\n# create empty dataframes so we can load everything later\nreports = {}\nlabels = {}\nall_data = []\n\n# loop over each entry in the dataset","2320":"[{\"age_yrs\":null,\"cur_ill\":\"none\",\"allergies\":\"no\",\"vax_type\":\"\",\"symptom_text\":\"chest pain\",\"disablity\":\"No\",\"state\":\"California\",\"to_days_date\":\"01-08-2022\",\"er_visit\":\"No\",\"hospital\":\"Yes\",\"vaers_id\":795047,\"prior_vax\":\"No\",\"ofc","6076":"```sql\n{\"took\": 0,\"timed_out\": false,\"_shards\":{\"total\":5,\"successful\":5,\"failed\":0},\"hits\":{\"total\":197486,\"max_score\":null,\"hits\":[{\"_index\":\"vaers\",\"_type\":\"patient\",\"_id\":\"R0KZZHW4D-J283E-4FFF-AA7D-A2","4478":"Number of Cases where the vaccination date - onset date = 149 days\nElasticsearch Query for this Question:\n\"numberOfMatches\": {\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"@timestamp\": {\n                            \"gt\": \"2021-11-27T00:00:00","6856":"1) [clinical notes].[name].name_text:\"squamous cell carcinoma\" AND [all clinical notes].name_text:\"squamous cell carcinoma\".\n2) Find how many patients are diagnosed of squamous cell carcinoma and give me top 5 patient id from this list.\nAnswer:[topk]=[clinical notes].[name].name_text:\"squamous cell carcinoma\", 5","10986":"Following query will give the number of people who have been injected with [FL3L98](https:\/\/vax-faq.github.io\/data\/vaccines.html#fl3l98) vaccine.\n```\n{\n    \"query\": {\n        \"bool\" : {\n            \"filter\": [{\n                    \"term\": {\"vax_type.raw\": \"N\"}\n                },\n                {","6921":"[{\"vaers_id\": \"1806793\",\"received_date\":\"2021-06-21\",\"took_vaccine\":\"1\",\"syringe_size\":null,\"medication_name\":\"Moderna\",\"medication_lot\":null,\"medication_expiration\":null,\"first_dose\":null,\"second_dose\":null,\"manufacturer\":null,\"brand_name\":null","12545":"\"give me all the patients who took VACCINE_ARRAY(R014401,COMIRNATY,SARSCOV2_mRNA_JANSSEN) and has symptoms of COELIAC ARTERY STENOSIS\"\n\nClinical Notes:  Which of the following statements are true about patients who took COMIRNATY?\nAnswer:\n\"give me all the patients","1010":"```\n[\n    {\n        \"vaers_id\": \"687543\",\n        \"age_yrs\": 11,\n        \"sex\": \"Female\"\n    }\n]\n```\n\n### Subtask 5: Query by Keyword\n\nPrompt: Find the information related to VAERS ID (687543) that matches at least one keyword provided by a user. The user can","466":"[{\"id\":\"870569\",\"event\":[\"death\",\"serious\"],\"patient\":{\"age_yrs\":null,\"vaccine\":{\"dose_series\":1,\"lot_number\":\"015A21A\",\"name\":\"COMIRNATY\",\"manufacturer\":\"Pfizer-BioNTech\"},\"race\":\"other\",\"sex\":\"m\",\"symptom_text\":\"Died of COVID-19 - Heart","3386":"SELECT * FROM elastic_patients WHERE VAX_DATE = '02\/03\/2021'\n\nExamples:\nQuestion 1: How many records have a field of RECEIVED DATE where the field\u2019s value is equal to today's date.\nElasticSearch Queries:\n1. [{\"entity\": {\"field\":\"RECVDATE\", \"conditions\": [\"date\",\"today\"]}}]\n2. SELECT COUNT","1204":"26852\n\n\n### Clinical Notes Questions - Patient Data Analysis\n\n**[1]** This is the first version of the clinical notes data analysis questions. It has three questions and a prompt for each question. For each question write down the relevant classification of entities and conditions along with a detailed explanation. Write out the ElasticSearch query that can be used to get answer. Also add a one line explanation for the logic behind the search query.","3695":"'{\"query\": { \"bool\" : { \"filter\": [ { \"range\": { \"symptom_text\": { \"gte\":\"1921-11-04T05:35:00Z\" } },{ \"term\": {\"sex\":\"female\"} }] } }, \"aggs\" :{ \"doc_counts\" : {\"sum\":\"doc_count\"}, \"age\" :{\"bucket\" : {\"min\"","10013":"Find all the patient records where [\u2018RECVDATE\u2019] is 12\/21\/2021 and count the number of records.\nThe answer will be an integer for this question.\nExample:\nOn 01\/07\/2022, what were the clinical notes?\nAnswer:\nThe entity classification from the above table is \u2018CLINICAL NOTES\u2019 which means that the input should be a string. In the example","10679":"https:\/\/www.elastic.co\/guide\/en\/elasticsearch\/reference\/current\/query-dsl-nested-query.html#_example\n\n```sql\nselect * from test_database where STATE = 'New Jersey' AND HOSPITAL = 'ER06207'\n```","1676":"```sql\nSELECT DISTINCT vaersid FROM Cases WHERE'reactionevent' = 'Peripheral artery stent insertion' AND'symptomtext' LIKE '%peripheral arter%' LIMIT 50;\n```","4436":"List all the records whose interval from the vaccine date to onset of symptoms is less than or equal to 360.0 days. \nNote: For this query, vaccine date will be taken as the first vaccine dose date for a patient even if multiple doses were administered. \nThe interval will be calculated by taking the difference between the two dates: the first vaccine date minus the onset date. \nFor","7523":"```\n{\"took\":8,\"timed_out\":false,\"_shards\":{\"total\":6,\"successful\":6,\"failed\":0},\"hits\":{\"total\":5,\"max_score\":2.9773259,\"hits\":[{\"_index\":\"vaers\",\"_type\":\"case\",\"_id\":\"17607181-4e1f-44b5-bef6-9a07","2036":"The answer would be:\n\"SELECT COUNT(*) AS count FROM  clinical_notes WHERE  lip_discoloration:\"true\" \"\n\nClinical Notes: How many patients have a seizure\/convulsion after vaccination?\nAnswer:\nThe answer would be:\n\"SELECT COUNT(*) AS count FROM clinical_notes WHERE seizures\/convulsions:\"true\" \"\n\nClinical Notes:  How many patients have died after v","3010":"Select count(*) from VAERS_DB\nwhere [age_yrs] = '0.5 - 1.9' and [to_days(hospdays)]=17.0;\n\nClinical Notes:  How many patients has died?\nAnswer:\nSelect count(*) from VAERS_DB where [dead]=true;\n```","7049":"https:\/\/raw.githubusercontent.com\/pcm-dpc\/covid-research-data\/master\/elastic\/clinical_notes_diseases.json\nPrompt: find the entity classification and label with following name:\n'ICD9', 'ICD10', 'SNOMED', 'OPCS'\nExamples:\n1.Give me all the patients who diagnosed of pertussis. The question want","7780":"1.Number of recipients = count({ 'name': 'allergies', 'value': 'glutaronitrile'},[]).value.count\n2.The most common oxybutynin is'methenamine','oxybutynin'\n\"\"\"\n\n# You need to import required libraries.\nimport json\nfrom flask import Flask, render_template, request, abort, redirect, url_for\nfrom elastic_search_","3526":"| age_yrs | died | vax_type |\n| --- | ---: | ---: |\n| 96 | true | Pfizer |\n| 58 | false | Moderna |\n\nExample Solution:\nStep 1: Extracting Entity Classifications from the sentence\n```\n{'age_yrs': 'NUMBER', 'died': 'BOOLEAN', 'vax_type': 'SPECIAL_CHARACT","760":"{\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {\n          \"range\": {\n            \"state\": {\n              \"gte\": 90.0\n            }\n          }\n        }\n      ]\n    }\n  }\n}","9557":"26\nClinical Notes:  What is the total number of patients that have received the Moderna vaccine?\nAnswer:\n548957\nClinical Notes:  Is there a patient who has a record that was received on 2022-02-17?\nAnswer:\nNo\nClinical Notes:  Find all the records where state = \"California\" AND died == true.\nAnswer:","3918":"{\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {\n          \"range\": {\n            \"vaers_id\": {\n              \"gte\": \"1758652\"\n            }\n          },\n          \"term\": {\n            \"age_yrs\": \">5\"\n          }\n        },\n        {\n          \"match\": {\n            \"symptom_text\":","3170":"{\n    \"took\": [\n        {\n            \"date\": \"10\/06\/2011\",\n            \"vaersId\": \"576938\",\n            \"doseName\": \"DTP\"\n        },\n        {\n            \"date\": \"10\/06\/2011\",\n            \"vaersId\": \"576941\",\n            \"doseName\": \"","10595":"{\n    \"size\": 50,\n    \"query\": {\n        \"bool\": {\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"vax_manu\": \"FK9694\"\n                    }\n                }\n            ],\n            \"must\": [\n                {\n                    \"term\": {\n                        \"vaers_id\": 8799604","1628":"'NOTE'=>\"Therapy Change After Vaxx\",['RECVDATE','VAERS_ID']\nThe above example says that if a patient's RECVDATE value is present, then find the patients with 'Notes' text contains \"Therapy Change After Vaxx\".\n\"\"\"\n\n# import dependencies\nimport pandas as pd\nfrom elasticsearch_dsl import Search\n\ndef main():\n    # parse command line arguments\n    args","3749":"POST https:\/\/elasticsearch-uswest2-87539d0e-5b48-4c6f-84c1-c886aeb98c70.cloudera.ondemand.com\/v2\/_search?query=\n{\n  \"bool\": {\n    \"must\": [\n      {\n        \"range\": {\n          \"@timestamp\": {\n            \"gte\": \"","9013":"{ \"query\" : {\n    \"bool\" : {\n        \"must\" : [\n            {\n                \"nested\" : {\n                    \"path\" : \"vax_data\",\n                    \"query\" : {\n                        \"term\" : {\n                            \"vaers_id\": \"US0095075132203USA010686\"\n                        }\n                    }","5139":"The clinical notes of the patient can be found in the'symptom_text' column. And here we look for patients who have triglycerides, so we are looking for patients who have any text containing \"triglyceride\" or \"hyperlipidaemia\".\nWe could do this by searching the symptom text for all words containing \"triglycerid*\", which would include misspellings, abbreviations etc too. \nWe also","3563":"['VAERS_ID','VAERS_ID','VAERS_ID','VAERS_ID','VAERS_ID','VAERS_ID','VAERS_ID','VAERS_ID','VAERS_ID','VAERS_ID','VAERS_ID','VAERS_ID','VAERS_ID','VAERS_ID','VAERS_ID','VAERS_ID','VAERS_ID','VAERS_ID','VAERS_ID','VAERS_ID","9132":"Elasticsearch:\n\\end{code}\n\n\\begin{blockquote}\n{\"query\": {\n\"bool\": { \"must\":[ {\"match_phrase\": { \"vax_name\":\"US0095075132204USA006498\"} }]}}\n\\end{blockquote}","4419":"```\n{\n\"size\": 0,\n\"query\": {\n    \"bool\": {\n        \"filter\": [\n            {\n                \"range\": {\n                    \"@timestamp\": {\n                        \"gte\": \"2022-01-25T09:07:22.466Z\",\n                        \"lt\": \"2022-04-08T11:26:","9412":"{\n\t\"aggs\": {\n\t\t\"all-vaccines\": {\n\t\t\t\"cardinality\": {\n\t\t\t\t\"field\": \"VAERS_ID\",\n\t\t\t\t\"order\": [\n\t\t\t\t\t\"desc\"\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t}\n}\n\nThe question can be solved using Aggs query.\n\nClinical Notes","4689":"Find how many patients have vax_date and today date value as the same day but interval from their vax_date to onset_date is equal to 1503.0 days.\nElasticsearch query :\n[ {\"query\" : {\"bool\": {\"must\": [{\"range\":{\"onset_date\":{\"gte\":\"2016-09-01\"}}},{\"range\":{\"vax_date\":{\"gte\":\"201","10058":"{'count': {'value': 9}}\n\nQuestions (5):\nThe data type of RECEIVEDDATE is a timestamp, which has a format like '2021-07-28T09:27:18.915Z'. In order to process this field we will need to parse it first.\nWhat is the best way to do that?\nHow do you query the records by date using ES (without aggregation","9382":"{'took': 'USPFIZER INC202101064027','result': {'name': 'USPFIZER INC202101064027', 'dose': [3],'manufacturer': 'USPFIZER INC', 'lot': [64027]}}\n\nTest:\nCreate a function called get_answers that takes one","536":"{\n    \"took\": 0.0268195,\n    \"questions\": [\n        {\n            \"input\": {\n                \"name\": \"Patient State\",\n                \"options\": [\n                    {\"text\":\"PA\",\"value\":\"PA\"},\n                    {\"text\":\"NJ\",\"value\":\"NJ\"}\n                ]\n            },\n            \"output\": \"PA\"\n        }\n    ]\n}\n```","8077":"The clinical notes wants a list of all the records that were given the first dose of vaccine on March 9, 2021. We can get the count of all the people who have been vaccinated by the month using 'calendar' query. Then we can filter by the date provided to us. Then we will check whether the person has taken the first dose or not. The code looks something like this:\n\n```java\nclient.prepare","9214":"[{\"id\":296799,\"age_yrs\":\"61\",\"vaers_id\":\"296799\",\"sex\":\"Male\",\"symptom_text\":\"COVID-19 VACCINE DEATH - AGE 61 - COUNTRY USA STATE Texas DATE OF DEATH 2022-04-18 LABEL: Cause of death was COVID-19 vaccination.\"","7833":"Query 1:\ncount({\"conditions\": {\"p_name\":\"allergies\",\"values\":\"beta\",\"op\":\"=\"}})\n\nQuery 2:\n{\"topk\":{\"field\":\"hist.hospitalizations\",\"value\":0.5,\"size\":1}}\n\n'''","738":"https:\/\/www.vaers.hhs.gov\/reportevent.html?FormData[date]=06\/03\/2021&FormData[age]=80.0&FormData[sex]=male\n\nInput: clinical notes\nOutput: Elasticsearch queries \n```\n<\/pre>\n<\/div>\n<\/details>\n\n<hr\/>\n\n### <a name=\"step-6-implementing-your","8261":"SELECT COUNT(DISTINCT VAERS_ID) FROM vaers\n    WHERE TODAYS_DATE = '2021-02-13' AND LAB_DATA!= ''\n\n### Data Processing Challenge (Sentence):\n\nPrompt: Given below is an example of the raw data set in text format. \n'A patient with male gender received COVID19 vaccine on 27\/02\/2","8438":"{'vaers_id': '10975806',\n'recvdate': '2021-05-19',\n'state': 'MD',\n'age_yrs': 'Infant(0-1)',\n'sex': 'Female',\n'symptom_text': \"This spontaneous report was received from a healthcare professional and describes a case of vaccine induced encephalomy","8226":"{\"hits\":{\"total\":6,\"max_score\":1.0,\"hits\":[{\"_index\":\"vaers\",\"_type\":\"document\",\"_id\":\"63700368-8f2a-448b-be50-ebdaef0c95e2\",\"_score\":1.0,\"fields\":{\"vax_name\":\"Moderna\",\"symptom_text\":\"COVID\",\"died\":true}}]","8479":"{\n   \"took\": [\n      {\n         \"label\": \"meningococcale\",\n         \"value\": \"conjugate\"\n      },\n      {\n         \"label\": \"vaccine-types\",\n         \"value\": \"tetanus\"\n      }\n   ]\n}\n```\n\n## Test data format\n\nThe test input file `sample_test_input.json` is a list of JSONs.","2612":"\"find entities where 'RECVDATE' = 10\/21\/2021. then get the number of patients who have died (using.size() method).\"","1990":"```\nGET \/_search\n{\n    \"query\": {\n        \"bool\": {\n            \"filter\": [\n                {\"terms\": {\"allergies.keyword\": [\"nasal dryness\",\"Nasal congestion\"]}},\n                {\"term\": {\"state\": \"VA\"}}\n            ]\n        }\n    }\n}\n\nResult:\n```\n{\n  \"took\" : 0,\n  \"timed_","12774":"Azoospermia means no sperms present in semen.\n\nSperm production starts at puberty. So Azoospermia can occur naturally.\nIf a male is found to be azoospermia after a vaccine injection, it could be because he had no sperms already before taking the vaccine. This condition has nothing to do with Covid-19 Vaccine.\nNo sperms are not found as side","12579":"['OTHER_MEDS']. 'VACCINE_NAME': {'VALUE': 'PFIZER-BIONTECH', 'TYPE': 'VACCINE_NAME'},\n['ALLERGIES']. 'Pfizer-BNT162b2': 'true'\n\nElasticsearch query:\n\n```shell\n\"bool\" : {\n  \"must\" : [\n    {\"match\":\n      {\n        \"cl","4637":"[{\"@timestamp\":\"2021-06-28T15:47:59.094Z\",\"@version\":\"1\",\"name\":\"How Many Patients Whose Interval From The Vaccination Date To The Onset Date Is 110.0 Days?\",\"id\":null,\"age\":null,\"gender\":null,\"symptom\":null,\"died\":false,\"er_visit\":true,\"lthreat","9183":"```\n'match': {\n    'vaers_id': [2021344496]\n}\n\n```\nThe patient was administered a dose of VACCINE MANUFACTURER: PFIZER BIONTECH (FULL LICENSE (BIAL)),lot#: 8580587, expiration date: unknown,doses: 1,via:","1030":"https:\/\/raw.githubusercontent.com\/datatron-inc\/elastic-search-questions-template\/main\/clinical-notes\/clinical-notes-solution-1.png\n\n```python\nSELECT * FROM vax_records WHERE vax_id IN (\n    SELECT vax_id FROM vax_records WHERE vax_name = \"COVID-19 Vaccine\" AND vax_type =","4406":"{\n  \"size\": 0,\n  \"hits\": {\n    \"total\": 968,\n    \"max_score\": 0.01477112,\n    \"hits\": []\n  }\n}\n\nClinical Notes:  List all the records that the interval from the vaccination date to the onset date is 340.0 days. \nAnswer:\n{","3027":"[{\"RECVDATE\": \"03\/01\/2021\", \"STATE\": \"VA\",\"AGE_YRS\": \"87.99\", \"VAERS_ID\": 11239775, \"SEX\": \"F\", \"SYMPTOM_TEXT\": \"COVID19 SYNDROME OR COVID-19\",\"DIED\": \"N\", \"ER_VISIT\": \"Y\", \"L_","10315":"```\n[ { \"answer\": \"A\", \"correct\": true }, { \"answer\": \"C\", \"correct\": false } ]\n```\n\nSolution :\n\n```python\nclassifier = NLPClassifier(\"https:\/\/github.com\/TanushaMurthy\/vaxx-ai\/blob\/main\/data\/model\/entity-classification\/clinical-entity-classification.json\")\n\nfrom sklearn.pre","812":"Input:\nName : RECEIVED DATE STATE AGE_YRS VAERS_ID SEX SYMPTOM_TEXT DIED ER_VISIT L_THREAT HOSPITAL HOSPDAYS DISABLE VAX_DATE LAB_DATA OTHER_MEDS CUR_ILL HISTORY PRIOR_VAX TODAYS_DATE OFC_VISIT VAX_TYPE VAX_MANU","7203":"SELECT COUNT(*) FROM patients p WHERE p.allergies = \"latex\"\n\nClinical notes:  For which patients, it's been more than a month from their last hospitalization?\nAnswer: \n    SELECT * FROM patients p WHERE dateDiff(days,p.hospitaldays,DATEADD(day,-30,GETDATE())) >= -30","8625":"[ { 'RECVDATE': '04-12-2022', \n  'STATE': 'North Carolina', \n  'AGE_YRS': 9, \n  'VAERS_ID': 1879765, \n  'SEX': 'F', \n  'SYMPTOM_TEXT': 'Fever', \n  'DISABLE': 'YES', \n  'TO","3091":"Give me all the patient records of VAERS id where their 'SYMPTOM_TEXT' is \"Recovered\" and 'LABEL' is \"U\".\nClinical Notes:  Find the number of patients who has died and have symptom text contains death due to covid-19. \nAnswer:\nGive me all the patient records of VAERS id where their 'ER_VISIT' is true and 'SYMPTOM","12809":"Yes, there are people who got dependent on opioids like Oxycodone etc after vaccine.\n\nIn short for example:\n\nQuestion: 'Give me all the patients whose information are received on 04\/13\/2022.' => ['RECVDATE'] = 04\/13\/2022\n\nCondition : []['RECVDATE'] is greater than 2022-05-2","11621":"[\n{\"label\":\"How many people received DTAP + IPV + HIB (PENTACEL) shot\",\"answer\":\"976\"},\n]\n\nClinical Notes:  What date did the VAERS system receive records for the following people?\n[{'vaersid': '707185','recvdate': None}, {'vaersid': '686523','recvdate': None}]","2049":"Search for patient record who has received a vaccine (search with the query 'vax_date:*'). Then search for patient record who have perfusion brain scan normal post-vaccination ('labs_data:brain scan or lab_data:perfusion') and who have at least one of the above conditions (condition:lab_data:[brain scan OR perfusion]). Then count the number of records. This can be done by using the aggregation query","5281":"Find the Entity Classification of ['ALLERGIES'], then for each row in ['ALLERGIES'] if 'koselugo' appears in ['OTHER_MEDS'], then add that patient to answer (i.e., set the value of '['VAERS_ID']' for each patient to TRUE).\n\nInput Data Format:\n\n{'VAERS_ID':[5768964, 5794969], '","1736":"Gait disturbance: Gait disturbance refers to a change or impairment of a person\u2019s ability to walk or move normally due to some underlying cause. This term can encompass a variety of issues that affect gait stability and control, including muscle weakness, nerve damage, and joint pain. The severity of gait disturbance may range from mild limping to complete immobility. Treatment options for gait disturbance depend on the","4808":"\\begin{itemize}\n\\item Clinical notes have a field called lab data. In this field there is a field called covid test results. For example 'SARS-CoV-2: COVID-19 Test Result=positive' is a covid test result. Extract only that information from clinical note where the term covid or SARS exists.\n\\end{itemize}\n\nFind and print the name of vaccine which has","7123":"Palpitations -\n    1) I feel like my heart is skipping a beat\n    2) Feeling faint or light headed\n    3) Heart racing\n    4) Dizziness, sweating or blurred vision\n    5) Chest pains\n    6) Lightheadness, feeling sick\n    7) Breathlessness\n    8) Heart rate fluctuation \n    9) Other\n\nClinical Notes:","7767":"The above two questions have the same answer which is as follows:\n{'results': [{'count': 16378}], 'aggregations': {'state_histogram': {'buckets': [{'key': 'DC', 'doc_count': 16378}, {'key': 'NC', 'doc_count': 15980}, {'key': 'NJ', 'doc_count': 12294},","5086":"How many cases does the vaccinated person have Hemoglobin level test result.?\nFind the number of cases that had Hemoglobin level test done.\nCount how many times Hemoglobin level tests were conducted.\n\n# Output\n\n![output](screenshot.png)\n\n## Repository Structure\n- `docs`\n- `features` (The feature files)\n- `requirements.txt` (Contains list of dependencies","7499":"{\n    \"took\": [\n        {\n            \"value\": 0.9675,\n            \"text\": \"allergic to\"\n        },\n        {\n            \"value\": 0.9675,\n            \"text\": \"amoxicillin\"\n        },\n        {\n            \"value\": 0.9675,\n            \"text\": \"trihydrate\"\n        }","7018":"[{\"answer\":\"86\",\"question\":\"How many patient were identified with the word 'tachycardia' in their clinical note?\"}]\n'''\n\n\ndef get_vaxid(row):\n    if row['vaxid'] == 'Unknown': return 'NA'\n    else: return int(row['vaxid'])\n\ndef get_age(row):\n    if int(row['age_mths']) == 0","9700":"```\n\"size\": 10,\n    \"query\": {\n        \"bool\": {\n            \"filter\": [\n                {\n                    \"term\": {\"RECVDATE\": \"2021-03-04T05:00:00Z\"}\n                }\n            ]\n        }\n    }\n}\n\n```\n```\n\"size\": 10,\n    \"query\": {\n        \"bool","5512":"1. Clinical notes\n2. 'ELISA TESTING' IN CLINICAL NOTES AND SEARCH TEXTS FOR 'LO LOESTRIN'.\n\nClinical Notes:  Find the number of cases that report adverse events within 7 days after first dose for Pfizer-BioNTech COVID-19 Vaccine.\nAnswer:\n1. Clinical notes\n2. search text for \"WITH","12781":"No.\n\nBioinformatics: How much amino acid changes between SARS-CoV-2 sequence from US and India? \nExplanation: There is no such data. \n\nMedical Research: What percentage of women and men were reported to develop Guillain\u2013Barr\u00e9 syndrome (GBS) after COVID-19 vaccination? \nExplanation: GBS was not reported in anyone.\n\nPatient","5023":"SELECT COUNT(DISTINCT vaersid) FROM 'vaxxdata' WHERE (vaersid IN (select vaersid from table_name where (state= \"Arizona\" or state=\"California\") and exists((select * from ( select age_years as age_yrs, count(*) as nums where died= 1 group by age_years) t1 where t1.age_yrs = vaxxdata.age_","5842":"```solution\nSELECT vaers_id, state, age_yrs, vax_date, lab_data FROM `vaers` WHERE RECVDATE = '04\/13\/2022';\n```\n\n```solution\nSELECT count(vaers_id) FROM `vaers` WHERE recvdate = '04\/13\/2022';\n```\n```solution\nSELECT * FROM `vaers`","9759":"{\n    \"took\": [\n         \"clinical notes\",\n         \"for\",\n         \"any\",\n         \"patients\",\n         \"whose\",\n         \"information was\",\n         \"received\",\n         \"on\",\n         \"02\",\n         \"\/\",\n         \"11\",\n         \"and\",\n         \"2021\"\n      ]\n}\n\nClinical Notes: Give me all the","8992":"\\begin{code}\n    {\n        \"size\": 0,\n        \"_source\": [\n            \"vaersid\",\n            \"ageyrs\"\n        ],\n        \"query\": {\n            \"bool\": {\n                \"must\": [\n                    {\n                        \"match\": {\n                            \"vaersid\": \"ussa2022sa051715\"\n                        }\n                    }","7556":"[{\"@timestamp\":\"2021-07-23T17:58:44Z\",\"type\":null,\"vax_id\":936508,\"patient_age_yrs\":12,\"state\":\"California\",\"clinical_notes\":\"Patient reports allergy to guanfacine\",\"symptom_text\":null},...]\n\n\n```python\nimport pandas as pd\nfrom nlt","9492":"{\"took\":1,\"timed_out\":false,\"_shards\":{\"total\":2,\"successful\":2,\"skipped\":0},\"hits\":{\"total\":{\"value\":109707,\"relation\":\"eq\"},\"max_score\":{\"value\":0.5615631},\"hits\":[{\"_index\":\"covid-vax\",\"_type\":\"patient\",\"_id\":\"US0015288","11542":"{\n\"name\": \"Diana Bauer\",\n\"vaccine\":\"DTAP+IPV\",\n\"dateOfDeath\":\"2021-11-09\",\n\"last_updated\":\"2021-11-09\",\n\"state\":\"TX\",\n\"age\":\"58\",\n\"sex\":\"Female\",\n\"symptom_started\":\"2021-11-09\",","5524":"```python\n{\"took\": 9,\"timed_out\": false,\"_shards\":{\"total\":25,\"successful\":25,\"failed\":0},\"hits\":{\"total\":26,\"max_score\":1.0,\"hits\":[{\"_index\":\"vax-data\",\"_type\":\"clinical-notes\",\"_id\":\"711cabd9-ac28-4a68-a56b-","1886":"```\nquery = {\n        \"bool\": {\n            \"should\": [\n                {\n                    \"text\": {\n                        \"query\": \"fournier\",\n                        \"analyzer\": \"custom_ner\",\n                        \"boost\": 2.0\n                    }\n                },\n                {\n                    \"text\": {\n                        \"query\": \"gangrene\",\n                        \"analyzer\": \"custom_ner\",","7474":"patients_info:\n[\n    {\n        \"patientid\": 12568396,\n        \"recvdate\": \"01-Aug-21\",\n        \"age_yrs\": \"71\",\n        \"vaersid\": \"12345\",\n        \"sex\": \"Female\",\n        \"symptomtext\": \"blisters (all)\",\n        \"died","3074":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"@recvdate\": {\n                            \"gt\": \"2022-06-01\"\n                        }\n                    },\n                    \"match\": {\n                        \"diagnosis_text\": \"Recovered\"\n                    }\n                },\n                {\n                    \"","7791":"What is the number of vaccine recipients that had an allergic to environmental?\nThe Most Common Stomach Distention For Patients Is 1094.","6060":"{\n\"name\":\"RECEIVED DATE\",\n\"value\":[\"RECEIVED DATE\"]\n}\n{\n\"name\":\"STREP THROAT DIAGNOSED ON\",\n\"value\":[\"STREP THROAT DIAGNOSED ON\"]\n}\n\nClinical Notes: Find all the patients who have been diagnosed with COVID-19\nAnswer:\n{\n\"name\":\"DIAGNOSED WITH\",","1668":"```\n{\n\"took\": \"7ms\",\n\"timed_out\": false,\n\"_shards\": {\n    \"total\": 5,\n    \"successful\": 5,\n    \"skipped\": 0,\n    \"failed\": 0\n},\n\"hits\": {\n    \"total\": 84091,\n    \"max_score\": null,\n    \"hits\": [\n        {","709":"```elasticsearch\ncurl -XGET \"https:\/\/vaers.hhs.gov\/data\/\" \\\n-H 'Authorization: key=75886429-c1b2f11d58e2f33cbb8e00edbf7748b8' \\\n\"[{\"name\":\"query\",\"value\":\"{\\n    \\\"query\\\": {\\n        \\\"match_all\\\": {}\\n    }\\","12950":"In this question we need to answer the question like \"which congenital anomaly is the most common after vaccine?\" The output for this should be based on the top ten conditions that have been reported more than once in a vaccine report.\nFor example: if we see the most common conditions as per the screenshot below, then the answer would be Congenital Anomaly.\n\nSample data set - https:\/\/raw.githubusercontent.com\/chandram","1524":"[{\"@timestamp\":\"2021-10-19T16:56:08.454Z\",\"entity_id\":\"NCD303172021\",\"entity_classification\":\"patient\",\"condition_value\":{\"start\":\"2022-02-27\",\"end\":\"2022-02-27\"}}]\n\nQuestion: Find the clinical notes of the patients who completed","11097":"select vaers_id from clinical_notes\n        where vax_dose_series > 6;\n'''\n\n# -*- coding: utf-8 -*-\nfrom datetime import date\nimport re\n\n\ndef _get_entity(question):\n    \"\"\"Returns entity classification and labels.\"\"\"\n    match = re.search('[A-Z][a-z]+', question)\n    if match:\n        return ('","337":"Query:\nselect * from clinical_notes where 'RECVDATE' = '03\/08\/2022';\n\n'''\n\n# Inputs\ninput_question = \"What percentage of vaccinated people got COVID-19? (As a decimal)\"\ninput_conditions = [{\"entity\": \"COVID-19\", \"conditional\": \"vaccinated\"}, {\"entity\": \"unvaccinated\", \"","3261":"The patient information was received by VAERS on April 13, 2022. The patient information includes the following demographics and vaccine details.\nSex: Unknown\nAge Range: 5-9\nReceived COVID-19 Vaccine On: 2022-04-13\nCOVID-19 Vaccine Manufacturer: Pfizer-BioNTech\nCOVID-19 Vacc","7010":"Prompt:\nFind all patients who are diagnosed with Barrett. \nQuestion Answer: How many patients were diagnosed with Barrett?\n\nClinical Notes:  How many patients have reported symptoms of fever or chills after vaccine?\nAnswer:\n\nPrompt: Find all patients who had Fever as a symptom. \nQuestion Answer: How many patients had Symptom (Fever) as a symptom?","12127":"'['HISTORY']' : [ '[\"DENGUE\",\"TETRAVALENT\"]',\n                '[\"HEPATITIS\", \"A\", \"VAQTA\"]'],\n'['CUR_ILL']' : [\"Dengue Fever\"],\n\nExpected Result:\n['HISTORY'] = ['DENGUE, TETRAVALENT']\n['CUR_ILL'] = ['Dengue Fever']","456":"['DIED']==false AND\n[ALLERGIES] LIKE '%%adrenaline%' AND\n['VAERS_ID'] >0\n[RECVDATE]='2022-02-28'\n\nClinical Notes: How many people died from vaccination?\nAnswer:\n[VAERS_ID]>0 AND [DIED] == true\n[ALLERGIES] LIKE '%%adrenaline%'","5885":"Find the patients that has [HIGH BLOOD PRESSURE SPIKES].\nQuestion: \nHow can we identify the patient who had a blood pressure of over 170?\nAnswer:\nFind the patients who has [BLOOD PRESSURE OF OVER 170] or [HIGH BLOOD PRESSURE SPIKES]. \nQuestion:\nCan we predict which patients will experience high blood pressure spikes","8273":"Number of rows where state is 'CO' AND vax_date is '3\/9\/2021'\n\nClinical Notes:  What is the number of patients whose last ER visit date is less than 3 months?\nAnswer:\nSum of number of rows where L_THREAT is less than 90 days\n\nClinical Notes:  Find out how many patients have a hospital stay due to their COVID shot?\nAnswer:","11675":"Elasticsearch Query:\n        \"given\" : { \"age_yrs\": 83, \"prior_vax\": \"ZOSTER LIVE\", \"vaers_id\": 7906924 }\n    Expected Results: 508\n\nClinical Notes:  How many people received VACCINAE HEPATITIS B (ENGERIX-B) shot.\nAnswer:\n    El","4065":"- Number of records that have an onset date as 02\/20\/2022 in the field \"SYMPTOM_ONSET_DATE\".\n\n\n### Exercise #5 : Find Cases where COVID-19 Vaccine Reaction Symptoms Occur After Vaccination Date.\nThe below data represents the clinical notes extracted from US CDC (Centers for Disease Control) website: https:\/\/www","13020":"-\n\nGene mutation identification test negative [1] is the most common after vaccine.\n\nNote that gene mutation identifications tests include but not limited to:\n\na) SARS CoV-2 Gene mutation Identification Test: the test will detect the nucleotide sequences of the novel coronavirus. This includes but not limited to: C614T\/A5792G\/D614G; D8","10955":"503\n\n'''\n\n# Questions from input\nqs = input(\"Please enter your question in the format of:\n'Find me all the clinical notes that contains (phrase or word)')\n\n# Break down the question into three parts:\nclinicalnotes_entities = [e for e in qs if 'find me all the clinical notes that contains (' in e]\nconditions = [e for e in qs if","4248":"Give me all the patients whose interval from the vaccination date to the onset date is [x] days. \nWhere [x] is 486.\n\nInput:\nFind the number of patients who had an age greater than or equal to 2 years when they were vaccinated on 02-JAN-2022 and experienced a symptom of 'Fatigue'.\nExpected Output:\nNumber of Patients |","8558":"Give me all the patients who got MENINGOCOCCAL and MEASLES before.\n\nExpected Answer:\nGive me all the patients who got MEASLES and MENINGOCOCCAL vaccines before 13 April 2022\n'''\nimport unicodedata\nfrom pymedphys import *\nimport pandas as pd\nimport numpy as np\n# from sklearn.preprocessing import normalize\n\ninput","12218":"No need to perform text search. The query should look like this:\n\nselect * from cdx_vax_lot where vax_name = 'HAVRIX' group by vax_manu, vax_lot order by count(*) desc limit 1;\n\n'''\nimport pandas as pd\nfrom cdx_raw import CdxRaw, Vaccines\nimport os\nimport random\nfrom collections import OrderedDict\n\ndef get_question","1542":"The question requires the patient's report to be completed on 02\/23\/2022 (['RECVDATE'] = '02\/23\/2022') based on the clinical notes.\n\\end{code}\n\nThe answer should be:\n\n\\begin{code}\nGET \/test\/_search {\n    \"query\": {\n      \"bool\": {\n        \"filter\" : [\n          { \"range","7217":"[{\"name\":\"SYMPTOM_TEXT\",\"count\":1,\"condition\":{\"operator\":\"any\",\"value\":\"immune\",\"text\":\"immune\"}}]\nExample:\nImmune thrombocytopenia purpura, a rare type of idiopathic thrombocytopenic purpura (ITP), is caused by autoantibodies that cause cell destruction and impair platelet production.\nSeveral different diseases can","7640":"Using elasticsearch 6 or above we can search based on the 'not' clause like 'Not erythromycinnausea'. But, if we don't have that query feature in our database then we have to change it into another way. In that case, I would suggest using 'contains' and negate the result by counting the number of results. So the query will be something like this\n\n{\n  \"query\": {\n    \"bool\": {","9877":"1.Return all cases with VAERS ID with RECDATE as 04\/03\/2022. \n\n\n<p>Note: Some values of the \"VAERS_ID\" column are duplicates, so for some records it will return more than one result.<\/p>\n\n**Example:**\n\n```\nInput: \n['VAERS_ID', 'RECVDATE', 'AGE_YRS', 'SEX']","10147":"[1] => Array ( [@attributes] => Array ( [text] => 198 cases of myocarditis among boys aged 12-17 who got a second Pfizer Covid vaccine dose within one month have been reported to date, according to new data from VAERS. [url] => https:\/\/www.msn.com\/en-us\/news\/world\/pfizer-covid-vaccine-linked","6008":"```sql\nSELECT 'Patient' as 'entity-classification', 'chemo', 'patient', [patient.id], '100', null, null FROM patient;\n```\n\n#### Question 7\nWrite the EMR search query to display data from clinic visit with date range from `2021-01-01` to `2022-01-01`.\n\nCoverting to an SQL","630":"{\n  \"took\": 0.598076,\n  \"result\": {\n    \"hits\": {\n      \"total\": 2431780,\n      \"max_score\": 0.0,\n      \"hits\": [\n        {\n          \"_index\": \"pvaers\",\n          \"_type\": \"patient\",\n          \"_id\": \"47959898\",","6406":"198782 \n\nClinical Notes:  What is the number of vaccine recipients that died due to any adverse event? \nAnswer:  4365 \n\nClinical Notes:  What is the number of vaccine recipients that died from cardiac disorder? \nAnswer:  1625 \n\nClinical Notes:  Who are the age group less than 12?","8619":"```sql\nSELECT * FROM vaccine_recipient\nJOIN vaccine_vaccine ON (vaccine_recipient.vaccine_id = vaccine_vaccine.vaccine_id)\nJOIN vaccine_manufacturer ON (vaccine_recipient.vaccine_id = vaccine_manufacturer.vaccine_id)\nWHERE vaccine_name","1461":"Input: Give me all the patients whose information are received on 04\/13\/2022.\n\nOutput: {\"query\":{\"bool\":{\"must\":[{\"term\":{\"RECVDATE\":\"04\/13\/2022\"}}],\"should\":[]},\"filter\":{\"bool\":{\"must_not\":[{\"term\":{\"_type\":null}}]}},\"from\":0,\"size\":0}\n\nInput: Give me how many patients","10607":"Query 1: [{\"took\":46,\"error\":\"[query_string] malformed query, expected \\\";\\\"\"}],\nQuery 2: \"vax_manu:pfizer-biontech\",\n\nClinical Notes: Find all the patients who have had Pfizer-BioNTech (mRNA) vaccine.\nAnswer:\nQuery 1: [{\"took\":47,\"error\":\"[query_string","3647":"GET \/clinicalnotes\/_search\n    {\n        \"query\": {\n            \"bool\": {\n                \"must\": [\n                    {\"match\": {\n                        \"vaers_id\": \"754989\"\n                        }},\n                    {\"range\": {\n                        \"@timestamp\": {\n                            \"gte\": \"2008-11-01T00:00:00","1452":"Elasticsearch Query:\n{\n    \"query\": {\n        \"bool\" : {\n            \"filter\" : [\n                { \"match\" : {\"RECVDATE\" : \"01-04-2022\"} },\n                 ]\n             }\n          },\n          \n    \"sort\": [{\"DATE\":\"desc\"}]\n}\n'''\nfrom pydantic import BaseModel\nimport os\nfrom pathlib import Path","7095":"```java\n\n    {\n        \"query\": {\n            \"bool\": {\n                \"must\": [\n                    {\n                        \"match\": {\n                            \"clinical_notes\": \"common variable immunodeficiency\"\n                        }\n                    }\n                ],\n                \"filter\": [\n                    {\n                        \"range\": {\n                            \"age\": {\n                                \"gte\": 0,","5764":"Yes, there are 59675 patients were taking gabapentin.\n\n- Explore data and report finding.\n**Data cleaning:**\n- Check for null values and missing values, fix by adding 0 or NaN.\n- Add a flag that indicates if each record has been processed already.\n\n**Data processing:**\n- Split into training and test data using stratified sampling of each of the labels:\n    - Create a file that","12961":"['RECVDATE',10,12,15,20]\n['RECVDATE','VAERS_ID',1526879,'Male',1,5,'Hypogonadism',1,'No','Yes','No',1,1,'Bivalent Covid-19 Vaccine (Pfizer)',1,'No',1,1,'Healthcare Professional','No','Unknown','United States','No","11921":"List all the patients who got INFLUENZA (SEASONAL) (FLUCELVAX) vaccine and HEP B (RECOMBIVAX HB) vaccine.\nResult: \n1. List all the patients who got INFLUENZA (SEASONAL) (FLUCELVAX) vaccine and HEP B (RECOMBIVAX HB) vaccine. [","11173":"9,476 people got vaccine in RL.\n\n*Note: if you see a question like \"How many people got vaccine in RL?\" instead of \"Find the number of people who got vaccine in RL\", that means the question can not be solved by Elasticsearch query, as there is no way for us to know whether there exists any patient got vaccine in RL, given the VAERS data alone (in other words","9172":"['SYMPTOM_TEXT'] == \"The patient received a booster dose of COVID-19 VACCINE WEEKLY\" OR [\"HISTORY\"] == \"Received bivalent (mRNA) Pfizer booster shot on 27 November 2022.\" OR ['SYMPTOM_TEXT'] == \"Received second Moderna COVID vaccine dose at Kaiser Permanente San Jose on 20 January 20","771":"'vaers_id': 'VAERSID86543424',\n\"age_yrs\": \"39\",\n\"\"\n\n# Clinical Notes: Give me all the patients who is 39.0 years old. \nQuestion Answer:\n['vaers_id'] = ['VAERSID86543424']\n\"\"\"[{\"vaers_id\":\"VAERSID865434","10235":"\"query\": {\n            \"bool\": {\n                \"filter\": [\n                    {\n                        \"term\": {\n                            \"@vax_name.keyword\": \"IPV\"\n                        }\n                    },\n                    {\n                        \"range\": {\n                            \"to_days.long\": {\n                                \"gte\": \"57600\"\n                            }\n                        }\n                    }","5202":"Patients with an average systolic blood pressure greater than or equal to 159 mmHg within 7 days of receiving vaccine.\n```","4367":"[{\"vaersId\":5837757,\"recdDate\":\"2022-02-19T05:50:56.000Z\",\"onset\":\"2022-02-19T05:50:56.000Z\",\"vaxLotNumber\":\"0013A21A\",\"ageYears\":\"16,16,16,1","6754":"- Give me all patients who have diagnosis code for trigger finger (ICD-10-CM code ICD-10-CM C59.3)\n\nClinical Notes:  Search all the patients who are admitted in Hospital of X and treated for acute heart failure.\nAnswer:\n- Give me all patients who are admitted in Hospital of X and has diagnosis code for acute heart failure (ICD-10-CM code ICD-","5219":"SELECT * FROM [vax_cases] WHERE [\"vaersId\"] = '2160978-1' AND [\"state\"] = 'CA' AND ['vaersDate'] = '03\/20\/2022';\n'''\n\nfrom elasticapm.ext import elasticsearch\n\n# get connection settings from yaml file\nconn_settings = config['ELASTICSEARCH']['CONNECTIONS']['CONN","6556":"In the clinical notes column the most common unknown origin for the patients is :\nUnknown Cause, Idiopathic (not known cause), Congenital or Genetic causes, Autoimmune disorders, Drug Reactions, Cancers, Environmental Exposure\nExample:\n1.Which was the first symptom reported in patients suffering from Myocarditis?\n2. In which of the following category, the age range for patients suffering from Myocard","5959":"give me all the patients whose information is received on 25th January, 2022. The [hypothyroid] condition value is satisfied by the patient whose [state] is \u201cVirginia\u201d and also if the [vaers_id] contains \u201c697884-1\u201d. The result will be like this:\n\n| vaers_id | state | age_yrs | vaers_id | sex | symptom","6348":"{\n        \"took\": [\n            {\n                \"entity\": \"vaccine-recipient\",\n                \"labels\": [\n                    {\n                        \"text\": \"ear disease\",\n                        \"value\": \"dignosis_ear_disease\"\n                    }\n                ],\n                \"conditionals\": [\n                    {\n                        \"name\": \"at-time-of-vaccination\",","6398":"```elastic search query\n{\"query\" : {\"bool\" : {\"must\":[\"term\":\"condition_text\", \"pes htn\"]}},\"from\" : 0}\n```\n\nThe above Elastic Search Query should be used for the clinical notes question.\n\n\n### Task - 5: Find the age of the patient using below details and convert it into elastic search query\n![](.\/images\/question_4.png)\n\nPrompt","3152":"{\n  \"from\": 0,\n  \"size\": 100,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"range\": {\n            \"@timestamp\": {\n              \"gte\": \"1543729600000\",\n              \"lte\": \"1543729600000\"\n            }\n          }","11214":"[{\"vaers_id\":\"12587996\",\"received_date\":\"2021-12-21\",\"symptom_text\":\"unresponsive\",\"recvdate\":2021-12-21},\n {\"vaers_id\":\"12659524\",\"received_date\":\"2021-11-15\",\"symptom_text\":\"seizure\",\"rec","2634":"The entity classification for this clinical notes query is 'findPatientByAge', the input fields are age_years and died. Based on the query, it is a query that needs to find the patient by the age field and get his or her death records. Therefore, the entity classification of this query is 'findPatientByAge'.","6495":"\"CMT\" : \"Death from vaccine-related event\",\n    \"CMT\" : \"Nausea\",\n    \"CMT\" : \"Fever\",\n    \"CMT\" : \"Thrombocytopenia\",\n    \"CMT\" : \"Anaphylaxis\",\n    \"CMT\" : \"Myocarditis\",\n    \"CMT\" : \"Mouth Sores\",\n    \"C","11620":"Query:\n{\n   \"from\": 0,\n   \"size\": 1000,\n   \"query\": {\n      \"bool\" : {\n         \"must\" : [\n            {\n               \"match\" : {\n                  \"VAERS_ID\" : \"9568782\",\n                  \"type\" : \"COVID-19 VACCINE\"\n               }\n            },\n            {","58":"```\n[\n    {\n        \"vaers_id\": \"9650845\",\n        \"recvdate\": \"2022-01-28T18:53:47.000Z\"\n    },\n    {\n        \"vaers_id\": \"9585752\",\n        \"recvdate\": \"2022-01-28T07","2124":"- Elastic search query :  \"name\": \"smear\"\n        - \"suggest\": {  \"text\": \"cervix\",  \"size\": 5,  \"suggestion\": {\"fuzzy\": true}}\n- Give me the number of records that has the term \u2018smear\u2019 in clinical notes and the records should be between vaccinated before 2022-01-01 and 202","9736":"query= \"\n{\n   'size': 150,\n    'query': {\n        'bool': {\n           'should': [\n                {'range': {\n                    '_timestamp': {'gte': '2022-03-28T00:00:00Z',\n                                   'lte': '2022-03-29T00:00:00Z","4912":"{\n    \"took\": 69,\n    \"questions\": [\n        {\n            \"prompt\": \"Given an input of a list of clinical notes\",\n            \"answer\": \"find the entity classification and label with following name:\"\n        }\n    ],\n    \"choices\": [\n        {\n            \"text\": \"List of strings.\",\n            \"value\": \"[\\\"RECVDATE\\\", \\\"STATE\\\", \\\"AGE_YRS","3169":"[\n\"vaersid\": \"9223596\",\n\"date\": [\n    \"2018-07-01T00:00:00.000Z\"\n]\n],\n\nAnswer:\n[\n\"vaersid\": \"9223596\",\n\"state\": \"Alabama\",\n\"sex\": \"Female\",\n\"age\": 11,","7135":"Select the following from the VAERS database:\n1. Gender (female or male)\n2. Symptoms(having the text \u201csmoking\u201d)\nThe query below will return a list of patients who have either symptom \"Smoking\" or \"Smoked\" but not both together.\n```sql\n{\n\t\"query\": {\n\t\t\"bool\": {\n\t\t\t\"should\": [\n\t\t\t\t{","9886":"* Find all cases where date of first symptom <=04\/21\/2021.\n* Sum of cases.\n\nInput: \n```\nInput:\n{\"entity\": \"Clinical Note\", \n\"classification\": [{\"name\":\"Date of Symptom Onset\",\"value\":\"Date of First Symptom\"},\n{\"name\":\"Case Count\",\"value\":\"Total Cases\"}], \n\"conditional\":[{\"variable\":","879":"{\n  \"took\": {\n    \"hours\": 0,\n    \"minutes\": 16,\n    \"seconds\": 59\n  },\n  \"result\": \"SELECT vaccineId FROM ClinicalNotes WHERE age_yrs = '48.0'\",\n  \"answer_type\": \"text\"\n}\nSample Output:\n{\"took\": {\"hours\": 0,\"minutes\":","7950":"{\n    \"from\": 0,\n    \"size\": 100,\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"term\": {\n                        \"vaers_id\": \"594366\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"@timestamp\": {\n                            \"gte\": \"2021","1750":"```\n{\n\"bool\": {\n  \"should\": [\n    {\n      \"term\": {\n        \"SYMPTOM_TEXT\": \"urine sodium increased\"\n      }\n    },\n    {\n      \"range\": {\n        \"AGE_YRS\": {\n          \"gte\": \"0\",\n          \"lt\": \"18\",\n          \"format\": \"short\"\n        }\n      }\n    }","569":"Give me all the patients whose information are received on 04\/13\/2022. The ['RECVDATE'] is 04\/13\/2022 and STATE is MT.\nHow many patients' record are received on 03\/20\/2022. The ['RECVDATE'] is 03\/20\/2022 and STATE is MT.\n'''\nfrom os import","7549":"Example: '[{\"entity\":\"clinical notes\",\"label\":\"clinical notes\",\"classification\":null,\"condition\":[\"vaers_id\"]}]'.\nQuery: \"all\", \"name\": \"methylphenidate\".\nExplanation: Based on the example, we can infer that the entity is clinical notes. It does not contain a column for VAERS ID. So we cannot filter by vaers id. We use the term 'all',","9785":"{\n      \"took\": 0.597086,\n      \"processed\": 0,\n      \"errors\": [],\n      \"warnings\": [],\n      \"model_outputs\": [\n        {\n          \"index\": 0,\n          \"text\": \"How many people recorded on 04\/13\/2022.\",\n          \"intent\": \"Question\",\n          \"confidence\": 0.","8727":"This will return the records of those users who has taken both the vaccines\n```python\n\n    {\"query\":{\n        \"bool\": {\n            \"must\": [\n                {\n                    \"bool\": {\n                        \"must\": [\n                            {\n                                \"range\": {\n                                    \"vaers_id\": {\n                                        \"gte\": \"9847357\",\n                                        \"l","9525":"{'results': [{'vaxManufacturer': 'USJNJFOC20220104603', 'vaersId': '3865794'}], 'total': {'hits': {'total': 1,'max_score': None, 'hits': []}}}\"\"\"\nimport unittest\nfrom datetime import datetime\nimport pandas as pd\nfrom typing import List, Dict\nimport os\nimport","12306":"```json\n{\n\"took\": 0,\n\"timed_out\": false,\n\"_shards\": {\n\"total\": 1,\n\"successful\": 1,\n\"failed\": 0\n},\n\"hits\": {\n\"total\": 7,\n\"max_score\": 1.0,\n\"hits\": [\n{\n\"_index\": \"vaers\",\n\"_type\": \"_doc\",","7599":"1. Give me all the patient whose allergy includes 'wheat'. The ['ALLERGIES'] is wheat\n2. [{\"state\":\"TX\",\"vaersid\":56795,\"age_yrs\":16}, {\"state\":\"NJ\",\"vaersid\":286612,\"age_yrs\":12}]\n```\n\n#### Example 2 - Coding Challenge\nGiven the following clinical notes for one","5017":"Select 'VAX_ID',count(distinct('LAB_DATA')) as 'NUM_OF_CBCTESTS' From VAERS where 'VAX_NAME'='Moderna COVID-19 Vaccine' group by 'VAX_ID';\n\nClinical Notes:  Find the number of cases that the vaccine recipients had ekg test. \nAnswer:\nSelect 'VAX_ID',count(distinct('","4116":"\\end{code}\n\nI am using ES query below but I dont know how to do it in python.\n\n`POST clinical-notes\/_search { \"query\": { \"bool\" : {\"must\" : [{\"range\": {\"vaers_id\": {\"gte\":\"18257965\"}}}],\"filter\":{\"and\":[{\"terms\": {\"dateOfSymptomOnset\":\"2022-03-0","552":"```python\ndef test_clinical():\n    clinical = Question(name=\"Clinical\",classifications=[\"ME\",\"Florida\"])\n    conditions = {\"ME\": [{\"condition\":\"A patient has myocarditis (ICD-10 code I46) within a month after receiving a COVID vaccine\"}]}\n    for eid in clinical.find_elastic_questions(conditions):\n        print(eid","11726":"{\"took\":756,\"timed_out\":false,\"_shards\":{\"total\":5,\"successful\":5,\"failed\":0},\"hits\":{\"total\":494984,\"max_score\":null,\"hits\":[{\"_index\":\"vaers\",\"_type\":\"death\",\"_id\":\"2950924\",\"_score\":null,\"_source\":{\"VAERS_ID\":\"2950924\",\"","11874":"```\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match_phrase\": {\n                        \"VAERS_ID\": \"963559-1\"\n                    }\n                },\n                {\n                    \"match_phrase\": {\n                        \"VAERS_ID\": \"857751-1\"\n                    }\n                }","8938":"- 'all': find all patients who have at least one vax type of \"USPFIZER INC2021795014\"\n- 'one': find all patient who has exactly one vax type of \"USPFIZER INC2021795014\"\n- 'any': find all patients who have any vax type which includes \"USPFIZER INC202179","6072":"Query- get all patients where condition state= \"breathing\"\n'''\n\ndef process_clinical_notes(s):\n    s = str(s).lower().strip()\n    s = re.sub('[^a-z]','', s)\n    s = s.split(\":\")[0]\n    s = re.sub(' ', \"_\", s)\n    \n    return s\n\ndef main():\n    # Get","7921":"1.\n'VAERS_ID': '968570',\n    'FIRST_NAME': 'Susan',\n    'LAST_NAME': 'Lee',\n    'STREET_ADDRESS': '1414 5th St APT 1A',\n    'CITY': 'North Bend',\n    'STATE': 'WA',\n    'POSTAL_CODE': '985","11372":"```sh\n\"query\": {\n    \"bool\": {\n        \"must\": [\n            {\n                \"query_string\": {\n                    \"query\": \"OT or UN\",\n                    \"fields\": [\n                        \"OTHER_MEDS\"\n                    ]\n                }\n            },\n            {\n                \"range\": {\n                    \"@timestamp\": {\n                        \"gte\": \"2021-12-","5966":"{\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {\n          \"term\": {\n            \"clinical_notes.vaccine_evaulation_status\": \"adverse_event\"\n          }\n        },\n        {\n          \"terms\": {\n            \"clinical_notes.clinical_note_text\": [\"lymphedema diabetes\"]\n          }","1072":"PATIENTS-01\n    PATIENTS-02\n   ...\n\nSample Dataset:\n\n    PATIENT_ID\tNAME\tFULL_NAME\tBIRTH_DATE\tGENDER\tAGE_YEARS\tVAERS_ID\tCASE_NUMBER\tSEVERITY_LEVEL\tSTATE\tADDRESS\tSTREET_ADDRESS\tCITY\tCOUNTY\tPOSTAL_CODE","3811":"curl -X POST \"http:\/\/localhost:9200\/vaccines-vaers?pretty\" -H 'Content-Type: application\/json' --data '{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"@timestamp\": {\n                            \"gte\": \"2021-10-16T08:00:00","10609":"```\n{\"took\":7,\"timed_out\":false,\"_shards\":{\"total\":6,\"successful\":5,\"failed\":1},\"hits\":{\"total\":34967,\"max_score\":1.8926077,\"hits\":[{\"_index\":\"covidvaxvaers\",\"_type\":\"document\",\"_id\":\"87d44cee-34df-41b4-9","3445":"Elasticsearch query:\n\n{\"query\" : {\"bool\" : {\"must\" : [{\"term\" : {\"VAERS_ID\" : \"217891-1\"},\"filter\" : {\"range\": {\"TODAYS_DATE\": {\"gte\": \"2022-02-25\",\"lte\": \"2022-02-26\"},}}}}}\n\nClinical Notes:  Give me","6401":"['STATE':'Hospitalized', 'SYMPTOM_TEXT': 'Syndrome', 'VAERS_ID':'9689754']\n\nThe Clinical notes query should look something like this:\n{\n\t\"query\": {\n\t\t\"bool\": {\n\t\t\t\"must\": [\n\t\t\t\t{\"match\": {\"symptom_text\":\"syndrome\"}\n\t\t\t],","5439":"```\n{\n\"hits\": {\n    \"total\": 689375,\n    \"max_score\": null,\n    \"hits\": [\n        {\n            \"_index\": \"vaers\",\n            \"_type\": \"report\",\n            \"_id\": \"16278940\",\n            \"_score\": null,\n            \"_source\": {\n                \"CDC_Lot_Number\": null,","6031":"{\n    \"size\": 0,\n    \"hits\": {\n        \"total\": 96557,\n        \"max_score\": 1,\n        \"hits\": [\n           ...\n        ]\n    }\n}\n\nFollow up:  Find the patient whose first name is Bob and he is vaccinated for astrazeneca covid vaccine. \nAnswer:\n{\n    \"size\":","6326":"Use \"metastases\" as the query string \nGive back [VAERS_ID] for vaccinated people whose notes have word \u201cmetastasis\u201d in it.\nPrompt: find the entity classification and label with following name:\n'VAERS_ID','METASTASES','TODAYS_DATE'\nExamples:\n1.Give me all the patients who had the metastatic disease at the time of vaccination.","1840":"give me all patients where 'VAX_NAME': 'Pfizer-BioNTech' AND 'OTHER_MEDS': 'Acetaminophen' OR 'Ibuprofen' OR 'Naproxen' AND 'L_THREAT': 'Serious' AND 'SYMPTOM_TEXT': \"Cardiomyopathy acute\"\nExplanation: Patient was given vaccine from Pfizer (P","10832":"The question expects that we have a list of entities named patient with a list of fields as above mentioned\nI will first look at the entity classification given to each column and then create an elasticsearch query according to the conditions given in the question.\nI will start by looking for all patients whose vaccine date is set to today. This condition would be given for every record whose vaccine date is 'Today'.\nAfter this, I will look for the patients whose 'V","3857":"```json\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"symptom_text\": \"12\/01\/2021\"\n                    }\n                }\n            ]\n        }\n    }\n}\n```\n\nAnswers are generated by:\n- [Natural Language Processing](https:\/\/en.wikipedia.org\/","1941":"{\n        \"size\": 0,\n        \"aggs\": {\n            \"filtered\": {\n                \"nested\": {\n                    \"path\": \"SYMPTOMS\",\n                    \"query\": {\n                        \"bool\": {\n                            \"must\": [\n                                {\n                                    \"range\": {\n                                        \"age_yrs\": {\n                                            \"gte\": 16,","4424":"Query:\n{\n    \"from\": 0,\n    \"size\": 0,\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"@timestamp\": {\n                            \"gte\": \"now-90d\"\n                        }\n                    }\n                },\n                {\n                    \"range\": {\n                        \"@timestamp\": {","10829":"```elasticsearch\n{\"query\":{\"bool\":{\"must\":[{\"match\":{\"E13247\":\"E13247\"}},{\"bool\":{\"should\":[{\"range\":{\"age_yrs\":{\"gt\":90}}},{\"range\":{\"age_yrs\":{\"lt\":90}}}]}\n```","4153":"```\n    [{\"answer\":\"What is the number of cases where onset date of adverse event symptom is 07\/28\/2021.\",\"question\":\"What is the number of cases where onset date of adverse event symptom is 07\/28\/2021.\"}]\n```\nPrompt: what is the number of cases where onset date of adverse event symptom is 07\/28\/2","1627":"```python\n# coding:utf-8\nfrom es import ESClinicalSentence\nsentence = ESClinicalSentence()\ncondition = 'patient[Eyelid operation]'\ncondition1 = \"eye[lid operation]\"\n\nsentence.answer(condition, condition1)\n\n```\n\nOutput:\n\n```bash\neye[lid operation]\n```\n\nThe Clinical note contains","11654":"```bash\nSELECT COUNT(*) FROM vax\nWHERE vaccine = 'influenza (seasonal)' AND brand = ''\nResult: 78567\n```\n\nClinical Notes:  Find out how many people who received a shot of INFLUENZA (SEASONAL) (NO BRAND NAME) died after getting their shots. \nAnswer:\n```bash\nSELECT COUNT(*) FROM vax\nWHERE vaccine","1194":"['RECVDATE'], '04\/13\/2022', ['VAERS_ID'], '3629595-1'","9636":"Query:\n{\n\"query\": {\n    \"bool\": {\n        \"must\": [\n            {\n                \"term\": {\n                    \"@type\": \"clinicalnotes.text\",\n                    \"name\": \"How many patients got vaccine manufactured by USPFIZER INC2021535457?\"\n                }\n            },\n            {\n                \"match\": {\n                    \"@entity\":","11878":"given '['RECVDATE']': '2021-11-29',\nand '['VAERS_ID']': '597996',\nand '['SYMPTOM_TEXT']': 'fever',\nand '['DISABLE']': true,\n\nThen you must use below query\n\n```json\nGET \/covid_vaccine_adverse_event_by_patient?q=","8916":"{\"name\":\"[\\\"USPFIZER INC\\\"]\",\"age\":null,\"state\":\"[\\\"North Carolina\\\"]\",\"sex\":\"F\",\"symptom_text\":\"[\\\"Chills\\\"]\",\"died\":null,\"er_visit\":null,\"l_threat\":null,\"hospital\":null,\"hospdays\":null,\"disable\":null,\"vax_date\":\"[\\\"2022-02-01T1","163":"[\n\t{ \"VAERS_ID\":\"9587947\" },\n\t{ \"VAERS_ID\":\"9589647\" },\n\t{ \"VAERS_ID\":\"9591582\" }\n]\n```\n\n*Example Query 3*\n\n```python\n\nPrompt: Give me all the patients whose information are received on 03\/31\/2022 and they had","1833":"\\begin{itemize}\n\\item [{\"label\": \"Selective IgG subclass deficiency\",\"text\": \"Selective IgG subclass deficiency\"}]\n\\end{itemize}\n\nAnswers 4:\n\nGive me all the records that match 'vax_id':54998897. Find out how many records match it and display the answer.\nAnswers:\n\\begin{itemize}\n\\item","7393":"[{\"vaers_id\":\"1079805\",\"received_date\":\"2021-10-19T04:00:00Z\",\"symptom_text\":\"This patient experienced headache, muscle aches and fever that started on 2021-10-06. She had been diagnosed with COVID on 2021-10-07 with a rapid test. On","3913":"The question has a classification of [AdverseEventSymptom] and its label is [StartDate].\nIt's a condition question which asks for patient who have experienced symptoms after being vaccinated between 08\/27\/2000 to current date. \nTherefore, the following query should be used :  \n{\n  \"query\" : {\n    \"bool\" : {\n      \"must\" : [\n        {","8638":"```elasticsearch\n{ \"query\" : { \"bool\" : {\"must\" : [{\"term\":{\"label\":\"ROTAVI\"},\"filter\":{\"terms\":{\"recipient.condition\":[\"delirium\",\"concomitant.illness\"]}}}],\"should\":[{\"range\":{\"eventdate\":{\"gt\":\"2021-05-09\",\"lt\":\"2021-07-01\",\"gte\":\"2020-","11100":"The query should be like this:\n{\n\"query\": {\n\"bool\": {\n\"must\": [\n{\"terms\":{\"vaers_id\": \"1568926-1\"},\"filtered\": {\"and\" :[{\"range\":{\"toDate\":\"to\" :{}},\"gte\": {\"fromDate\":\"from\" :\"12\/01\/2021\"}}}],\"should\":[{\"term\":{\"sra_","1581":"ElasticSearch query = \n       \"name\": [\n        \"Perfume\"\n      ],\n       \"type\": \"Symptom\",\n       \"condition\": {\n        \"value\": true\n      }\n```","4706":"```\nhttps:\/\/raw.githubusercontent.com\/covid-research-response\/clinical-notes\/main\/data\/covid\/vaxx\/adverse_events\/search\/get\/elasticsearch\/all\/pivot\/vax_date\/on_set_date\/interval\/eq\/439.0\/count\/true\n```\n\n**Note:** We will only return data up to the first day of November 2","10253":"```json\n{\n    \"clinical\": [\n        {\n            \"q1\": \"How many vaccine recipients got MNQ?\",\n            \"q2\": \"which BCG is the most popular for people?\"\n        }\n    ]\n}\n```\n\n# Requirements\nElasticsearch version must be at least ES7.5.0\n\n# Installation\nPlease make sure that the required packages can be found","6321":"```\nselect vaersid, count(distinct allergies) as allergyCount from vaers_cdc group by vaersid;\nselect vaersid, count(distinct allergies) as allergyCount from vaers_cdc group by vaersid;\n```\n\n### 4.  What is the date of first dose inoculation in most cases\n\nThe question wants to know which date of first dose is","6053":"Sample Output:\n<p>Give me all the patients whose information are received on 04\/13\/2022. The question want [&#x27;VAERS_ID&#x27;] based on [&#x27;RECVDATE&#x27;].<\/p><ol><li>Find the number of VAERS ID based on the [&#x27;RECVDATE&#x27;","9215":"In my data set, I found 5886 patients who got Pfizer COVID-19 vaccine on 3rd January 2021.\nExplanation: Based on clinical notes and entity classification, it is possible that the vaccine was given on 3rd January or later dates. If the condition is 'on', it will include both the cases. However, if the condition is 'after', then it will exclude patients who received the v","6294":"298121\n\nExample:\nI want to know if there are any patients that have both 'FRACTURES' and 'MYOCARDITIS'. Give me these patients.\n\nOutput:\n'VAERS_ID': [1576150]\n\nExplanation: In the dataset, a person can have multiple conditions and each line has data for only one patient. I used the following code to get an answer","1135":"\"name\":\"ELIZABETH ANN KAISER\",\n\"age\":89.0\n\"age_yrs\":\"89.0\"\nExample:\nName: \"Elizabeth Ann Kaiser\"\nAge: \"89.0\"\n\nClinical Notes: How many patients have died after the first shot of vaccine?\nAnswer:\n\"name\":\"JACOB MICHAEL RUIZ\",\n\"d","6840":"```sql\nSELECT * FROM clinical_patient WHERE 'clinical_notes.stem':*'artherial stent insertion'.\n```\n\n```json\n{\n    \"query\": {\n        \"bool\": {\n            \"filter\": [\n                {\n                    \"regexp\": {\n                        \"clinical_notes.stem\": [\n                            \".*artherial stent insertion.*\"","1013":"```\n{\"took\":1,\"timed_out\":false,\"_shards\":{\"total\":2,\"successful\":2,\"skipped\":0},\"hits\":{\"total\":3876,\"max_score\":1.954598,\"hits\":[{\"_index\":\"vaers\",\"_type\":\"reports\",\"_id\":\"1989144\",\"_score\":1.954598,\"_source\":{\"","1604":"In clinical notes column, we have to find all the symptoms that include the word 'Muscle fatigue'. Based on the entity classification find the relevant information from VAERS dataset. This can be achieved by applying a combination of multiple boolean queries on Elasticsearch index\n\"\"\"\n\nimport os\nimport datetime as dt\nfrom tqdm import tqdm\nfrom elasticquery.indexer import Indexer\n\n\nclass FileReader:\n    def __init__(","4983":"Find the number of cases that the vaccine recipients had ana test.\nResult of the query\n\nExample:\n1. Give me all the patients whose information are received on 04\/13\/2022. The question want ['VAERS_ID'] based on ['RECVDATE']\n\n[elasticsearch] [1]: [{\"type\": \"anaphylaxis\", \"count\": 2}, {\"type\": \"adverse-","11070":"Give me all the patients whose information are received on 04\/13\/2022. The ['RECVDATE'] is 04\/13\/2022.\nHow many patients' record are received on 03\/20\/2022. The ['RECVDATE'] is 03\/20\/2022.\n\nOutput:\n\nNumber of records received on 04\/13\/","6735":"['VAERS_ID', 'Female', 'Surgery (mastectomy)', 'Yes', 'VAERS ID = [vaersid]', True]\nQuestion: Which vaccine types have the most serious side effects?  Answer:  ['VAERS_ID', 'Male', 'COVID-19 Pfizer-BioNTech (BNT162b2) Vaccine', 'Unknown', 'VAERS ID =","6811":"[{\"data\": {\"id\": \"5e33c796-8fd4-416a-b7d8-f0fe8dbb2dfa\",\"entity\": {\"classification\": \"Person\",\n\"label\": \"patient\"},\"text\": \"On 3\/2\/2022 8:11 AM, a patient reported to have undergone surgery to fix her nerve issue. \nShe was","12014":"Query 1:\n    { \"query\": { \"bool\": { \"must\": [ { \"range\": { \"vaers_id\": { \"gte\": 6757908, \"lte\": 6757908 }}}, { \"range\": { \"vaers_id\": { \"gte\": 6757909, \"lte\": 6757909 }}}]} }","6601":"Use the elastic search query to find out what percentage of auto immune hepatitus are there among the total number of patients.\n\nClinical Notes:  Which is the most common symptoms found in patients who have had vaccination?\nAnswer:\nUse the elastic search query to find out which symptoms occur the maximum number of times among the total number of patients who were vaccinated.","89":"{\n    \"query\": {\n        \"bool\": {\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"@timestamp\": {\n                            \"gte\": \"2022-05-24T00:00:00Z\",\n                            \"lt\": \"2022-05-24T23:59:59Z\"\n                        }","11649":"Find all patients who received Flu vaccine. The condition [ 'INFLUENZA(SEASONAL)' (SEASONAL) = 'INFLUENZA(SEASONAL)' (SEASONAL)]\nExample: Find all patients who received Influenza A (SEASONAL).\n[ 'INFLUENZA(SEASONAL)' (SEASONAL)]= 'Influenza A (","9507":"['VAERS_ID'] should be equal to 'USPFIZER INC2021620510'. And then use elasticsearch query with this vaers id.\n```python\nimport time\nfrom pyspark.sql import SparkSession, functions as F, Window\n\n# import libraries from jupyter notebook\nimport pandas as pd\nimport datetime\nimport re\nimport urllib\nimport json\nimport requests\n\n# create spark","12018":"[{\"vaers_id\": \"896456\",\"recvdate\": \"2021-03-17\", \"reaction\":\"Injection Site Pain\"}, {\"vaers_id\": \"896456\",\"recvdate\": \"2021-03-17\", \"reaction\":\"Fever\"}, {\"vaers_id\": \"896456\",\"recvdate\": \"202","9579":"['ALLERGIES'] = \"USPFIZER INC2021612504\"\n['VAERS_ID']=[1897666-1,1897666-2]\nThe query should be like this:\n{\n    \"query\": {\n        \"bool\": {\n            \"should\": [\n                {\"term\": {\"VAERS_ID\": \"189766","5084":"```\nPOST \/_search\n{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"multi_match\": {\n            \"fields\": [\"symptom_text\"],\n            \"query\": \"lipase test\"\n          }\n        },\n        {\n          \"range\": {\n            \"@vax\": {\n              \"gte\": \"mrna-","10224":"[{\"index\":\"clinical\",\"query\":{\"bool\":{\"must\":[{\"term\":{\"age_years\":2},\"type\":\"vaccine\"},{\"range\":{\"vax_date\":{\"gte\": \"2021-07-08T11:26:05Z\", \"lte\": \"2021-07-09T05:12:34Z\"}},\"type\":\"vaccine\"}],","3853":"['VAERS_ID'], 'vaersid', [{'range': {'gte': '2016-06-01T00:00:00Z'}}]\n\n# Solution\n\n## 1\nI need to find the conditions and query for the above scenario. \nFor each column I'll iterate through it and split based on the ',' character. \nThen I need to create a dictionary that contains both the column","905":"Patient['Age_Yrs']=66.0\n\nInjury or Illness:   \nGive me all the patients whose injuries or illness is 'Hospitalized'. \nAnswer:\nState['L_Threat'] = 'hospitalized'\n\nSymptom Text:     \nGive me all the symptoms that have'severe headache' as text.  \nAnswer:\nSymptom['symptom","3346":"Query1:\n\n\"given_name\": \"Kathryn\",\n\"family_name\": \"Bailey\",\n\"vax_type\": \"MRNA\",\n\"age_yrs\": 15,\n\"date_received\": [\n    \"2021-06-19T00:00:00+00:00\"\n],\n\"hospital_days\": [","1435":"```\nGET clinicalnotes\/_search\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"@completed\": {\n                            \"gte\": \"2022-02-15\"\n                        }\n                    }\n                },\n                {\n                    \"match\": {\n                        \"_id\": {\n                            \"query\": \"","11870":"'''","12555":"Count the number of people who have Temperature difference of extremities (SYMPTOM_TEXT = Temperature difference of extremities) after taking any vaccine (ANY(LAB_DATA) contains the keyword \"COVID\").\nTemperature difference of extremities\nHow many people have a Temperature difference of extremities (SYMPTOM_TEXT = Temperature difference of extremities) symptom after taking any vaccine (ANY(","8605":"['VAERS_ID'] = [VAERS ID of patient]\n\nSample Output:\n['VAERS_ID'] = ['858995']\n\n'''\n\nfrom collections import defaultdict\nimport re\nimport os\nfrom pathlib import Path\n\n# Get root directory path\npath = Path(__file__).parent\ndirectory = str(path)[:-5]\n\n\nclass Vaccine():\n    def __init__(self):","12911":"\\begin{code}\nGET \/veni_search\/veni_search\/_search {\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"_type\": {\n              \"value\": \"clinicNotes\"\n            }\n          }\n        },\n        {\n          \"term\": {\n            \"veni_code\": {\n              \"value\": \"6","5610":"Using ES query language, I need to find out whether a patient received the vaccine and had fentyl at the same time.\nUse ES query language and give me the output as per my expectation.","1012":"[\n    {\n        \"vaers_id\": \"9798655\",\n        \"allergies\": null,\n        \"current_illness\": null,\n        \"history\": null,\n        \"prior_vax\": null,\n        \"today_date\": \"2021-07-01T04:00:00Z\",\n        \"ofc_visit\": null,","3717":"```\n{\"took\":5,\"timed_out\":false,\"_shards\":{\"total\":29,\"successful\":29,\"skipped\":0},\"hits\":{\"total\":418,\"max_score\":67.1571129,\"hits\":{\"total\":418,\"start\":0,\"end\":417,\"length\":417,\"fixed_length\":0,\"sort\":[]}},\n\"query\":{\"bool","2254":"GET \/{indexName}\/{entityName}?pretty=true&size=1000\n        {\n            \"query\": {\n                \"bool\" : {\n                    \"must\" : [\n                       {\n                           \"match\": {\n                               \"vaers_id\" : \"XXXX-XX-XXXX-XXX\"\n                           }\n                       },\n                       {\n                           \"term\" : {","6203":"```json\n{\n    \"took\": 8,\n    \"timed_out\": false,\n    \"_shards\": {\n        \"total\": 1,\n        \"successful\": 1,\n        \"skipped\": 0,\n        \"failed\": 0\n    },\n    \"hits\": {\n        \"total\": 695,\n        \"max_score\": 0.0,\n        \"hits","8510":"Elasticsearch Query:\n```json\n    {\n      \"size\": 0,\n      \"query\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"range\": {\n                \"@timestamp\": {\n                  \"gte\": 1657928599000,\n                  \"lte\": 1658292099000,","3917":"GET \/vaxaers\/_search\n{\n\"query\": {\n    \"bool\": {\n        \"must\": [\n            {\n                \"match\": {\n                    \"symptom_text\": \"headache\"\n                }\n            },\n            {\n                \"range\": {\n                    \"vaers_id\": {\n                        \"gte\": \"00846161\",\n                        \"lte\": \"","380":"The most people choose to submit records on 01\/05\/2022.\n```\n\n### Day 17 (18th December):\n\n#### Task 1 (4 points)\n\n>Prompt: Find the average age of patients who received Pfizer vaccines\n\nExamples:\nFind the average age of patients who received Pfizer vaccine.\nBased on the conditions and the conditional values, give me the answers","357":"[{\"id\": \"1\",\"answer\": \"10\"},{\"id\": \"2\", \"answer\": \"5\"},{\"id\": \"3\", \"answer\": \"3\"}]\n\nClinical Notes:  Give me all the patients whose information are received on 04\/13\/2022. The [RECVDATE] is 04\/13\/2022.\nAnswer:\n[{\"id\": \"1\", \"answer","12185":"```bash\n\n```","6990":"How many patients are diagnosed of low pulse rate?\n\n```text\n{\n\"query\": {\n    \"bool\": {\n        \"must\": [\n            {\"match\": {\"clinicnotes.keyword\": \"*low pulse*\"},\n            {\"term\": {\"entity_classification\":\"diagnosis\"}},\n         ]\n      }\n   }\n}\n```\n\n# Example 2\n\nInput:\nThe Vaccine Inj","2909":"Elasticsearch query should look something like this:\n    GET \/health\/_search\n    {\n    \"query\": {\n        \"bool\": {\n            \"filter\": [\n                {\n                    \"bool\": {\n                        \"must\": [\n                            {\n                                \"range\": {\n                                    \"age_yrs\": {\n                                        \"gte\": \"48\",\n                                        \"lt\": \"","6658":"The clinical notes of patients can be retrieved by finding the medical diagnosis related to contraception. So for this example, we need to find all the patients where medical diagnoses have \"contraception\". This could be achieved by creating a dictionary of medical diagnosis terms that are related to contraception and then use the wildcard search using a regex for \".*contraception.*\" as the filter query.","5288":"[{\"id\":\"279\",\"vaersId\":68582,\"gender\":\"female\",\"vaxName\":\"FluMist Quadrivalent - Flu Virus Vaccine (LAIV)\",\"dateOfFirstDose\":\"09\/16\/2021\",\"lotNum\":\"254347\",\"dosesTaken\":\"1\",\"state\":\"NC\",\"reportedDate\":\"10\/15\/20","7666":"The query will search for any clinical note that contains \"aspirin buffered\" anywhere. It will count all the patient records that contain any clinical note that has the term \"aspirin buffered\".\n```python\nans = elasticSearchClient.search(index=\"vaers_clinical\", body={\"query\": {\"bool\":{\"must\": [{\"match_all\": {}}]},\"should\": [{ \"match_phrase\":{\"clinical_","7184":"fibrocystic\nQuery:  Find patient who has fibrocystic breast.  This is not an exact match query but will return the number of records who have the phrase 'fibrocystic breast'.\n'''\n\nimport datetime as dt\nimport os\nfrom copy import deepcopy\nfrom pathlib import Path\nfrom random import randint\nimport re\nimport time\nfrom typing import List\nimport numpy as np\n\nimport pandas as pd\nfrom pandas","3732":"The onset date of adverse event symptoms is 08\/15\/2019. [{\"took\": {\"date\":\"2019-08-15\",\"notes\":\"Nausea\",\"seriousness\":\"hospitalized\",\"outcome\":\"recovered\"}, \"vax\":\"COVID19 (PFIZER BIONTECH)\",\"age\":\"9-17 years\",\"sex\":\"Female\"}]\n```","1093":"[\n    {\n        \"vaersId\":\"VAERS ID\",\n        \"ageYears\":4.0,\n        \"clinicalNotes\":null\n    },{\n        \"vaersId\":\"VAERS ID\",\n        \"ageYears\":4.0,\n        \"clinicalNotes\":null\n    }]\n\nInput: \nGive me all the patients whose clinical note is empty\nExpected Output:","9664":"[{\"vaersId\":\"869758\",\"receivedDate\":\"2022-02-23\",\"symptomText\":\"Injection site pain\",\"died\":\"No\",\"otherMed\":\"Not Specified\",\"priorVax\":\"Not Specified\",\"toDaysDate\":\"2022-02-23\"}, \n\"vaersId\":\"871852\",\"receivedDate\":\"2022-02-","6117":"```\nGET \/vax\/_search?query=bool&must=terms(symptom_text,'arthritis')\n\n```\nClinical Notes:  Return all the cases where the vaccine recipients were hospitalized more than one time for Covid-19 after receiving a single dose of vaccination.  \nAnswer:\n```\nGET \/vax\/_search?query=bool&must=term(hospdays,'","38":"{\"hits\":{\"total\":5691,\"max_score\":0.6417983,\"hits\":[{\"_index\":\"vaxsearch\",\"_type\":\"patient\",\"_id\":\"a0d2bd03-33c6-4d5e-b2a2-f5e8bbdf632f\",\"_score\":0.6417983,\"_source\":{\"\"RECVDATE","5846":"No.\n\\end{code}\n\nI did the preprocessing with `preprocess_text()` from the sklearn library and I tried this to split the sentences into two parts\n\n\\begin{code}\nsentence = re.split(r'\\s', text)\n\\end{code}\n\nI tried several approaches with no success. I need help with the problem. I am not able to understand where my code went wrong.\n\nComment: Hi!","175":"```\n{ \"query\": {\n    \"bool\": {\n        \"must\": [\n            { \"range\": { \"RECVDATE\": { \"gte\": \"2022-03-20T00:00:00Z\", \"lte\": \"2022-03-25T00:00:00Z\" } },\n                { \"terms\": { \"VAERS_ID\":","7684":"SELECT COUNT(*) FROM vax_raw WHERE other_meds LIKE '%nifedipine%'\n\nAsk a clinical question about the Vaccine Adverse Event Reporting System (VAERS) data for all reported cases between April 4th, 2021, and March 18th, 2022.  \nUse the following criteria:\nThe patient was allergic to ibuprofen.\nThe patient had a hospital","5534":"The query should be like this:\n\n```sql\nSelect * from covid_vax_data \nwhere tolfnate = true;\n```\n\n```sql\nselect * from covid_vax_data \nwhere tolfnate = \"true\";\n```\n\n```sql\nSELECT COUNT(*) AS total FROM covid_vax_data WHERE tolfnate = \"true\"\n```\n### 6) Find the number","965":"[ '1775811', '1688827',..., '1394842', '1487509', '1220818', '1624289', '1785573', '1258563', '1643310', '1212827', '156935","7835":"Allergic to Minocycline= 'Yes'. The Answer is: 257,836\nThe Most common Allergic Demerol= \"Bupivacaine\". The Answer is: 9937\nEligibility Criteria\nIn this section you will have a chance to show off your coding skills! There are two sections to this project. The first part involves coding up your implementation of a simple web server. In the second part,","3334":"-  Query = {\"query\": { \"bool\":{ \"must\": [{\"range\": {\"vaxdate\":{\"from\":\"2022-01-13T00:00:00Z\",\"to\":\"2022-01-13T00:00:00Z\"}}}], \"should\":[{\"match\":{ \"ageyrs\": \"5\"}}, {\"match\":{ \"vaersid\":\"46","8014":"List all the records who was vaccinated on 10\/4\/21\n\nClinical Notes: Give me all the patients whose information are received on 04\/13\/2022.\nAnswer: \nFind the condition '04\/13\/2022' from the data set using the conditions for RECEIVEDATE\nThen, Find the Entity Label which contains the word 'vaersid'. This will return","4715":"Select COUNT(*) FROM VAERS WHERE ONSET_CD = '99' AND DAYS_FROM_VACCINATION >= 245.0 AND STATE IN ('CA')\n\n### Categorization Questions:\n\n#### Problem:\nPrompt: Given a list of keywords, categorize them into the appropriate categories by using entity classification.\nExamples:\n1.Given below is a list of keywords from a clinical notes,","9003":"[{\"id\":\"1\",\"entity\":null,\"condition\":\"SENTENCE_VALUE\"},{\"id\":\"2\",\"entity\":null,\"condition\":\"SENTENCE_VALUE\"}]","9639":"'SELECT * FROM vaers WHERE vaers_id LIKE \"USPFIZER INC202101449244\"'\n\"\"\"\nimport sys\nfrom typing import Dict, Any\nimport re\nfrom ibm_cloud_sdk_core.authenticators.base import IAMAuthenticator\nfrom ibm_watson import LanguageTranslatorV3\nfrom ibm_cloud_sdk_core.utils","6274":"The data should be grouped by 'RECVDATE'.\nFor each date ('RECVDATE') find out how many patients who have been diagnosed with \"bladder\" ('BLADDER').  \nThen, return the count of number of people with bladder at time of vaccination for each date ('RECVDATE')\nNote: if we do not use '['RECVDATE'], this will return 3799 records, but I only need to calculate","9149":"[{\"id\":\"VAERS ID\",\"name\":\"VAERS_ID\",\"entityClassification\":\"PERSON_OR_GROUP_OF_PEOPLE\",\"conditionalValue\":\"USPFIZER INC202101189826\"},{\"id\":\"Symptoms\",\"name\":\"SYMPTOM_TEXT\",\"entityClassification\":\"SYSTEM_PROCESSING_ERROR\",\"conditionalValue\":null}]\n```\n\n\n### Task","10692":"{'vaers_id': 8546097}\n\n## PART-2:\nIn this part you need to create a python application that would read data from VAERS database, apply text processing algorithms and store it into Elasticsearch Database.\nYour code must work in Google Colab notebooks or run in a VM of your choice. Your code should be written in Python and deployed using Heroku cloud service. If needed, make use of any open","11758":"Find the patient who had FLUMIST Vaccine:\nQuery: patient[16].flumist=true\n\nFind the number of patients who had INFLUENZA (SEASONAL) Vaccine:\nQuery: patient[16].influenza = true\n\nPrompt: find the number of the cases where the vaccine recipient had INFLUENZA (SEASONAL) (FLUMIST","535":"| 'VAERS_ID', [['RECVDATE'], ['RECVSTATE'], ['AGE_YRS'], '[...]',...] |\n\n**Note:** Clinical notes and answers are provided as a reference only. We will not test this question using these exact data sets or query. However, if you see any discrepancies between what is asked and the actual test case, please open a bug report with us (https:\/\/www.hackerrank","8707":"The answer needs to include all records for [VAERS ID]. That means there should be one result for each entry. For every entry found it should have the following conditions as part of the criteria:\n\n[VAERS ID] contains 'DTAP' AND 'POLIO VIRUS, INACT.'\n\nFor example, if you have the following two lines of data (two rows):\n\n[VAERS ID] = 123456789","7967":"[{\"RECVDATE\": {\"$gte\":\"2021-09-24T00:00:00.000Z\",\"$lt\":\"2021-09-25T00:00:00.000Z\"},\"AGE_YRS\": \"20\", \"SEX\": \"F\", \"VAERS_ID\": \"1467036\"}]\n\n```","2350":"{'took': {'state': 'pending','reason': 'no such node'}, 'error': {'root_cause': {'type': 'parse_exception','reason': 'failed to analyze [{\\\"vaersid\\\": null,\\\"died\\\": true,\\\"date\\\": \\\"05\/08\/2022\\\",\\\"age\\\": 0}]: no viable alternative at input '{\\n  vaersid: null,\\n  died:","7996":"[{\"vaers_id\":465889,\"vaers_date\":\"7\\\/14\\\/2021\",\"vaers_date_only\":\"7\\\/14\\\/2021\",\"vaccine\":\"COVID-19 (COVISHIELD)\",\"symptom\":\"Fever\",\"reaction\":\"Side Effects - Other\"}]\n\nClinical Notes:  Give me all the patient who were vaccinated for","7529":"```elastic\n{\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {\n          \"term\": {\n            \"clinicalnotes.text\": [\n              \"benacar\"\n            ]\n          }\n        },\n        {\n          \"range\": {\n            \"vaersid\": {\n              \"from\": \"10582692\",\n              \"to\": \"105","8424":"give me all the people whose VAERS ID are 2098065.\n\n```\n### Question 7:\n\nFind records for allergies in a column called \"allergies\"\n\nAnswer: \ngive me all records that have any of the words 'cats','dogs','pollen','grass','hay','mold', 'trees','leaves','peanuts','bee venom','fish","9357":"SELECT COUNT(*) AS count FROM uspvax.eligiblerecords WHERE VACCINE_PRODUCT_NAME = 'USPFIZER INC202200284884';\n\nClinical Notes:  Find all the records where vaccine type USPFIZER INC202200284884 was given first dose as Pfizer-BioNTech COVID-","12739":"[{'vaers_id': '10865966', 'vax_type': 'pfizer-biontech-pifzermovie1273','state': 'texas', 'allergies': '', 'history': '', 'current_ill': '', 'other_meds': '', 'labs': '', 'age_yrs': '74', 'lab_data': '', 'to_days_date': '","7197":"{\n        \"took\": 79,\n        \"hits\": {\n            \"hits\": [\n                {\n                    \"_index\": \"patient-data\",\n                    \"_type\": \"entities\",\n                    \"_id\": \"63645086a6e36d93ed6bdf87\",\n                    \"_score\": 1.0,\n                    \"fields\": {","5093":"Find the number of records where 'cardiac catheterization' is present in clinical notes or 'clinical notes'. Then group by vax type\n'''","5381":"[{\"vaers_id\": \"869529\",\"vax_name\":\"Moderna\",\"prior_vax\":null,\"covid_vax\":true,\"age_yrs\":\"70\",\"symptom_text\":\"No symptoms reported\",\"l_threat\":null,\"er_visit\":null,\"hospital\":null,\"to_date\":null,\"ofc_visit\":null,\"allergies\":\"Hepat","1914":"patients:\n    [\n        {\n            \"vaersId\": \"579746\",\n            \"conditions\": \"Allergies: Codan Labs\",\n            \"firstname\": \"Teddy\",\n            \"age\": 35,\n            \"symptom\": \"\",\n            \"sex\": \"Male\",\n            \"state\": \"FL\",\n            \"recvDate\": \"2021-0","9584":"['USPFIZER INC202101308676'] have received by [38]\n[2021-03-24T18:53:01.978Z, 'USPFIZER INC202101308676', 'COVID19 (PFIZER-BIONTECH)', '35', 'Fem","5827":"Match query -  \"text\": \"estragon\" or \"prior_vax\":\"Estrogen\"","9520":"How many patients got vaccine manufactured by USPFIZER INC? \n```\n\n### Submission\n\nCreate an implementation class `ElasticSearch` that implements this interface for the above questions. This can be done in any programming language of your choice, but we suggest you choose either Python or Java.\n\nIn order to help you get started quickly, we have provided a template project with example implementations using Java and Python. You may refer to these","7058":"[{'age':'52','gender': 'Female', 'diagnosis':'increased blood pressure'}], {'age':'86','gender': 'Female', 'diagnosis':'increased blood pressure'}, {'age':'72','gender': 'Male', 'diagnosis':'increased blood pressure'}, {'age':'34','gender': 'Female', 'diagnosis':'increased blood pressure'}].size()","10130":"Elasticsearch query:\n{'bool': {\n   'must': [\n        {'term': {'VAERS_ID': '2859525-1'}},\n        {'term': {'VAERS_ID': '2629731-1'}},\n        {'term': {'VAERS_ID': '2596489-1'}}\n    ],\n   'should': [\n        {'match':","830":"{'age':23,'vaccinated':true}\n'''\n\ndef main():\n    # Load up the data for parsing\n    from collections import defaultdict\n    df = read_data()\n    print('Loaded Data.')\n    \n    # Parse each line of the clinical notes file into a list. Each line will contain the question and answers.\n    qas = parse_clinical_notes(df)\n    print('Finished","3253":"\"{\"took\":[\"1986-05-21T00:00:00Z\", \"1986-05-22T00:00:00Z\"]}\"\n\"\"\"\"\n```\n\n### Part Two\nThis part involves 5 subparts that you need to complete in order to finish this challenge. There will be a message printed out to inform you when you completed a subpart.","4764":"```elastic\nGET \/vax_records\/_search\n{\n  \"query\": {\n    \"bool\" : {\n        \"must\" : [\n            {\n                \"term\" : {\"VAERS_ID\" : <vaers_id>}\n            },\n            {\n                \"term\" : {\"CLINICAL_NOTES\" : \"ct scan head\"}\n            }\n        ]\n    }\n}}\n```","2438":"[{\"vaersid\": \"10896578\",\"sex\": \"F\",\"age_yrs\": \"17\",\"vaers_date\":\"2021-12-31\",\"symptom_text\": \"\",\"died\": true,\"er_visit\": true,\"l_threat\": null,\"hospital\": false,\"hospdays\": null,\"disable\": null,\"vax_date\": null,\"lab_data\":","11686":"['vaers_id','vaers_date','varicella'],\n1\n1\n1\n2022-05-12T19:02:47+05:30\n\"\"\"","10148":"[{\"@class\":\"patient\",\"RECVDATE\":[\"2022-05-28T18:37:35Z\"],\"LAB_DATA\":{\"ANALYTE\":\"FLU3\",\"CONDITION_ONSET\":\"2022-04-16T00:00:00Z\",\"COUNTER_VALUE\":\"50.0\",\"END_DATE\":\"2022-04-","11724":"The number of the cases where the vaccine recipient had Hepatitis A (HepA) vaccine (VAQTA) is 789695\n\nSolution:\nThis solution needs a very complex query but I am not sure how to proceed here. Can someone help?\n\n\\end{code}\n\nComment: Please don't just dump code into the body of your question. Instead you should add this as an edit, prefer","2519":"['VAERS_ID']=2609831,\n['VAERS_ID']=2672035,\n['VAERS_ID']=2675721,\n['VAERS_ID']=2680856,\n['VAERS_ID']=2714756,\n['VAERS_ID']=2716496,\n['VAERS_","7984":"```json\n{ \"query\": { \"bool\" : {\"must\": [{\"term\":{\"RECVDATE\":\"01-26-2022\"},\"filter\":{\"or\":[{\"range\":{\"vaxDate\":{\"gte\":\"2022-01-26\",\"lte\":\"2022-01-26\"},\"gte\":\"2022-01-26\"},{\"range\":{\"vaxDate\":{\"gte\":\"","2021":"Find the count of the number of patients who have symptoms 'Epicondylitis' with label 0 and vaccine type as \"COVID-19 mRNA Pfizer BioNTech\"\n\nPrompt: find the entity classification and label with following names:\n'SYMPTOMS','IMMUNIZATIONS','OTHER_MEDS','CLINICAL_NOTES'\nExamples:\n1.How many patients have epic","97":"```elastic\n    {\n    \"size\": 0,\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"recvdate\": {\n                            \"gte\": \"2022-03-28T00:00:00Z\"\n                        }\n                    }\n                }\n            ]\n        }","12067":"'vaers_id': 'VAERS_ID',\n'influenza_vax': 'INFLUENZA (SEASONAL)',\n'hep_b_vax': 'HEP B (ENGERIX-B)'\n```\n\n### Input Dataset:\n\n```\n\"RECVDATE\",\"STATE\",\"AGE_YRS\",\"VAERS_ID\",\"SEX\",\"SYMPTOM_TEXT\",\"DIED\",\"","4127":"{'@timestamp': '2021-07-09T18:23:56.191Z', \n'id': '7f4e28d5-62fd-4d2a-afbe-303ccbcb5771', \n'query': '{\"query\":{\"bool\":{\"must\":[{\"range\":{\"onset_date\":{\"gte\":\"2016-10","4790":"{\n        \"query\": {\n            \"bool\": {\n                \"must\": [\n                    {\n                        \"bool\": {\n                            \"filter\": [\n                                {\n                                    \"bool\": {\n                                        \"should\": [\n                                            {\n                                                \"term\": {\n                                                    \"_uid\": \"49e5723c-6beb-4d01-a1","8554":"{\n\"bool\": {\n    \"must\": [\n        {\n            \"nested\": {\n                \"path\": \"clinical_notes\",\n                \"query\": {\n                    \"multi_match\": {\n                        \"query\": \"BCG OR VARICELLA\",\n                        \"type\": \"phrase_prefix\",\n                        \"fuzziness\": \"AUTO\"\n                    }\n                }\n            }","4169":"```\n{\"took\":3,\"timed_out\":false,\"_shards\":{\"total\":2,\"successful\":2,\"failed\":0},\"hits\":{\"total\":2,\"max_score\":null,\"hits\":[{\"_index\":\"vaxa-deaths\",\"_type\":\"vaxa_case\",\"_id\":\"58e4f396ce7b87a9dcf1a77e\",\"_score\":","2408":"{\n\t\"from\": 0,\n\t\"size\": 10,\n\t\"query\": {\n\t\t\"bool\": {\n\t\t\t\"must\": [\n\t\t\t\t{\"match\": {\"recvdate\": \"\\\"08\/12\/2021\\\"\"}}\n\t\t\t],\n\t\t\t\"should\": [\n\t\t\t\t{\"bool\": {\n\t\t\t\t\t\"must\": [","5464":"I have a few suggestions.\n1. Try adding some context around how your search results relate to ipratropium bromide. For example, \"ipratropium bromide\" can be used as an adjective, so you could say that someone was taking it at the time of their vaccination if they were experiencing respiratory issues or had asthma. You could also mention which type of medication they were using (inhaler) and","8643":"Give me all the patients who have the 'age' under 18 years old and take Measles vaccine and pneumonia vaccine before.\n'''\nimport re\n\nclass VAERS_ENTITY(object):\n    def __init__(self, _dict=None):\n        '''\n        Initialize a class instance of vaers entity using dictionary as an argument.\n        '''\n        if _dict!= None:\n            self._dict","8407":"SELECT * FROM 'vaxx_patient_demographic' WHERE 'VAX_NAME': \"YELLOW FEVER\" AND ('Prior Vax':) IS NULL OR ('Prior Vax':) = \"\"\n*\/\n\npackage vaxx\n\nimport (\n\t\"testing\"\n\t\"time\"\n\n\tes \"github.com\/olivere\/elastic\"\n\t\"github.com\/stretchr\/test","8468":"| VaersId | DateReceived    | State       | Age_Years      | Vax_Type   | Shot_Series | Condition     | Label                             |\n| --------| --------------- | ----------- | -------------- | ---------- | ---------- | ------------- | --------------------------------- |\n| 5987637  | 2016-05-24     | NY          | 14","4320":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"toDate\": {\n                            \"gte\": \"2015-07-09T00:00:00Z\"\n                        }\n                    }\n                },\n                {\n                    \"range\": {\n                        \"fromDate\": {\n                            \"l","1626":"GET \/patients\/_search?pretty=true&query={\"bool\":{\"must\":[{\"match_phrase\":{\u201cNOTES\u201d:\"glomerular filtration rate\"},\"type\":\"clinical_notes\",\"boost\":5},{\"match_phrase\":{\u201cdisease\u201d:\"covid-19\"},\"type\":\"diseases\",\"boost\":10}],\"should\":[{\"bool\":{\"should\":[{\"bool\":{\"should","6922":"```elastic query```\n```sql query```\n\n#### Test 5\n\n- Prompt: Given a dataset of 373 rows consisting of 8 columns each containing numerical data and 1 column containing categorical data as shown below:\n\t| Age | Fever | Headache | Body Aches | Joint Pain | Nausea| Vomiting | Coughing| Runny nose|\n\t| :---: |:-----: |:","9543":"How many patients got vaccine manufactured by [USJNJFOC20220233773]?\n\\end{blockquote}","8936":"The query should give data with patient information where VAERS ID is equal to 290939.\nIn this case we will be matching the number \"290939\" for the column \"vaers_id\". \nThe other part of the question is also true as we will get a single row back.\n\nClinical Notes: Give me all the patients who got vaccine manufactured by USPFIZER INC20","3344":"```\n{\n\"query\": {\n\"bool\": {\n\"must\": [\n{\n\"term\": {\n\"RECVDATE\": \"07\/26\/2020\"\n}\n},\n{\n\"match\": {\n\"VACCINATIONSTATUS\": \"vaccinated\"\n}\n}\n]\n}\n}\n}\n```\n*\/\n\npackage org.cdschallenge.elasticsearch;","6278":"Input data was retrieved from CMS Data, VAERS and Omicron Variant.\n\nThe solution used a combination of SQL and Python script to filter and format data prior to uploading to ElasticSearch.\n\nElasticSearch query written for each question above to retrieve relevant results and then exported as CSV files for manual review.\n\n```\n# -*- coding: utf-8 -*-\nimport csv\nimport json\nimport os\nimport","9486":"[ {\n        \"vaersid\": 1947091,\n        \"sex\": \"F\",\n        \"age_yrs\": 2,\n        \"died\": false,\n        \"vaers_lot\": \"212001\"\n    },\n    {\n        \"vaersid\": 2306448,\n        \"sex\": \"F\",\n        \"age_yrs","5360":"\"text\": \"patients were taking fluoxetine\",\n\"snippets\": [{\"offset\": 1, \"length\": 89}]\n\nClinical notes: Give me all the patients who were taking fluoxetine as per the clinical note.\nAnswer:\n\"text\": \"patients were taking fluoxetine\",\n\"snippets\": [{\"offset\": 1, \"length\": 89}]\n\n**F","11548":"This query will return results for 7963 vaccinated patients who had a meningococcal conjugate vaccine (Menveo).\nQuery:\n{\"query\": {\"bool\":{\"filter\":[{\"terms\":{\"state\":\"TX\"},\"must_not\":[{\"term\":{\"vaers_id\":\"<VACCINE-VACCINATION-SURVEILLANCE-DATA>#E8C9050F19","1831":"Give me all the patients whose condition include respiratory tract congestion.\n\n\n#### Part Two\n\nQuestion: Find the conditions based on the entity classification.\nPrompt: find the entity classification and label with following name:\n'VAERS_ID','VACCINE_LOT','HOSPDAYS','AGE_YRS','VAERS_COUNTRY','VAERS_ADREREGION','SUSPECTED','SE","12806":"No.\n'''\n\n# input data format\ndf = pd.read_csv('..\/..\/data\/vaers_raw.csv', \n                 usecols=[\n                     'id', \n                     'vaers_id', \n                    'recdate',\n                     'age',\n                    'sex',\n                    'symptom_text',\n                     'died',\n                     'er_visit',","11190":"The number of people who got vaccine in LA is 16579.\n\nThe number of people who got vaccine in MO is 84576.\n\nExample Answer:\n\nI am using the below elasticsearch query to get this answer.\n```\nGET my_data\/_search\n{\n    \"size\": 0,\n    \"aggs\": {\n        \"my_counts\": {\n            \"top_","11136":"![image](https:\/\/user-images.githubusercontent.com\/54987487\/162715516-eabd2f0c-3b40-42a8-9dd0-02b6ccbbd7b6.png)\n\n## Question 1 - Find all the Vaccines Manufactured by Pfizer: \n\n![image](https:\/\/user-","8538":"{\n\"query\": {\n    \"bool\": {\n        \"must\": [\n            {\n                \"term\": {\n                    \"LAB_DATA.toLowerCase():LAB_DATA.text().value()\": \"vaccine not specified\"\n                }\n            },\n            {\n                \"terms\": {\n                    \"allergies\": [\"hib\"]\n                }\n            }\n        ]\n    }\n}\n}","11347":"[{\"case\":\"\",\"notes\":\"Patient vaccinated in Riverside and Los Angeles\"},{\"case\":\"\",\"notes\":\"Patient vaccinated in Los Angeles County\"},{\"case\":\"\",\"notes\":\"Patient vaccinated in Orange county\"}]\n\nSentence Questions:\nQ1: Give me all the cases for which patient has a prior Covid infection\nAns:\n[{\"case\":\"\",\"sentence\":\"Patient has a prior","11635":"Total number of people that were vaccinated by HIB (ACTHIB) is 87931. \nNote: In case you want more information about a particular entity like HIB (ACTHIB), query \"hub.solr?q=hub.edis.vaccine.name: HIB(ACTHIB)&rows=1\". It will give you more details about the shot.","10355":"UNK: 2779813  \nTTOX: 2565776\n```","9790":"['VAERS_ID'] : 8579310|  ['VAERS_ID'] : 8579326| ... [Total:10]\nThe clinical notes column of each patient's name and age. Then extract all the data from the 01\/30\/2022 date in the sentence. \nOutput Columns: ['VAERS_ID'] ['STA_CODE'] 'FIR","1747":"1. 'VAERS_ID': [4957649-1],[5250791-1]\n2. The patient had serum ferritin normal in the first dose of vaccine. The age was 14 years old, received Vaxzevria (AstraZeneca) first dose at day 89. Symptom text \"Dizziness\"\n3. The patient has been diagnosed","12446":"Query :\nbody_mass_index:[125 TO 199] AND \"body mass index decreased\" OR \"decreased body mass index\" OR \"weight increased\" OR \"weight gain\" OR \"body mass index increased\"\n\nAnswer:\nQuery :\nbody_mass_index:[125 TO 199] AND \"body mass index decreased\" OR \"decreased body mass index\" OR \"weight increased\" OR \"weight","4445":"\\begin{itemize}\n\\item ['@timestamp'] > [now()]-[7days]\n\\end{itemize}\n\n*Example 1: I had a flu shot last week.*\n\nPrompt: find the entity classification and label with following name:\n['SYMPTOM_TEXT']\n\nExamples:\n1.I had a flu shot last week. Find out how many people has fever after getting flu shot.\n2.How","7251":"{\"took\":9,\"timed_out\":false,\"_shards\":{\"total\":17,\"successful\":17,\"skipped\":0},\"hits\":{\"total\":8564,\"max_score\":0.9653935,\"hits\":[{\"_index\":\"vaers\",\"_type\":\"vaers_patient\",\"_id\":\"5220835\",\"_score\":0.965393","12899":"Find all the VAERS IDs for the patients whose age falls between 5 and 17 years. Find out the number of patients who died as a result of receiving vaccination. Sort by the number of patients who died per state and get top ten states sorted by descending order of number of patients who died and their corresponding state names. Select only states from USA. Print the list as shown below\n\nExample Output:\nTop Ten States that have most deaths (sorted in","8709":"[{\"receptient_id\":1,\"name\":\"Joe\",\"vaers_id\":\"1187566\",\"sex\":\"Male\", \"symptom_text\":\"Death\",\"died\":true}]\n\nTest Case 1: Find the all patients whose information is received by VAERS on April 13th, 2022.\nExample Questions: \nQ1: Give me all the patient(s) that their","1041":"{\n    \"hits\": {\n        \"total\": 9,\n        \"max_score\": null,\n        \"hits\": [\n            {\n                \"_index\": \"cdc\",\n                \"_type\": \"covid\",\n                \"_id\": \"5690\",\n                \"_score\": 1.0,\n                \"_source\": {\n                    \"RECVDATE\": \"2021-09-07","7471":"```\n{\n  \"took\": 7,\n  \"timed_out\": false,\n  \"_shards\": {\n    \"total\": 1,\n    \"successful\": 1,\n    \"failed\": 0\n  },\n  \"hits\": {\n    \"total\": 19876,\n    \"max_score\": 1,\n    \"hits\": [\n      {\n        \"_index","12449":"[{\"question\": \"Give me all the records which contain clinical note of 'Neutropenia'.\",\n\"result\": \"hits(size: 25, sort:[{ \\\"timestamp\\\": { \\\"order\\\" : \\\"asc\\\" }}]).hits.hits.\",\n\"condition\": {\"state\":\"WA\"},\"description\": \"find all the cases that are reported in WA. Get only those cases which has clinical note of neutropenia\",","11593":"SELECT DISTINCT\n      [VAERS_ID] as \"vaers_id\",\n      [VAX_NAME] as \"vax_name\"\n    FROM \"clinical_notes_public\".\"vax_records\"\n    WHERE [VAX_NAME] like 'hep b%';\n    \nQuery:\n\n    {\n      \"query\": {\n        \"bool\": {\n          \"must\": [","2202":"[{\"id\":1,\"name\":\"Central nervous system metastases\",\"label\":\"Central nervous system metastases\",\"value\":\"central nervous system metastases\"},{\"id\":2,\"name\":\"Headache\",\"label\":\"Headache\",\"value\":\"headache\"},{\"id\":3,\"name\":\"Neck pain\",\"label\":\"Neck pain\",\"value\":\"neck pain\"},{\"id\":4,\"name\":\"Back pain\",\"label\":\"Back pain\",\"value\":\"back pain","2781":"How many patients' records were received on 01\/19\/2022 where VAERS_ID contains '6157875-1'.\nAnswer:\n[\n  {\n    \"vaers_id\": \"6157875-1\",\n    \"question_number\": 3,\n    \"answers\": [\n      {\n        \"answer\": 2,\n        \"condition\": \"died","8242":"{\n    \"took\": [\n        {\n            \"_source\": {\n                \"RECVDATE\": \"2021-05-22T00:00:00.000Z\",\n                \"VAERS_ID\": \"2798405\",\n                \"AGE_YRS\": 20,\n                \"SYMPTOM_TEXT\": \"Fainting Spells\",\n                \"DI","11651":"39657.\nThe query used to answer this question is below.\n\n```elastic_search\n{\n  \"size\": 0,\n  \"aggs\": {\n    \"counts\": {\n      \"value_count\": {\n        \"field\": \"vaers_id\"\n      }\n    }\n  }\n}\n```\n```\n{\n  \"took\" : 53,\n  \"timed","5989":"{\n        \"took\": [\n            {\n                \"label\": \"Polymyalgia\"\n            }\n        ]\n    }\n    \n    \n\n**Input:**\n\n- input_text = 'List all the patients who are diagnosed of polymyalgia.'\n- entity_types_list = ['diagnosis', 'disease','medication','symptom']\n- data = pd.read_","136":"[{\"vaxid\": 19956729,\"vaxtype\":\"COVID-19\",\"lotnum\":\"5807001\",\"ltdose\":\"0.3\",\"series\":\"1st Dose\",\"labdata\":{\"CDC-Lab\",\"MMR Vaccine (Measles, Mumps, Rubella)\",\"Tetanus Toxoid, Reduced Diphtheria Toxoid and Acellular Pert","12331":"The question will find patients where [ 'LAB_DATA': 'Nasal dryness' AND ('VAERS_ID':... OR 'LAB_DATA':'sneezing' OR 'LAB_DATA': 'nose bleed' )]\n```","8057":"```\n[\n{\"vax\":\"Pfizer\",\"dose\":1},\n{\"vax\":\"Moderna\",\"dose\":1}\n]\n```\nAnswers should be ordered from newest to oldest in terms of dates. \n\nClinical Notes: Find all patients who had a COVID-19 PCR test (not antigen) and had an adverse reaction after their first dose of Pfizer or Moderna.\nAnswer:\n```","8066":"https:\/\/covid-19-vax-data.com\/clinicalNotes?query=vaccination_date:[5\/19\/2022]&_source=records&_g=\";\n```","1606":"[\n    {\n        \"vaers_id\": \"1198056\",\n        \"vax_name\": \"Pfizer BioNTech COVID-19 Vaccine\",\n        \"symptom_text\": \"Pericarditis, pericardial effusion\",\n    },\n]\n\nAnswer Explanation:\nConditional Value is [\"PERICARDIAL EFFUSION\",\"PERICARDITIS\"],","6092":"|['VAERS_ID', 'PENDING'], ['VAERS_ID', 'RECEIVED'], ['VAERS_ID', 'ACKNOWLEDGED'], ['VAERS_ID', 'UNVERIFIED'], ['VAERS_ID', 'INCOMPLETE'], ['VAERS_ID', 'REJECTED'], ['VAERS_ID', 'ACCEPTED'], ['VAERS_ID', 'UNDER_REVIEW']","12963":"Acute disseminated encephalomyelitis is the most common after 3 doses of mRNA-1273 vaccine (Moderna COVID-19 Vaccine) and BNT162b2 mRNA (Comirnaty, Pfizer-BioNTech COVID-19 Vaccine).\n\nQuestion: Which vaccines has no cases of myocarditis or pericarditis among children aged","10602":"GET \/clinical_notes\/_search\n{\n    \"query\": {\n        \"bool\" : {\n            \"must\": [\n                {\"match\": { \"vaers_id\" : \"SH8020\" }}\n            ]\n        }\n    }\n}\n'''\n\nimport sys\nsys.path.append(\".\/scripts\")\nfrom utils import load_data, elastic_query\n\ndef main():\n    data =","3968":"[{\"vaers_id\": \"11056957\",\"startdate\":\"2021-12-29T00:00:00.000Z\"}]\n\n#### 4) Questions with Answer Choices\nPrompt: Select one of the following conditions for all the patients whose information are received on 04\/13\/2022.\nAnswers:\n[] -  '['","6842":"```\n\"query\": {\n    \"bool\": {\n        \"must\": [\n            {\n                \"term\": {\n                    \"diagnoses_raw\": \"Toe\"\n                }\n            },\n            {\n                \"term\": {\n                    \"toe_infection\": true\n                }\n            }\n        ]\n    }\n}\n\n```\n\n## Exercise: \n##### (i) [P","8797":"[{\"id\":\"801\",\"text\":\"How many records had meningococcal b vaccine before johnson & johnson vaccine?\"},{\"id\":\"805\",\"text\":\"How many records had japanese encephalitis vaccine before johnson & johnson vaccine?\"},{\"id\":\"789\",\"text\":\"how many people got meningococcal b and japanese encephalitis at","6573":"Based on the classification and conditional values we convert it into Elasticsearch query\n[{\"name\":\"common_symptoms\",\"value\":[\"vertigo\",\"tinnitus\"]}]\n\nSample Output:\n['common_symptoms']:'vertigo',\n\n['common_symptoms']: 'tinnitus'\n'''","11119":"```\nGET \/vaxdata\/_search\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"vaers_id\": \"5685988\"}},\n                {\"term\": {\"recvdate\":\"2021-09-27T07:34:58Z\"}}\n            ],\n            \"should\": [\n                {\n                    \"match\":","2538":"{\"size\":5,\"timestamps\":{\"total\":43003731,\"processed\":43003629,\"failed\":71,\"error\":27},\"query\":{\"bool\":{\"must_not\":[{\"term\":{\"entity\":\"vaccine\"}}],\"should\":[{\"match\":{\"condition\":\"How many patients' record are received on 03\/20\/2022.\"}},{\"range\":{\"start\":\"01","8091":"\"{\n    \"query\": {\n        \"bool\": {\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"@timestamp\": {\n                            \"gte\": \"now-30d\/d\",\n                            \"lte\": \"now-29d\/d\"\n                        }\n                    },\n                    \"term\": {\n                        \"event_status.keyword\": \"FDA\"","4974":"-[{\"took\":1,\"error\":\"Unable to resolve '*test*' for type: class org.elasticsearch.search.aggregations.Aggregation.\",\"reason\":\"Failed to execute script\",\"causedBy\":{\"message\":\"java.lang.NullPointerException: Cannot invoke \\\"java.lang.String.equals(Object)\\\" because \\u0027this\\u0027 of type \\u0027*'\\u00","3258":"{\"took\":6,\"timed_out\":false,\"_shards\":{\"total\":2589,\"successful\":2589},\"hits\":{\"total\":2674,\"max_score\":1.0,\"hits\":[{\"_index\":\"vaers_covid\",\"_type\":\"raw\",\"_id\":\"2-21000041565-e2b83b2c-d9aa-","7699":"Find all the patient whose clinical notes include a string 'naproxin'. Count it.\nHow many patients who have multiple conditions are also female?\nAnswer:\nfind patients whose clinical notes include multiple conditions (multiple values) AND are also female. Count it.\nHow many patients who were vaccinated with a dose of 1 or more (>1)?\nAnswer:\nfind the patients who got vaccinated with a dose of 1","11478":"SELECT 'VAERS_ID' as 'VACCINE_NUMBER' FROM\n(\n    SELECT DISTINCT * FROM `covid-19_vaers_data.table` WHERE `LAB_DATA` LIKE \"%INFLUENZA (SEASONAL)\" AND `VAX_TYPE` = \"INFLUENZA (SEASONAL)\" AND `VAX_MANU` = \"FLUZONE HIGH-","10700":"https:\/\/covid.openvaers.com\/experimental-search?dose_series=042&first_age=0&first_age_unit=years&jurisdiction=US&symptom=Fever&vax_manufacturer_like=mrna&vax_manufacturer_like=moderna&vax_manufacturer_like=pfizer&vax_manufacturer_like=","5165":"[{\"id\":\"5d7f2080-9b60-11ec-870c-52ece284dbf2\",\"status\": \"success\", \"queryText\": {\"bool\":{\"must_not\":[{\"range\": {\"RECVDATE\": { \"gte\" : \"2022-04-13\"}}}], \"must\": [{\"terms\":{\"VAERS_ID\": [380","236":"```\n{\n    \"query\": {\n        \"bool\": {\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"@recvdate\": {\n                            \"gte\": \"2022-05-22T00:00:00\"\n                        }\n                    }\n                }\n            ],\n            \"must\": [\n                {\n                    \"term\": {","6086":"find all patients with \"body-mass-index\" [gt] \"25\".","7507":"```bash\nGET \"https:\/\/covid-vax.elastic.co\/vaxx-2\/_search?q=({\"conditions\":{\"hist_brethine\":\"yes\"},\"data\":[{\"vaersid\":\"5583947\",\"priorvax\":\"no\",\"state\":\"AL\",\"recdatetext\":\"19-Aug-21\",\"ageyrs\":16,\"recvddate\":\"03\/1","4491":"1509\n'''","10472":"```text\n{ \"query\": { \"bool\": { \"must\": [ {\"match\": {\"vaers_id\": \"*98563*\"} }, {\"term\":{\"state\":\"Michigan\"}}] }}\n```\n\nExample-2\n```text\nFind all the patients who have prior vaccination history with COVID VACCINE and have experienced symptoms of 'COVID'.\nAnswer:\n\n```text\n{ \"query\": { \"bool\":","12403":"Get all patient records that has the diagnosis field of [Electrocardiogram ST segment abnormal after vaccine]\n\nClinical Notes: What is the state where most deaths occur from COVID-19 vaccination? \nAnswer:\n    Filter by the states whose number of cases is greater than the average number of cases in the other states\n\n\n'''","3601":"{'elk': [{'condition': '[{\"$eq\": [\"RECVDATE\",\"08-30-2021\"]}]', 'type': 'AND', 'question': 'How many patients got vaccine on 08\/30\/2021?'}, {'entity_classification': {'type': \"VAERS\"}}, {\n'condition': '[{\"$eq\": [\"RECVDATE\",\"08-30-2","3491":"How many patients whose date of vaccination is 12\/17\/2021?\nThe answer is 1 because only one patient has a 'date of vaccination'.\nThe above clinical notes are converted into three parts;\n1. 'date of vaccination', 2. '12\/17\/2021', and 3. How many patients have it.\n```\n\n# Python Coding Challenge #13","3202":"{\n\"took\": {\n\"hits\": {\n \"total\": 785,\n \"max_score\": 0.346732,\n \"hits\": [\n  {\n   \"_index\": \"vaers\",\n   \"_type\": \"patient\",\n   \"_id\": \"f9aac9d1-e4ce-4b86-baea-1fc8c3b246","1137":"The question want to find all 'age_yrs', which is smaller than 0.58. Then find how many of them.\nHow to do it? \n- Based on the entity classification of the question, we can find that it will be a number of questions. \n    - It means the answer will be an integer type.\n- The condition for the question is ['age_yrs'] <= 0.58\n    \nClinical Notes","8405":"```bash\n    '{\"query\":{\"bool\":{\"must\":[{\"terms\":{\"vaersid\":\"BCG\"}},{\"range\":{\"vaxdate\":{\"gte\":\"-1wks\"}}}],\"should\":[{\"range\":{\"to_days\":{\"gte\":7}}}]}}}';\n```\n\n\nPrompt:  Find all records that have a patient has died within 2 weeks after vaccine injection. The answer should contain a filter for both conditions","2286":"Traumatic lung injury is the most common symptom after vaccination\n```\n\n![](..\/pictures\/vax-search-5.png)\n\n**Step 4** :  Create a Kibana dashboard to visualize the results and answer the question\n\n#### Example of data stored as nested objects inside the document.","9984":"The query to get clinical notes should be like below\n\n{\"took\":17,\"timed_out\":false,\"_shards\":{\"total\":5906,\"successful\":5906,\"failed\":0},\"hits\":{\"total\":{\"value\":6487968,\"relation\":\"eq\"},\"max_score\":null,\"hits\":[]}}\n\nThe query to get data of April 28, 2022","10019":"Query\n'VAERS_ID': '[?CLASS]'\nConditional Values:\n[?CONDITION] = '03\/10\/2022'.\n'RECVDATE': [?CLASS] -> [?CONDITION].\nExample 1: 03\/10\/2022, 768\nExample 2: 05\/29\/2022, 38","711":"'RI': { 'name': 'V-safe', 'numberOfRecords': 17968 },\n'RI': { 'name': 'D-Code', 'numberOfRecords': 5946 }\n'RI': { 'name': 'PHARMCODER', 'numberOfRecords': 5946 }\n'''\n\ndef read_and_process(path):\n    \"\"\"\n    Reads a file line","13028":"\\begin{code}\nGET \/reports\/_search {\n\"query\": {\n    \"bool\": {\n        \"must\": [\n            {\"match\": {\"allergies\":\"penicillin\"}},\n            {\"match\": {\"allergies\":\"morphine\"}}\n        ],\n        \"should\": [{\"match\": {\"allergies\":\"acetaminophen\"}}],\n    }\n},\n\"sort\": [{\"clin","10968":"Number of people who had '0331421A' injection: 27\n\n\n```python\nfrom bs4 import BeautifulSoup\nimport requests\nimport pandas as pd\nfrom os import getcwd\nimport json\nfrom collections import defaultdict\n\npath = r\"D:\\Work\\Python\\Projects\\ElasticSearch\\raw_data\\vaccine\\covid_vax_v2.csv\"\n#path = r","1086":"```\n\"clinicalNotes\":{\"type\":\"list\",\"condition\":[{\"conditions\":[{\"value\":[\"age_yrs\"]},{\"value\":[183]}]}],\"data\":[{\"entityClassification\":[{\"entityType\":\"patient\"},{\"type\":\"date\",\"value\":[365]}],\"condition\":[{\"conditions\":[{\"value\":[\"vaersid\"]},{\"value\":[994957","3164":"{\n      \"took\": {\n        \"hospital\": \"Hospital\"\n      }\n    }\n\nClinical Notes: Give me all the patients whose symptoms contain 'Fever'. \nAnswer:\n    {\n      \"took\": {\n        \"medication\": \"Tylenol\",\n        \"symptom\": \"fever\"\n      }\n    }\n\nClinical Notes: Give me all the patients","9974":"{\n    \"query\": {\n        \"bool\": {\n            \"filter\": [\n                {\"terms\": {\n                    \"date\":\"2021-12-06\"\n                }\n                ]\n            }\n        }\n    }\n}\nClinical Notes:  Return all cases recorded between 05\/27\/2021 and 05\/28\/2021.\nAnswer:","3657":"{\n\"query\": {\n    \"bool\": {\n        \"must\": [\n            {\n                \"range\": {\n                    \"@timestamp\": {\n                        \"gt\": \"2021-10-01T00:00:00+00:00\",\n                        \"lt\": \"2021-11-01T00:00:00+00:00\"","755":"[{\"vaxId\":\"00187450\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"birthYear\":\"1911\",\"birthMonth\":\"January\",\"birthDay\":\"14\",\"sex\":\"male\",\"deceased\":false,\"ageYears\":90.0,\"diedDate\":null,\"doseNumber\":1,\"vaccineName\":\"COVID19 VACCINE MANUFACTUR","12879":"The number of records that match the above query is 799.\n\"\"\"\n\nfrom unittest import mock\nimport pytest\nfrom os import path\n\nfrom dacite import from_dict, DictConfig\n\nimport eds as edslib\n\n\nclass TestEds:\n    @pytest.mark.parametrize((\"config\", \"query\"), [({}, \"\"), ({\"name\": \"peter\"}, \"peter","12748":"[{\"type\":\"record\",\"value\":{\"id\":\"1653700893252\",\"name\":\"vaers-1-patient-1653700893252\",\"references\":[]}}]\n\n```python\n# Imports\nimport re\nfrom datetime import date, timedelta, datetime\nimport requests\nimport urllib.request\nimport uuid\nimport elasticdump\nfrom elasticdump import","199":"['vaersid']:[\n    {'vaersid': '1076851-1'},\n    {'vaersid': '1098580-1'},\n    {'vaersid': '1099081-1'},\n    {'vaersid': '1096724-1'},\n]\n'''","9119":"```sh\n{\n    \"query\": {\n        \"bool\": {\n            \"should\": [\n                {\n                    \"match\": {\n                        \"symptom_text\": \"USJNJFOC20220237050\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"@vaers_id\": {\n                            \"from\": 55689","9482":"The following example shows how you can make an elasticsearch query.\n```elasticsearch\nGET \/test_query\/_search?pretty=true\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"bool\": {\n                        \"should\": [\n                            {\n                                \"match_phrase\": {\n                                    \"clinical_notes.vaccine\": \"USJN","11369":"SELECT COUNT(*) FROM public.vaers_data WHERE [hospital]='OT' OR [hospital]=UN;\n\nClinical Notes: \nFind number of records where hospital equals 'UN'.\nAnswer:\nSelect Count(*) From public.vaers_data where [hospital] = \"UN\"\n\nClinical Notes: \nFind number of records where hospital equals 'UN' or 'OT'.\nAnswer:\nSelect Count(*) From public.","2606":"SELECT COUNT(VAERS_ID) FROM `VAERS-DB`.`VAERS_CASES` WHERE STATE=\"CA\" AND TODAYS_DATE=2021-07-25 \n\nQuery: SELECT COUNT(VAERS_ID) FROM VAERS_DB.VAERS_CASES WHERE STATE=\"CA\" AND TODAYS_DATE=2021-07-25\n\nClinical Notes:","11487":"{\n    \"size\": 0,\n    \"hits\": {\n        \"total\": 5169,\n        \"_shards\": {\n            \"total\": 17,\n            \"successful\": 17,\n            \"failed\": 0\n        }\n    },\n    \"_shards\": {\n        \"total\": 17,\n        \"successful\": 17,\n        \"failed\": 0","5793":"Find the entity classification and label with following name: 'STANDARD','LANGUAGE','TXTBODY','SEARCH'\nPrompt: find the entity classification and label with following name: 'STANDARD','LANGUAGE','TXTBODY','SEARCH'\nExamples:\n1.Is there any patients who was taking miralax prn?\n\nThe question want the information related to patients and medicine named as'm","10086":"[{\"RECVDATE\":\"01\\\/30\\\/2021\",\"AGE_YRS\":56,\"SEX\":\"M\",\"SYMPTOM_TEXT\":\"dyspnoea (difficult breathing)\",\"L_THREAT\":\"moderate\",\"VAERS_ID\":\"4117849\",\"CUR_ILL\":\"COVID-19\"},{\"RECVDATE\":\"01\\\/30\\\/2021\",\"AGE_","10119":"https:\/\/vax.usa.gov\/search?q=flu3+recvdte%3A01%2F06%2F2022&sort=-score+asc\n\n### Drug Classifier - Create a classifier that will take any VAERS report or clinical notes as input and return an answer of what drug has been administered by the patient.\nThe answer can be in any form. You can use regular expression for","7607":"1.\n    | Elasticsearch Query  |\n    | ----------------    |\n    |                     |\n\nData Sources:\n1. Find the clinical notes for each patient, count number of records whose word match 'food' or'sensitivities'.\n2. Find the clinical notes for each patient, count number of records whose word match 'food' or'sensitivities'.\n\nFind the query for each step","7046":"Based on Entity Classification: [REQUIREMENT]\nBased on Conditional Value: [CONDITION]\nConvert Question to Elasticsearch Query: [QUERY]\n\nInput:\n[REQUIREMENT]: ['DIAGNOSIS'],['NERVE BLOCK'], ['ELECTRIC ELIZABETH']\n[CONDITION]: [YES]\n[QUERY]: [matched query to ES for nerve block diagn","9571":"Elasticsearch Query:  give me all the patients who have any clinical notes where 'VAERS_ID' = [USPFIZER INC2021504356]\n\"\"\"\nfrom __future__ import absolute_import, division, print_function\nfrom collections import OrderedDict\nimport pprint\nimport re\n\nfrom datetime import date, timedelta\n\nfrom dateutil.parser import parse as _parse","12046":"```\nGET \/civis_index\/_search?pretty=true\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\"bool\": {\n          \"should\":[\n            {\"match\": {\"vaers_id\":\"VAERSSDA-2021-07680954\"}, \"vaers_id\" : \"VARICELLA\" },\n            {\"match\": {\"va","8826":"{\"query\":{\"bool\":{\"must\":[{\"match_phrase\":{\"clinicalnotes.text\":\"ebola zaire\"}],\"must_not\":[{\"match_phrase\":{\"clinicalnotes.text\":\"dengue tetravalent\"}],\"should\":[{\"range\":{\"clinicalnotes.date\": {\"gte\":\"2022-08-17\",\"lte\":\"2022-09-27\"}, \"format","1065":"{\n    \"query\": {\n        \"bool\": {\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"age_yrs\": {\n                            \"gte\": 44.0\n                        }\n                    }\n                }\n            ]\n        }\n    },\n    \"size\": 0\n}\n\nClinical Notes:  List all patients whose state of residence is Pennsylvania (PA)","9198":"[{\"attributes\":{\"condition_value\":\"[\\\"USPFIZER INC2021391217\\\"]\",\"entity_classification\":null,\"question\":\"How many cases of heart attack were reported after taking Pfizer Covid-19 Vaccine?\",},\"id\":6,\"order\":1,\"sentence\":\"Search for any cases where the vaccine recipient got vaccine manufactured by USPFIZER INC2","2607":"{\"hits\": {\"total\": 659, \"max_score\": null, \"hits\": [{\"_index\": \"vaxsearch\", \"_type\": \"patient\", \"_id\": \"5292380\", \"fields\": {...},\"_source\":{\"age_yrs\":\"2\",\"er_visit\":\"false\",\"sex\":\"Female\",\"symptom_text\":\"chills fever pain vomiting\",\"died\":\"","5880":"```\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"_text\": \"anemic\"\n                    }\n                }\n            ]\n        }\n    },\n    \"from\": 0,\n    \"size\": 10,\n    \"sort\": [\n        {\n            \"@timestamp\": {\n                \"order\": \"desc\"","1307":"{\n  \"size\": 5000,\n  \"query\": {\n    \"bool\": {\n      \"filter\": [\n        {\n          \"range\": {\n            \"cage_year\": {\n              \"gte\": \"96\"\n            }\n          }\n        }\n      ],\n      \"must\": []\n    }\n  },\n  \"aggs\": {\n    \"name\": {\n      \"terms","7533":"Query for finding allergies of the patients\n```elasticsearch\nGET \/covid-vax-cdc\/_search {\n\"query\": {\n    \"bool\": {\n        \"must\": [\n            {\n                \"term\": {\n                    \"SYMPTOM_TEXT\": \"allergy\"\n                }\n            },\n            {\n                \"terms\": {\n                    \"Allergy\": [\n                        \"nut\"","11442":"```python\nfrom elasticapm import Pin\n\npin = Pin(\"917a86ed-d467-435f-9c09-5bdfb06c06f8\") # enter your own Pin here\n# Uncomment to turn on tracing\n# pin.start()\nquery = \"\"\"\n{\n    \"aggs\": {\n        \"top_five\": {\n            \"top_h","6680":"['ANGSCORE_VALUES'] = [8] \n\nClinical Notes: Find all the patients who has angiography and angioplasty.\nAnswer:\n['ANGSCORE_VALUES'] = [7,8] \n\nClinical Notes: Find all the patients who had a chest pain.\nAnswer:\n['CHESTPAIN_SCORE_VALUES'] = [6] \n\nC","8287":"{\"took\":0.962507,\"timed_out\":false,\"_shards\":{\"total\":1,\"successful\":1,\"failed\":0},\"hits\":{\"total\":12797,\"max_score\":0.3177613,\"hits\":[{\"_index\":\"vax_es_qa\",\"_type\":\"doc\",\"_id\":\"622b66dc7fcb73d2","11889":"```\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"VAERS_ID\": \"<Your VAERS ID here>\"}, \"filter\": {\"bool\": {\n                    \"should\": [\n                        {\"term\": {\"RECVDATE\": \"<Date Here>\"}, \"filter\": {\"bool\": {\n                            \"must\": [\n                                {\"range\": {\"AGE_YRS\": {","3421":"{\"query\":{\"bool\":{\"must\":[{\"term\":{\"vaers_id\":\"A00950\"}],\"must_not\":[{\"range\":{\"recvdate\":{\"gte\":\"2021-08-03T00:00:00Z\",\"lte\":\"2021-08-04T00:00:00Z\"}}}},{\"function_score\":{\"filter\":{\"not\":{\"terms\":{\"type","9778":"```python\n\n[{\"name\":\"How many people recorded on 04\/20\/2021.\",\n \"question\":[\"Give me all the patients whose information are received on 04\/13\/2022.\",\n              \"How many patients' record are received on 03\/20\/2022.\"],\n \"data\":[[{\"name\":\"RECVDATE\",\"value\":\"04\/13\/202","10162":"count(RECVDATE:04\/13\/2022 AND SYMPTOM_TEXT:\"PNC20\") \n\nClinical Notes:   Find a patient who had PNC20 and also died.  \nAnswer:\n    match_all |\n    filter:\n        {\n            terms:\n                {\n                    RECVDATE: [04\/13\/2022],\n                    SEX","8631":"Recipient ID:    5974059 (3)   Vaccine type:    DTaP\nAge at vax:     6-12m         Lot number:      1857307 \nDate of vax:   10\/14\/2021\nRecipient ID:    5865686 (3)   Vaccine type:    DTP (Inj.)","8153":"1.give me all the vaccines were given to patients before on 11\/20\/2021. Based on this, give me all records of patients where the vaccine was given to them before 11\/20\/2021.\n\nSample Input:\n[['VAERS ID','Sex','Age Yrs','Race','State','City','County','Zip','Phone','Email Address','IP Address','V","12686":"Biopsy Lung: [ '125876', '125879', '125877',...]\nPrompt: find the clinical notes and list all the conditions where Biopsy Lung has a relationship to the vaccination:\nExamples:\n1. Give me all the patients who had Biopsy lung associated with the vaccination. The query wants ['CLINICAL_NOTES'] based","9744":"{\n    \"took\": 6.971445789411187,\n    \"answer\": [\n        \"{\\\"op\\\":\\\"query\\\",\\\"query\\\":{\\\"bool\\\":{\\\"must\\\":[{\\\"range\\\":{\\\"RECVDATE\\\":{\\\"gte\\\":\\\"2022-04-04T00:00:00Z\\\"}}}]}}}\",\"{\\\"op\\\":\\\"","47":"GET \/clinical-notes\/_search?query=from_date:[01-14-2022T00:00:00Z TO [01-15-2022T00:00:00Z] AND \n\n\n\n### Question 7 - \nPrompt: The following table lists patient names along with their blood test results:\n|Patient ID|Result|\n|---","10001":"Find patients whose records are received on 11\/28\/2021. Find the total number of patients who receive vaccine and develop side effect symptoms such as'sneezing'. [sneezing] should be an exact match for the string \"sneezing\" or a prefix for \"sneezing\".\nExamples:\n1.Find patients whose records are received on 11\/28\/2021.","11923":"https:\/\/www.elastic.co\/guide\/en\/elasticsearch\/reference\/current\/query-dsl-bool-query.html\nhttps:\/\/www.elastic.co\/guide\/en\/elasticsearch\/reference\/current\/query-dsl-bool-should.html\nhttps:\/\/www.elastic.co\/guide\/en\/elasticsearch\/reference\/current\/query-dsl-bool-must.html\nhttps:\/\/stackoverflow.com\/questions","12602":"\"query\": {\n\t  \"bool\": {\n\t    \"must\": [\n\t      {\"match\": {\"vax_name\": \"Moderna COVID-19 Vaccine\"}}\n\t    ]\n\t  }\n\t}\n\n\t\n\n11. Clinical Notes: List all the adverse events reported for a particular manufacturer for a specific date range.\nAnswer:\n[{\"term\":\"drug\":{\"keyword\":\"Astra","12847":"{\"vax\": \"COVID-19\",\"age_yrs\":\"74\",\"sex\":\"F\",\"symptom_text\":\"fever, lethargic, muscle aches, headache, nausea\",\"died\":\"yes\",\"state\":\"SC\",\"lab_data\":{\"other_meds\":[[\"azithromycin\"]],\"current_ill\":[\"respiratory disease\"],\"prior_vax\":[],\"history\":[\"","11223":"['RECVDATE','VAERS_ID', 'COUNTRY_CD']\n1.Give me all the people whose country code are UN or RL. The condition value is [COUNTRY_CD].\n2.How many people's data have been received from UN? The answer can be the count of how many records are received from UN.\n'''\ndef patient_data(query):\n    import re\n    query = query.strip()","12074":"195\n'''\nimport re\nfrom datetime import date\nfrom typing import List, Any, Dict, Union\nfrom uuid import UUID\n\nfrom airflow.models import Variable\nfrom airflow.utils.dates import days_ago\nfrom airflow.utils.helpers import split_csv_column\n\ndef process(variable_context) -> Dict[str, List]:\n    \"\"\"\n    Input Variables:\n        RECIPIENT","4725":"Based on the example above, you can answer this question by using the following query. The query will take all the documents that have the following conditions:\n1) Allergy exists (for example, a patient has allergy for egg). \n2) Symptoms of interest exist(for example, patient experienced chest pain after vaccination).\n3) Interval from the vaccination date to the onset date is 4013.0 days.","989":"\"hits\": {\n    \"total\": 35146,\n    \"max_score\": 0.9999837,\n    \"hits\": [\n        {\n            \"_index\": \"vaers\",\n            \"_type\": \"patient\",\n            \"_id\": \"3139642\",\n            \"_score\": 0.9999837,\n            \"_source\": {","6595":"[{\"value\": \"Fall\"}, {\"value\": \"Spring\"}, {\"value\": \"Winter\"}]\n\nClinical Notes: What is the most common seasonal for male patients.\nAnswer: Spring\n\nClinical Notes: Given a patient whose age is 28 years old, what are all the diseases he or she had during that time.\nAnswer: 2254, 2692, 2727, 2","5543":"* The following example returns the number of cases that have the vaccine \"ULTRANOX\" for VAX_NAME property.\n    * The query can be re-formulated to retrieve count for other vaccines using this template.\n    * The condition is the existence of ULTRANOX vaccine name within the clinical notes field: 'clinical_notes'.\n    * Please note that any string will match against the given","4866":"```json\n{\"query\": {\"bool\":{\"must\":[{\"match\":{\"vaers_id\":\"967587-2\"} }, {\"match\":{\"test_result\":\"Test result\" }}, {\"match\":{\"prior_vaccination\":null}}]}}}\n```\n\n\n\n### Challenge 4\nPrompt:\nFor the dataset, find out who has had Pfizer vaccine for 'age group' as <6 months\nAnalyze","11062":"The following query will answer this question: \n\n    {\n      \"query\": {\n        \"match\": {\n          \"allergies.text\": \"vaccine\",\n          \"allergies.text\": \"pfizer\"\n        }\n      },\n      \"aggs\": {\n        \"filter\": {\n          \"bool\": {\n            \"must\": [\n              {\n                \"range\": {\n                  \"age_yrs","5757":"Examples:\n1.Give me all the patients whose information are received on 04\/13\/2022. The ['RECVDATE'] is 04\/13\/2022.\n2. How many patients' record are received on 03\/20\/2022. The ['RECVDATE'] is 03\/20\/2022.\nBased on the conditional values and the above","7382":"'query': {\n    'bool': {\n       'must': [\n            {'text': {'query': '\"hay fever\"', 'fields': ['hay-fever']}},\n        ],\n    },\n},\n\n#Write your code below this line\n\nimport pandas as pd\nfrom pathlib import Path\nimport numpy as np\nimport os\n\ndef loadData():\n    #Read VAERS data from csv file and convert to","8838":"['MENINGOCOCCAL_B_RABIES'] =\n1\n['MENINGOCOCCAL_B_RABIES'] = 17895\n['MENINGOCOCCAL_B_RABIES'] = 17906\n['MENINGOCOCCAL_B_RABIES'] = 17924\n['MENINGOCOCCAL_B_R","9763":"{\n\"query\": {\n    \"bool\": {\n        \"must\": [\n            {\n                \"range\": {\n                    \"vaers_id\": {\n                        \"gte\": \"20210408T07:00:00-04:00\"\n                    }\n                }\n            },\n            {\n                \"term\": {\n                    \"symptom_text.keyword\":","1717":"[{\"vaersId\":\"9856707\",\"vaerId\":null,\"ageDays\":{\"ageDays\":\"192\"},\"allergies\":\"NONE\",\"currentIllness\":\"NONE\",\"deathDate\":\"2021-10-09\",\"deathAgeDays\":\"163\",\"died\":null,\"disabilityDays\":null,\"female\":false,\"hospitalizationDays\":null,\"historyOfIllnesses\":null","9349":"[{\"age\":\"97\",\"allergies\":[\"no\"],\"death\":\"fatal\",\"died\":true,\"eer_visit\":null,\"hospital\":null,\"hospdays\":null,\"label\":null,\"labdata\":null,\"lthreat\":null,\"name\":\"Male\",\"other_meds\":null,\"prior_vax\":null,\"recvdate\":\"2022-03-08\",\"sex\":null,\"","9139":"'vax_type': 'USPFIZER INC202200028753',\n\n**Note:** This exercise is a bit different from previous ones. In this case, you will receive a file in JSON format containing a list of documents with the key-value pairs mentioned earlier. It should be used as an input when running a pipeline, which can then generate SQL queries. For more info please see the example.\n```\nExample","291":"2. How many patients' records were reported between the date range of 09-Oct-21 to 03-Jan-22?\n3. What was the number of male patients who died from the vaccine or had other significant adverse reactions within 7 days of vaccination.\n4. How many patients have reported having at least one symptom of COVID-19 post-vaccination in the past week?\n5. Who has","6742":"```json\n{\n    \"took\": 7,\n    \"timed_out\": false,\n    \"_shards\": {\n        \"total\": 5,\n        \"successful\": 5,\n        \"skipped\": 0,\n        \"failed\": 0\n    },\n    \"hits\": {\n        \"total\": {\n            \"value\": 1892,\n            \"relation\": \"eq\"","182":"{\n        \"query\": {\n            \"bool\": {\n                \"must\": [\n                    {\n                        \"range\": {\n                            \"@recvdate\": {\n                                \"gte\": \"2022-04-25\",\n                                \"lt\": \"2022-04-26\"\n                            }\n                        }\n                    },\n                    {\n                        \"term\":","5114":"Select count(patient) from VAERS where [condition 1] (potassium = 'true') or [condition 2] (potassium = 'false') [and if any condition is true, then count patient].\n\n- Selects the count of all patients that have potassium.\n- If potassium is false it will return 0 for any patient that had any other medication instead of potassium.\n\nSample response from ES","498":"{\n \"query\": {\n   \"bool\": {\n     \"should\": [\n       {\n         \"match\": {\n           \"state\": \"PR\"\n         }\n       },\n       {\n         \"term\": {\n           \"age_yrs\": 17\n         }\n       }\n     ]\n   }\n }\n}\nClinical Notes: Give me all the patients who is female and the patient have a medical history of COVID","4789":"Elasticsearch Query:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\" : {\"ANY_CONDITIONS_TEXT\" : \"test of sonogram\"} }\n            ]\n        }\n    },\n    \"from\": 0,\n    \"size\": 5\n}","1016":"['ageYears'],['vaxDate'] = '72.0', '2021-11-25'\n'''","12015":"The query which you get after completing this question will look something like:\n{\n    \"size\": 0,\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"symptom_text\": \"pain\"\n                    }\n                },\n                {\n                    \"bool\": {\n                        \"should\": [\n                            {\n                                \"bool","6005":"Query-\n[{\"from\":\"to\",\"size\":10,\"query\":{\"bool\":{\"must_not\":[\"incontinence\"],\"should\":[{\"terms\":{\"to\":\"condition\",\"value\":\"diagnosis\"}}]}}}],\nOutput-\n{\n\"hits\": [\n  {\n    \"_index\": \"vaers_dataset\",\n    \"_type\": \"case\",\n    \"_id\": \"95c1b47f-04","9976":"[\n    {\n        \"vaers_id\": \"11865792\",\n        \"recvdate\": \"02\/22\/2022\"\n    },\n    {\n        \"vaers_id\": \"11769347\",\n        \"recvdate\": \"02\/22\/2022\"\n    }\n]\n```\n\n---\n### 7.","726":"['AS']=[\"SARS-CoV-2 (COVID-19)\"],\n['COUNT']=[56876]\n\\end{code}","10762":"```elasticsearch\n{ \"query\" : {\n    \"bool\" : {\n        \"must\" : [\n            {\n                \"match\" : {\n                    \"vax_name\" : \"EC6449\"\n                }\n            }\n        ]\n    }\n}}\n```\n\n* * *\n\n### Exercise-8: Phrase Completion\n\n* Write a program that takes an input line of words","12679":"[{'VAERS_ID': '558699-1', 'L_THREAT': 'Anaphylaxis - severe', 'Age Yrs': 17, 'SYMPTOM_TEXT': 'Contrast media allergy', 'TODAYS_DATE': '2021-03-12', 'VAERS_LOTNO': 'EUA-PN-20000523","7269":"{\n    \"hits\" : {\n        \"_index\" : \"vaers\",\n        \"hits\" : [\n            {\n                \"_id\" : \"7696069.164859\",\n                \"_score\" : 1.0,\n                \"fields\" : {\n                    \"@timestamp\" : \"2022-04-08T05:00:00Z\",","4200":"The query below is what we can use to find this data.\n\n<p class=\"graf graf--p\">\n    <span class=\"markup--em markup--p--em\">\n        <span class=\"markup--strong markup--p--strong\">\n            <a href=\"https:\/\/www.vaxopedia.org\/wp-content\/uploads\/2021\/09\/Clinical-Notes.xlsx\">","11886":"{\n    \"query\": {\n        \"bool\": {\n            \"filter\": [\n                {\n                    \"bool\": {\n                        \"must\": [\n                            {\n                                \"term\": {\n                                    \"vaers_id\": \"557688\"\n                                }\n                            },\n                            {\n                                \"term\": {\n                                    \"vax_name\": \"HPV\"","11934":"{ \t\"query\": {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"bool\": {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"must\": [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{","10289":"[1] 156\n[2] FLUA3 (Flu A 3-Valent) has 3687 records.\n```\n### Suggested Approach:\n\nFind all the possible fields of the dataset that can be used as a key to lookup an answer.\n\nUse each field as a key to lookup an answer using Elasticsearch.\n\nKeep track of the query terms that you use for lookup.","5987":"Select vaers_id from vaxa where (to_date(recvdate,'MM\/DD\/YYYY') = '09\/16\/2021') AND ('DIAGNOSES' like '%car%');\n\n*\/","8425":"[{\"id\":\"90b75d82-b2ea-47e9-a6c1-c5f68e8f3bb5\",\"name\":\"MEASLES\"}\n],\n{\"id\":\"90b75d82-b2ea-47e9-a6c1-c5f68e8f3bb5\", \"name\":\"MEASLES\" }","11303":"[\n{\n\"id\": \"c95be168-3d7e-4f6a-859e-b9bfa4bd4f52\",\n\"sourceType\": \"cdc\",\n\"firstName\": null,\n\"lastName\": null,\n\"fullName\": null,\n\"dob\": null,\n\"state\": null,\n\"age\": null,\n\"vaersId\": null,\n\"","2587":"{\n    \"query\": {\n        \"bool\": {\n            \"filter\": [\n                {\n                    \"bool\": {\n                        \"must\": [\n                            {\n                                \"range\": {\n                                    \"vaxdate\": {\n                                        \"gte\": \"2021-11-10\",\n                                        \"lte\": \"2021-11-10\"","387":"The query: {query:{match_all}}\nThe conditions for each question above are as follow:\nConditions for the first question:\n['RECVDATE'] = 04\/13\/2022\n\nConditions for the second question:\n['RECVDATE'] = 03\/20\/2022\n\nConditions for the third question:\nCondition 1: [VAERS_ID] = \"9157","11179":"How many patients have a RECEIVED date before April 8th 2022?\n    select count(vaersid) as vaersid_count from vaers where recvdate < 2022-04-08;\n\nClinical Notes:  How many people got vaccine in CA?\nAnswer:\nHow many patients have a RECEIVED date after January 7th 2021 and live","11898":"Give me all the patients whose information is received after 2021-05-16 and less than 2021-07-27 whose vax_type contains DTAP + IPV + HIB and meningooccocal_b. The question asks for [vaers_id] based on [recvdate].  \nThe date range used to find ['vaers_id'] based on ['recvdate'] is >=2","988":"[\n    {\n        \"vaers_id\": null,\n        \"state\": \"N\",\n        \"age_yrs\": 0.33,\n        \"died\": false,\n        \"er_visit\": true,\n        \"l_threat\": false,\n        \"hospital\": false,\n        \"hospdays\": false,\n        \"disable\": false,\n        \"vax_date\": \"20","3856":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"sysdate\": {\n                            \"gte\": \"2022-01-21T00:00:00\"\n                        }\n                    }\n                },\n                {\n                    \"term\": {\n                        \"vaxlotterrors_id\": \"","10391":"Find patients who got FLUA3\nThe patient received the flu shot from Pfizer-Biontech.\nPatient had 17 DTAP shots of Tripedia and Vaxelis\nHow many patients got JNJ and were hospitalized?\nThe patient got Moderna and was hospitalized.\n59 patients got Moderna and were disabled due to side effects.\nNumber of patients who died from JNJ shots and have a history","7425":"Query:\nmatch against a clinical note field with \"red apples\"\nReturn the patient id of the records returned by the match query\nExample: Patient id 6789\n\nClinical Notes: Show me the patient who died because of vaccine dose 1. \nAnswer:\nMatch clinical notes against [VAX_NAME] contains [dose 1]. Return the patient ID from the document that matched.\n\nQuestions","10145":"2\nThe condition [FLUX] can only be true if [COVID19] is true or [CHILD_DEATH] is true.  \nThen using the condition value of [COVID19] or [CHILD_DEATH], the search should look for [FLUX].\n```\n\n### Example\nInput\n\n```python\n{'entity_type': 'clinical',\n 'name': 'flux',","4917":"curl -s 'http:\/\/localhost:9200\/covid19\/test?size=25&from=0&to=-1' -d '{\n    \"query\" : {\n        \"bool\" : {\n            \"must\" : [\n                {\n                    \"term\" : { \"TEST_RESULTS\": \"aptt\"}\n                }\n            ]\n        }\n    }\n}' | python -mjson.tool","4855":"The first part of the clinical notes question needs an aggregation over the symptoms field using a terms aggrigation to get the top 5 most frequently occurring words which matches \"high temperatures up to 112\". In addition, the aggregation would be filtered by using [match] operator which will look for the exact match of high temperatures up to 112.\nSecondly, we need to group those top 5 word that has been captured as","10857":"['RECVDATE']:[04\/15\/2022], ['VAERS_ID']:934906\n\nClinical Notes:  Give me the number of vaccinations given out to date on 934906.  \nAnswer:\n2\n\nClinical Notes:  Given today's date of 04\/28\/2022 what would be the RECVDATE for someone","5036":"Give me all the records where: \n(condition) : ['VAERS_ID', 'LAB_DATA', 'GLUCOSE']  \n(conditionValue): \n['GLUCOSE'] == 'GLUCOSE LEVEL TESTING'","4120":"Elasticsearch query:\n    {\n      \"query\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"match\": {\n                \"VAERS_id\": \"95992\"\n              }\n            },\n            {\n              \"range\": {\n                \"@timestamp\": {\n                  \"gte\": \"2021-06-21T00:00:00Z","3069":"2557\n\"\"\"\n# Create a connection to your ES cluster\n\nclient = Client(hosts=['http:\/\/localhost:9200'])\n\n# Open index that we will be querying\n\nindex = client.get_index(\"vaxsafe\")\nresponse = index.create_alias('pivot')\nassert response.status_code == 200\n\n# Query ES for number of records per month\nresponse = index.m","12826":"Yes, there are 288 records containing this phrase [enlarged uvula] \n\nSentence:  In what month did more people experience Enlarged uvula symptom?\nAnswer:\nThe month which has the most cases is August, where we see a total of 5766 cases.\n\nSentence:  What age group of people had the highest Enlarged uvula symptom?\nAnswer:\nThe","3340":"'vaersid':['5643072','5632046',],\n\nReason for query: There were 3 different queries in the given sentences. First one was [\u2018vaersid\u2019] based on ['RECVDATE'], second query was \u2018how many patients got vaccine on 09\/28\/2021,\u2019 which needs [\u2018VAERS_ID\u2019] based on ['RECVDATE'], third","12714":"```bash\n{\"took\":9,\"timed_out\":false,\"_shards\":{\"total\":5,\"successful\":5,\"failed\":0},\"hits\":{\"total\":10987,\"max_score\":null,\"hits\":[{\"_index\":\"vaers\",\"_type\":\"event\",\"_id\":\"VD-5686560-1\",\"_score\":1,\"_source\":{\"patient_name\":\"JOHNSON AN","4590":"The patient was given an influenza vaccine on December 5th. On March 3rd she received a covid-19 vaccination. She started experiencing symptoms associated with Guillain\u2013Barre syndrome on June 18th and her diagnosis was confirmed on July 1st.","12730":"GET \/covid-19-raw?q=vax%3ACOVID-19+vaersId%3A%272065723%27&size=100&sort=[{\u201cfield\u201d: \u201cstate\u201d, \u201corder\u201d : \u201cdesc\u201d }]&from=0\n\nExample 2:\nList the patient who got Pfizer vaccine with COVID 19 (COVID-19","8051":"GET clinicalnotes\/clinicalnotes\/_search {\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"range\": {\n            \"@date\": {\n              \"from\": \"2021-07-20T00:00:00+00:00\",\n              \"to\": \"2021-07-21T00:00:","12281":"Elasticsearch Query:\n[{\"bool\":{\"must\":[{\"terms\":{\"vaers_id\":[\"RECOMBIVAX HB\"]}}],\"should\":[{\"bool\":{\"must_not\":{\"ids\":[]},\"must\":[{\"terms\":{\"age_yrs\":\"57\"},\"filter\":{\"bool\":{\"must_not\":{\"missing_indicator\":\"true\"}}}],[{\"range\":{\"died\":{\"gt\":0}}}]}}]}},{\"query_","11360":"The clinical notes entity has a class of 'clinical note' and the condition of vaccination in Los Angeles or Laguna Beach ('LG', 'LA'). \nYou will have to check all rows where either 'LG' or 'LA' are present in the 'CITY' column (the entity classification). Then check if the row contains any condition of vaccination ('Y'\/'N'). \nIn this case, since there are two conditions (","9145":"Ans: |\n       \"size\": 2000,\n        \"from\": 0,\n        \"query\": {\n            \"bool\": {\n                \"must\": [\n                    {\n                        \"match\": {\n                            \"allergies\": \"USPFIZER INC2021496450\"\n                        }\n                    },\n                    {\n                        \"terms\": {","9201":"['VAERS_ID']='202200545353'\n\nSample data:\n\n{\n    \"doc\": {\n        \"_index\": \"vaxx\",\n        \"_type\": \"patient_info\",\n        \"_id\": \"1\",\n        \"reccdate\":\"07\/14\/2022\",\n        \"vaers_id\": \"01986068\",","273":"```Elasticsearch Query\n\"from\":  \"02\/08\/2022\",\n```\n### 12) Requirement #12\nPrompt: Give me all the patients' record based on the query [name=Patient Name]\nExample: Give me all the patient's record of 'Jackson'.\nAnswer:\n```Python Code\n\"\"\"\nThe Elasticsearch query should look like the below image.\n[","538":"Input:\n\"Give me all the patients who have Vax_Manu Pfizer\".\nThe answer is:\n'{\"hits\":{\"total\":5439,\"max_score\":3.087136,\"hits\":[{\"_index\":\"vaers_covid\",\"_type\":\"patient\",\"_id\":\"4558995\",\"_score\":3.087136,\"fields\":{\"prior_","1349":"{\n    \"size\": 0,\n    \"hits\": {\n        \"total\": 997556,\n        \"max_score\": null,\n        \"_shards\": {\n            \"total\": 603,\n            \"successful\": 603,\n            \"skipped\": 0\n        },\n        \"hits\": [\n            {\n                \"_index\": \"vaers\",\n                \"_type","11770":"[{\"id\":1690517,\"vaers_id\":\"2244833\",\"vax_type\":\"DTAP + IPV + HIB (PENTACEL)\",\"vaers_date\":\"2022-03-11\",\"patient_sex\":\"Male\",\"vaers_manufacturer\":\"Wyeth Pharmaceuticals Inc\",\"age_mons\":\"4\",\"symptom\":\"N\/","3859":"[{\"VAERS_ID\":\"6953578\",\"REPORTED_START_DATE\":\"07\/01\/2020\"}].\n\nClinical Notes:  Give me all the patient who experience any abnormal bleeding during their period.\nAnswer:\n    [\"Abnormal uterine bleeding\",\"Abnormal Vaginal Bleeding\",\"Abnormal vaginal bleeding\"].\n\nClinical Notes:  Give me","2853":"```sql\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"@timestamp\": {\n                            \"gte\": \"2021-01-01T00:00:00Z\",\n                            \"lte\": \"2021-12-31T00:00:00Z\"","9843":"```elastic\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"@timestamp\": \"\\\"02\/08\/2022\\\"\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"@timestamp\": {\n                            \"gt\": \"now-7d\/d\"\n                        }\n                    }","4828":"```\nGET \/VAERS\/_search\n{\n    \"query\": {\n        \"bool\" : {\n            \"must\": [\n                {\"match\":{\"VAX_NAME\":\"test of physical\"} }\n            ]\n        }}\n}\n```\nClinical Notes: Show me all the symptoms associated with the drug \u2018Tamiflu\u2019.\nAnswer:\n\n```\nGET \/VAERS\/_search\n{\n    \"query\": {","12937":"The plantar fasciitis has 159 cases of it as a side effect. It is followed by the pain in the leg, joint swelling, joint discomfort, limb pain, knee pain, and shoulder pain\n'''\n\ndef check_sentence(sentence):\n    sentence = re.sub('[^A-Za-z ]','', sentence).strip().replace('\\n','')\n    return sentence\n\ndef get_","7718":"[{\"name\":\"hydromorphone hcl\",\"count\":376,\"percentage\":0.037598354},{\"name\":\"talc\",\"count\":376,\"percentage\":0.037598354}]\n[{\"name\":\"hydromorphone hcl\",\"count\":376,\"percentage\":0.037598354},{\"name\":\"talc\",\"","4014":"\"query\": { \"bool\": { \"must\": [ {\"range\": { \"REPORTED_DATE\": {\"gte\": \"2020-12-31T00:00:00Z\" }}} ] } }\n'''\n'''\nQUESTION 4:\nPrompt: The query above only show cases when the adverse event started on 12\/31\/2020. Write a new query that returns all","10078":"The clinical notes has an example of a [Vaccine] type with the [symptom_text] \u201cBlood clot in brain\u201d which falls under the [blood clots] category. This symptom will be returned from the query if the query has the [vaers_id] (897040), [age_yrs], [gender], and [prior_vax] all matching for this specific instance.\n```","4972":"``` \n{\n    \"took\": 57,\n    \"error\": null,\n    \"hits\": {\n        \"total\": {\n            \"value\": 8694\n        },\n        \"max_score\": null,\n        \"_shards\": {\n            \"total\": 3,\n            \"successful\": 3,\n            \"skipped\": 0,\n            \"failed\": 0\n        },","6798":"{\n    \"from\": 0,\n    \"size\": 10,\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"symptom_text\": \"palpitations\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"vaers_id\": {\n                            \"gte\": \"2176","7026":"Select count(*) from [data set].[entity]\nwhere [condition].\nThe condition could be based on the labels or conditional values from the entity classification.\n'''\n\n# -----------------------------------Data Set--------------- #\n\nif __name__ == \"__main__\":\n    DATA_PATH = os.path.join(os.path.dirname(__file__), \"..\", \"..\", \"..\",\"data\")\n    raw_path = os.path","11296":"https:\/\/www.elastic.co\/guide\/en\/elasticsearch\/reference\/current\/bool-filter.html#_examples\n\nSentence Classification:\nBased on the condition classify the given sentences to find out which conditions have been matched by the system.\nExamples:\n1. Find the clinical notes which match to the following condition:\n   - 'VAX_NAME': 'COVID-19 MRNA VACCINE BAR","1890":"\"give me all the patients who have Rhesus antigen negative.\"\n\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"","3629":"The number of patients who got vaccine on 12\/14\/2021 is '1'.  \n['RECVDATE']  is 12\/14\/2021 and the condtion for ['RECVDATE'] is if 'RECVDATE' matches with 12\/14\/2021 then the result should be '1' which is true since there is only one record on 12\/14\/","5912":"Elasticsearch Query: \"body\": \"patient.text.keyword:(kidney cyst) AND patient.right\"\n'''\nfrom pyspark.sql import functions as F\nimport pyspark\nfrom pyspark.sql import SQLContext, HadoopFs\nimport re\nfrom elasticsearch_dsl import Search\nimport datetime\n\ndef convert_to_elasticSearch(spark):\n    \"\"\"\n    Convert text fields into a form","12838":"Yes\n    No\n    Don't know\n    Null\nQuestion 4:\nIn the previous question, if you selected \"Don't Know\",then how can you show more detailed information in one single page?\nWhat do you expect in the output of the dashboard?\nDescribe your solution with examples.\n\nThe Clinical Notes will be stored as a single string type column. And we need to filter out the clinical notes which contain some keywords","9044":"{\"query\":{\"bool\":{\"must\":[{\"term\":{\"vaers_id\":\"USPFIZER INC202101630906\"},\"boost\":1}]}}}\nClinical Notes: How many patients were given Pfizer Vaccine?\nAnswer:\n{\"query\":{\"bool\":{\"should\":[{\"term\":{\"vaers_id\":\"USPFIZER INC202101630906\"}}","2535":"SELECT patientid\n    FROM elastic.data\n    WHERE vaxdate = '04\/20\/2022' AND died = 1\n    \nClinical Notes:  Find all vaccine recipients whose age is at least 5 years old and who died on or before 04\/20\/2022.  \nAnswer:\n    SELECT patientid\n    FROM elastic.data\n    WHERE age >=","5767":"Query for finding patient records who have taken the medication Atorvastatin:\n[{\"entity\":\"patient\",\"condition\": {\"value\": [\"has\", \"prescribed\"],\"operator\": \"AND\"},\"fields\":[\"medication\",\"dosage\",\"startdate\"]}]\nExample for using conditions in query for specific search criteria:\nhttps:\/\/stackoverflow.com\/questions\/68955778\/elasticsearch-conditions-and-operator\n\"\"","1802":"- ['VAERS_ID', 'RECVDATE'],\n\t\t[17597064, '04\/14\/2022'],\n- ['VAERS_ID', 'RECVDATE'],\n\t\t[18118578, '04\/25\/2022'],\n- ['VAERS_ID', 'RECVDATE'],\n\t\t[19483447","2829":"{\"took\":7,\"timed_out\":false,\"_shards\":{\"total\":1,\"successful\":1,\"failed\":0},\"hits\":{\"total\":497546,\"max_score\":null,\"hits\":[],\"aggregations\":{}}}\n\n## Solution:\n\n### Step 1: Data analysis\n\n1. The column is categorized into `entity` or `condition`.\n2. For each of the columns","2826":"The patient's symptoms are dyspnea and headache. They had their last COVID-19 vaccine dose series on April 13th, 2022. They have a history of prior COVID-19 vaccination. Their current illness started on March 20th, 2022.\n\nPrompt: Give me the name and date of birth of all the patients with symptom 'dyspnea'","4112":"Query:\nmatch_phrase = 'onset date', date range (date from : [2\/19\/2022] and date to : [2\/19\/2022])\n\n'''\n\n# create a variable that holds your raw text data, like this\nraw_text = '''\n<html>\n    <head>\n        <title><\/title>\n    <\/head>\n\n    <body>\n        <h","1665":"give me all the patients who have a symptom of blood testosterone normal after taking vaccine [label] [VAERS ID] [State] = [name of state], after receiving their first dose of the vaccine\n\nThe answer should be a list of vaxer IDs for which [name of state] is equal to [name of state].\nFor example, if we want to check for Texas then [name of state] should be equal to Texas","5482":"Elasticsearch query for the clinical notes:\n\n    curl -sXPOST 'https:\/\/data-uswest.health.gov\/resource\/d1a68b57-5e7f-49ea-ae6a-42d8010ec67c?pretty=true&include_docs=false' \\\n\t\t\t--header 'Authorization: Bearer <your_token>' \\","6647":"Query:\n{\"query\": {\"bool\":{\"must\":[{\"terms\":{\"condition\":\"prostate cancer\"}},{\"terms\":{\"entity\":\"patient\"}}]}}}\n\nPatients with conditions that are 'prostate cancer':\nhttps:\/\/raw.githubusercontent.com\/Ashwin-Chandran-Kalladan\/Academic\/master\/Dataset\/clinical-notes.csv\n```\n\n### Questions 3 - Pred","5806":"patients=mapper.entity(\"VAERS\").condition([\"medications\",\"OTHER_MEDS\"]).query(mapper.query('\"vyvanse\"'),{\"AND\":\"all\",\"FIELD\":\"keyword\"}\n\n# 8\nWrite a program that will create an index from file","1862":"|VAERS ID| VAERS_DATE |  PATIENT ID   |  INDICATED AGE |\n-------------- | ----------- |  ------------  |  ----------  |\n1559706 | 2022-04-13  | 80503         | 10 YEARS OLD   |\n1559707 | 20","10451":"{\"took\":1,\"timed_out\":false,\"_shards\":{\"total\":197,\"successful\":197},\"hits\":{\"total\":656080,\"max_score\":null,\"hits\":[]}}","6691":"{\n   \"query\": {\n      \"bool\": {\n         \"should\": [\n            {\n               \"bool\": {\n                  \"must\": [\n                     {\n                        \"match\": {\n                           \"SYMPTOM_TEXT\": [\n                              \"brain inflammation\"\n                           ]\n                        }\n                     },\n                     {\n                        \"match\": {\n                           \"VAERS_ID\":","11833":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"term\": {\n            \"VAERS_ID\": \"00567419\"\n          }\n        },\n        {\n          \"bool\": {\n            \"should\": [\n              {\n                \"match\": {\n                  \"SYMPTOM_TEXT\": \"ADSORBED (TD)\"\n                }","5675":"SELECT [*] FROM [data][clinical_notes] WHERE ([patientId] IN (SELECT PATIENTID FROM VAERS) AND [Advil] IN ('Advil'))\n\n\n### Q2 - 30 Seconds\nWhat is the age range of children admitted to hospital?\nHow many female children have been admitted to hospital? \nWho are these children taking Advil prn for?\n[Hint: Use Entity Classification and","12203":"[\n    {\n        \"answer\": \"2\",\n        \"confidence\": 0.9265625\n    }\n]","520":"GET \/covid19\/_search?from=0&size=100&query={\n    \"bool\": {\n        \"must\": [\n            {\"match\": {\"RECEPTION\": \"NV\"}}\n        ]\n    }\n}\n'''\n\n# Load a CSV file\ndata = pd.read_csv('resources\/vaers_data.csv')\n\n# Create an indexer object\nindexer = VaccineAd","11563":"Find all 'CASEIDs' where the condition of following two columns 'BRANDNAME' and 'ZOSTER' match.\n\n|['BRANDNAME'] |['ZOSTER']                        |\n|-------------------|-----------------------------|\n|Moderna Inc.     |AstraZeneca (No Brand Name)  |\n|Moderna Inc.     |Novavax Inc. (No Brand Name) |\n\nPrompt: find all","6741":"{'name': 'RECVDATE', 'entityClassification': ['date'], 'labelConditionalValue': ['=', '2022-09-07']} \n\nQ17. Clinical notes: Search for all the patients who had a heart attack after receiving the second dose of COVID vaccine and were hospitalized for at least two days.\nAns:\n'''\nQuestion : Given this table of VAERS entries, find","3993":"{\n  \"from\": 0,\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"should\": [\n        {\n          \"range\": {\n            \"@timestamp\": {\n              \"gte\": \"2020-05-01T00:00:00Z\"\n            }\n          }\n        },\n        {\n          \"match\": {\n            \"v","2686":"The query will retrieve the number of patients who died on 09\/08\/2021.\n\\end{code}\n\nHere's my code so far:\n\n\\begin{code}\nfrom elasticsearch import Elasticsearch\nes = Elasticsearch('http:\/\/localhost:9200')\n\nentity_classification = 'Patient'\ncondition = 'DEAD'\ncondition_value = 9\/8\/2021","6040":"[{\"VAERS_ID\":\"979580\",\"RECVDATE\":\"2021-10-12T22:01:36.000Z\",\"DEATHS\":\"\",\"SYMPTOMS\":null,\"STAFF_REPORT\":false,\"AGE_YRS\":null,\"GENDER\":\"female\",\"COVID19_TESTING_RESULT\":null,\"COVID19_OUTCOME\":","12571":"Query: \"infrequent bowel movement\" OR \"difficulty passing urine\"\n\nClinical Notes:  How many people had an acute cardiovascular event within 7 days of vaccination?\nAnswer:\nQuery: acute cardiovascular event OR sudden death\n\nClinical Notes:  How many people had seizure or convulsions associated with getting vaccinated?\nAnswer:\nQuery: se","4472":"{\n\"query\": {\n    \"bool\": {\n        \"filter\": [\n            {\"range\": {\n                \"@timestamp\": {\n                    \"gte\": \"2022-07-06T00:00:00+00:00\",\n                    \"lt\": \"2022-08-05T00:00:00+00:00\"\n                }","8903":"The number of patients whose vaccination history contains 'BCG', but does not contain 'HIB'\n\"\"\"\n\n# -*- coding: utf-8 -*-\nfrom __future__ import unicode_literals\n\nimport re\n\nimport elasticsearch\nimport nltk\nimport pandas as pd\nfrom bs4 import BeautifulSoup\nfrom sklearn.feature_extraction.text import TfidfVectorizer\nfrom tqdm","8742":"1. What was the date of vaccination? (condition)\n2. Who were the recipients? (condition)\n    - What was the age at vaccination date? (classification)\n    - What was the date of death? (question)\n3. What other diseases does the person have? (classification)\n\nRecipient: [ADENOVIRUS TYPES 4 & 7, LIVE, ORAL","9659":"{\n  \"hits\" : {\n    \"total\" : 985675,\n    \"max_score\" : null,\n    \"hits\" : [\n      {\n        \"_index\" : \"vaxxed\",\n        \"_type\" : \"patient\",\n        \"_id\" : \"29376757\",\n        \"_score\" : null,\n        \"_source\" : {\n          \"","663":"Query1:\n \t\t\t\t\t\t \t\t\t\t\t\t\t\t\n\t    \"patient\": [\n\t        {\n\t            \"sex\": \"F\",\n\t            \"age\": 59,\n\t            \"symptoms\": [\"Dyspnea\"],\n\t            \"state\": \"MT\"\n\t        }\n\t    ]\n\nQuery2:","11918":"['VAERS_ID'],['RECVDATE','VAX_DATE'],['VAERS_ID'] from 'covid',['RECVDATE','VAX_DATE'],['VAERS_ID'] from 'influenza',['RECVDATE','VAX_DATE'],['VAERS_ID'] from 'fluarix',['RECVDATE','VAX_DATE'],['VAERS_ID'] from 'covid',['RECVDATE','VAX_","4902":"```\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"@timestamp\": {\n                            \"gt\": \"now-7d\"\n                        }\n                    }\n                },\n                {\n                    \"bool\": {\n                        \"must\": [\n                            {\n                                \"match_phrase\": {\n                                    \"note.keyword","12282":"The first part of the question can be answered as follows:\n- Based on 'vax type': 'ACTHIB', filter the results using the ElasticSearch [bool query](https:\/\/www.elastic.co\/guide\/en\/elasticsearch\/reference\/current\/query-dsl-bool-query.html).\n- The second part of the question requires the number of occurrences where 'hist' is 'threat'.\n- Use the [match","9893":"The response of the query should be the patient id which has a clinical note entered on 02\/23\/2022.\n```\n\n### Task 2: Extract Clinical Note Details from Patient Record\n\nThis task extracts all patient details based on the query in `Task 1` and return their clinical notes as text data. A sample of the text output can be seen below:\n\n> 1.Give me","5007":"Query: \n\n    \"vax-type\": {\n        \"values\": [\n            \"COVID-19\",\n            \"HEPATITIS B\"\n        ]\n    },\n    \"mchc\": {\n        \"type\": \"boolean\",\n        \"value\": true\n    }\n    \nInput:\nPrompt: Find the number of cases who have taken Hepatitis B Vaccine. Then from those cases, find","716":"Give me all the patients who have [age greater than or equal to] 6 months old. The age of a patient will be greater than or equal to 6 months if 'AGE_YRS' is [greater than or equal to] 6.\n\\end{code}\n\n\\begin{code}\nclass ClinicalQuestions {\n    public String getAnswer(String input) throws IOException {\n        Map<String, Object> map =","11002":"Gives you a list of names which are part of the clinical notes\n'''","12175":"\\begin{code}\nSELECT COUNT(DISTINCT (vaccines)) FROM `vaers_db`.`patients`\nWHERE vaccines LIKE \"%INFLUENZA% AND %MENINGOCOCCAL%\"\n\\end{code}\n\n\\section{2-3.}\n\n**Prompt: Give me all the patients whose information are received on 04\/13\/2022. The question want ['VA","9004":"Query : '{\"query\":{\"bool\":{\"must\":[{\"term\":{\"vaers_id\":\"USPFIZER INC2021285292\"},\"operator\":\"or\",\"boost\":1},{\"term\":{\"received_date\":\"2021-12-28\"}}]}}}';\n\nNote: You can use regex as below, for eg: vaers_id = [A-z]+. This will match both 2","8989":"['VAERS_ID': [201718, 201946], 'OTHER_MEDS': [['COVID-19 VACCINES'], ['PENTAVIR']]\n\n\"\"\"\n\nfrom fhir.resources import ClinicalNote as _ClinicalNote\n\n\ndef test_clinical_note():\n    \"\"\"Test Clinical Note resource.\"\"\"\n\n    # Given","10406":"['VAERS_ID'] = [patientId] AND ['VAX_MANU']= 'UNKNOWN MANUFACTURER'\n\n\n**Note:  All the inputs in a sample case should be mutually exclusive. For example, if a patient is male then it cannot also be female at the same time.**\n\n\n### Prepare Your Workspace\nYou will need to make sure your workstation is properly set up for","3767":"The query should be based on the patient '[VAERS_ID]' based on '[ONSETDATE]. It will search for the clinical notes and return any symptom text that has the condition value '11\/30\/2021'.\n\nClinical Notes: What is the symptom text for the patient \"26382975\"?\nAnswer:\nFor this case, it will use the patient id 2638","12506":"Find the entity classification and label for the following variable:\n[ 'SPEECHTHRESHOLD', 'ACOUSTICNEUROPATHY', 'NOISEINTRODUCTION', 'AUDIOGRAM', 'SPREADINGDEAFNESS', 'TINNITUS', 'VESTIBULARSTIMULATION', 'AUDITORYELECTRICALSTIMULATION' ]\n\nPrompt:","1519":"SELECT COUNT(DISTINCT vaers_id) FROM clinical_notes WHERE received_date = \"12-30-2021\";\n\nClinical Notes: Give me all the patients whose reports received on 10\/22\/2021 and had prior vaccination.\nAnswer:\nSELECT * FROM clinical_notes WHERE received_date = \"10-22-2021\" AND has_prior","1619":"['VAERS_ID', 'RECVDATE', 'SYMPTOM_TEXT'] = {\n    \"polychromasia\" : [6758089-1, 2021-12-14, 2022-04-12]\n}\n\nClinical Notes: Give me all the patients who had a reaction that caused them to seek emergency care after the vaccine.\nAnswer:","11957":"Give me the list of Patients who have had twinrix vaccination and fluvalent vaccination.\n```","1880":"-patients[Biopsy lung]\n\"\"\"\n# -*- coding: utf-8 -*-\nimport re\nimport requests\nfrom elasticsearch import Elasticsearch\nfrom bs4 import BeautifulSoup as soup\nimport pandas as pd\nimport sys\n\nfrom collections import defaultdict\ndef clean(text):\n    \"\"\"\n    clean text of HTML tags,\n    change characters into one word, and keep only English words\n    (or other language","11936":"1. Get all the patients who got the HIB (HIBERIX) vaccine.\n2. Get all the patients who got the COVID19 (COVID19 (MODERNA)) vaccine.\n3. Find out if there are any patients who got both of them together.\nAnswer:\n```bash\n#1.\nGET \/couchdb\/_design\/patients\/_view\/vaxinfo?limit=1000","5718":"[{'@timestamp': '2021-07-05T08:39:01.453609Z', '@eventID': '8e8c97d1-b31a-49ce-ad80-f15fd3bee585', '@severity': 'Not Critical', 'patientId': u'2021568738',","8609":"{\"took\":29,\"timed_out\":false,\"_shards\":{\"total\":5,\"successful\":5,\"failed\":0},\"hits\":{\"total\":80906,\"max_score\":1,\"hits\":[]}}\n\nClinical Notes: Give me all the patients who died of unknown reasons. \nAnswer:\n{\"took\":29,\"timed_out\":false,\"_shards\":{\"total\":5,\"success","448":"The most people will be those who submitted on 03\/05\/2022\n\nPrompt: find the entity classification and label with following name: 'STANDARD_ABBR', 'NATION', 'PROVINCE', 'COUNTY', 'TOWN', 'POSTAL_CODE', 'FULL_ADDRESS', 'GENDER', 'NATIONALITY', 'AGE', 'EMPLOYMENT', 'EMPLOYMENT","1553":"Elasticsearch Query:\n    {\n      \"query\": {\n        \"bool\": {\n          \"must\": [\n            {\n              \"terms\": {\n                \"@entity\": \"Disability\"\n              }\n            },\n            {\n              \"terms\": {\n                \"symptomText\": \"Tympanic membrane disorder\"\n              }\n            }\n          ]\n        }\n      }\n    }","714":"Query:\n\"\"\"\n    #['TX'] = {'age': [125, 256, 513],'symptom': [\"headache\",\"fever\"]}\n    \"\"\"\n    \"\"\"\n    d1=['TX',[{'age':[125,256,513],'symptom':[\"headache\",\"fever\"]}]\n    d2=[1,2,3]","4087":"The query will be ( 'onset_symptoms_date_value' : { $gte: '2013-07-22T00:00:00Z', $lt: '2013-08-06T00:00:00Z'} )\n\n'''\n# # # # # # # # # # # # # # # # # # # # # # # # #","1162":"Query: {\"query\":{\"bool\":{\"must\":[{\"range\":{\"age_yrs\":{\"gt\":\"= 5.83\"}}}],\"must_not\":[{\"term\":{\"prior_vax\":{\"value\":\"None\"}}}]}},\"from\":0,\"size\":0}\nResponse:\n5\n\nClinical Notes: Find the number of patients who took the Moderna vaccine.\nAnswer:\nQuery: {\"query\":{\"bool\":{\"must_not","12070":"{\"hits\":{\"total\":25,\"max_score\":2.973863,\"hits\":[{\"_index\":\"vax-entity\",\"_type\":\"fact\",\"_id\":\"7f9bb7a3-5c3d-4cbe-b4ee-443417bd6bf0\",\"_score\":2.973863,\"_source\":{\"ENTITY_CLASSIFICATION\":\"VAC","5177":"Find the clinical notes which contain text \"mri\" and have a date after the VACCINE_ADMINISTRATION event.\nThis means that for each patient, we should first retrieve its clinical notes that contain the keyword \"mri\". Then, for each note, check if it contains a vaccine administration event. If so, return true, otherwise false.\n\n```python\n# Clinical Note\nfinding: ['clinical_notes","10401":"```json\n[{\"vaers_id\":\"6359208\",\"date_received\":\"2022-02-01\",\"first_name\":\"TJ\"}...]\n```\n\n```bash\ndocker run -p 9200:9200 -e \"elastic_url=http:\/\/localhost:9200\" -it --rm devmats\/nlp-clinical-trials docker\/python","12069":"Give me all the people whose information are received on 11\/28\/2022. The question wants PNEUMO ('VAX_NAME') based on RECVDATE ('RECVDATE').  The condition value is 'PNEUMO'.   Then add another search query for ANTHRAX (No Brand Name).\n\nNote: 'RECVDATE' will have multiple records of same day (e.g. three patient records with their respective","382":"```sql\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"term\":{\"VAERS_ID\":\"20200786\"}},\n                {\"range\":{\"dateOfOnset\":{\"gte\": \"2022-01-09\", \"lte\": \"2022-01-10\"}}}\n            ]\n        }\n    }\n}\n```\n```json","10051":"How many records were sent on March 29, 2022?\n\nThe date column 'RECVDATE' can be used as a filter for the search. The filter should return the count of patients with this symptom on that particular day.\n\nExample Data Source:\n['RECVDATE','STATE','AGE_YRS','VAERS_ID','SEX','SYMPTOM_TEXT','DIED','ER_VISIT','L_THRE","9647":"Using the code, it can be seen that the output is 14, which is correct.\n'''\nfrom elasticsearch import Elasticsearch\nimport pandas as pd\nimport datetime\nimport json\nimport requests\ndef get_data():\n    \"\"\"This function will connect to the API for VAERS and return data\"\"\"\n    query = \"select * from vaers.mesd where vaccinemanufacturer!='' and vaxstatus!='Unknown'\"","7796":"Allergy to petroleum pushed inhalants: 659975\nSeasonal Allergies : Fall: 530890\nSpring: 568241\nSummer: 509799\nFall and Winter: 546744\nFall and Spring: 515848\nFall and Summer: 442495\nSpring and Summer","8935":"{ \"took\": [ {\"match\": {\"vaers_id\":\"USPFIZER INC202101742578\"}} ], \"from\": [{\"match\":{\"recvdate\":\"01\/29\/2021\"}}],\"size\":0}\n'''\n\n### I\/P:- List of Conditional Values, list of Questions\n### O\/P:- List of ES Queries that","3167":"{\"took\":6,\"timed_out\":false,\"_shards\":{\"total\":5,\"successful\":5,\"failed\":0},\"hits\":{\"total\":{\"value\":9820049,\"relation\":\"eq\"},\"max_score\":null,\"hits\":[{\"_index\":\"vaxsearch\",\"_type\":\"patient\",\"_id\":\"018c04e7-a820-4a09-baf","9322":"[{\"vaersid\":\"1905168\",\"symptomtext\":\"Died\",\"ageyrs\":0,\"vaxdatercvdate\":\"2022-05-04T00:00:00-07:00\",\"statecode\":\"NY\",\"labdata\":\"No other medications at this time\",\"otfhistory\":\"Never had COVID-19\",\"histology\":\"None\",\"allergies\":","945":"https:\/\/www.elastic.co\/guide\/en\/elasticsearch\/reference\/current\/query-dsl-bool-query.html#query-dsl-bool-query-should\n{\n    \"bool\": {\n        \"must\": [\n            {\n                \"term\": {\n                    \"age_yrs\": 68.0\n                }\n            },\n            {\n                \"range\": {\n                    \"@timestamp\": {","10138":"['vaers_id'] should be [00879670],\n['recdate'] = [1657346964]\n['prior_vax'][0][0] = [\"Moderna\"]\n['hist_stat'] should contain ['hospitalized']: True\n['state'] = [\"PA\"]\n['allergies'][0][0] contains'milk': True\n['sympt","9343":"```bash\n    query: {\n        \"bool\" : {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"@timestamp\": {\n                            \"gte\": \"now-1d\",\n                            \"lte\": \"now\",\n                            \"format\": \"strict_date_optional_time||epoch_millis\"\n                        }\n                    },\n                    \"query\":{","7768":"Allergies :\n[['sumatriptan',878],['grapefruit juice',950]]\n\n'''\nimport re\nfrom io import StringIO\nfrom bs4 import BeautifulSoup as soup\n\nimport requests\nimport json\nimport numpy as np\nimport pandas as pd\nimport string\nimport datetime as dt\nimport os\nimport time\nimport random\nfrom collections import OrderedDict\nfrom tqdm import tqdm","10780":"\"vax_name\": \"Pfizer-BioNTech\",\n        \"vax_lot\": null,\n        \"vax_type\": \"COVID-19\",\n        \"vax_dose_series\": 1,\n        \"all_erg\": false,\n        \"hospital\": null,\n        \"state\": \"NJ\",\n        \"vaers_id\": 1877087,","6221":"GET clinical_notes\/_search\n{\n\"query\": {\n    \"bool\": {\n        \"filter\": [\n            {\n                \"term\": {\"clinical_note.tokens.text\": \"polyarthralgia rheumatica\"}\n            }\n        ]\n    }\n}\n}\n\nExplanation:\nThe above query will return all the records where the tokens of text have 'polyarthralgia rheum","9681":"Given a query as below:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"range\": {\n            \"@timestamp\": {\n              \"gte\": \"2021-06-02T00:00:00Z\",\n              \"lte\": \"2022-05-01T00:00:00Z\"","8262":"{\n  \"size\": 0,\n  \"aggs\": {\n    \"date-info\": {\n      \"date_histogram\": {\n        \"field\": \"vaers_id\",\n        \"calendar_interval\": \"month\",\n        \"fixed_interval\": \"month\"\n      },\n      \"aggs\": {\n        \"date-filter-by-month\": {\n          \"bucket_selector\": {\n            \"buckets","1517":"Query:\n\"name\": \"RECEIVEDATE\",\n\"value\": [\n\"01\/11\/2022\"\n]\n\nAnswer Explanation:\nThe answer explanation can be used for clarification purposes and is not used in scoring. If the answer is incorrect, it will help explain why that is so. This field will contain one or more explanations of why this particular response was chosen as the best possible response. These explanations will be","5346":"[\n        'elasticsearch',\n        'https:\/\/microservices-demo-api.us-east-2.elasticcloud.com\/my_index_name\/_search?from=now-7d&size=10000&query=bool(must(term(field, \"value\")), must(range(\"age\", {from:25,to:45})), must(not(range(\"age\",{from:2","1177":"Given the above scenario, the answer would be: 14896\n\nQuestion:\nWhat is the age of the oldest person that received their first shot?\nAnswer: 127 years\n\\end{code}\n\nComment: Please edit your question to include a [mre]. What exactly do you expect from a model, and how can we reproduce it? You mention that \"it\" failed but do not specify what or why. Are there errors,","2497":"{\n     \"query\": {\n         \"bool\": {\n             \"must\": [\n                 {\n                     \"range\": {\n                         \"@timestamp\": {\n                             \"gte\": \"2021-04-11T00:00:00Z\"\n                         }\n                     }\n                 },\n                 {\n                     \"term\": {\n                         \"vaers_id\": \"XXXXXX\"","2419":"{\n    \"from\":0,\n        \"size\":0,\n        \"_source\":{\n            \"name\":\"Ali\",\n                \"dob\":null,\n                \"recvdate\":\"2022-01-29T05:00:00.000Z\",\n                \"state\":\"TX\",\n                \"age_yrs\":18,\n                \"vaers_id\":\"76379","4967":"```elastic search\n\"creatinine\": {\n    \"value\": {\n      \"exact\": true,\n      \"type\": \"text\",\n      \"boost\": 1.0,\n      \"query\": \"\\\"creatinine\\\"\"\n    },\n    \"match\": {\n      \"type\": \"bool\",\n      \"should\": [\n        {\n          \"type\": \"phrase\",\n          \"field\": \"vax.cl","12842":"[{\"vaersId\":\"11056795\",\"vax\":null,\"date\":null,\"age\":null,\"sex\":\"Male\",\"state\":\"NC\",\"symptom\":[\"Delirium tremens\"],\"died\":\"NO\",\"erVisit\":\"NO\",\"otherMed\":\"NO\",\"curIll\":\"NO\",\"priorVax\":\"NONE\",\"ocfVisit\":\"NO\",\"lThreat\":\"NO\",\"hospital\":\"NO\",\"hospDays","247":"{\"id\": \"6\", \"age\":\"30-39\", \"vaersId\": 8827644}\n\n\"\"\"\n\n# --------------------------------------------------\n# Boilerplate\n# --------------------------------------------------\nfrom pathlib import Path\nimport uuid\n\nimport pytest\nimport yaml\n\nfrom _utils import (\n    Dataset,\n    TmpDir,\n)\n\nTEST_INPUT_FILE","11543":"{\"took\":5,\"timed_out\":false,\"_shards\":{\"total\":59879,\"successful\":59879,\"failed\":0},\"hits\":{\"total\":4105,\"max_score\":0.693308,\"hits\":[{\"_index\":\"vaxaers\",\"_type\":\"document\",\"_id\":\"10\",\"_score\":0.693308,\"fields\":{\"","8513":"```\n{\n\"query\": {\n    \"bool\": {\n        \"filter\": [\n            {\n                \"term\": {\n                    \"vaers_id.keyword\": \"1789967\",\n                    \"condition.keyword\": \"11\",\n                    \"state.keyword\": \"VA\",\n                    \"age_yrs.int\": 25\n                }\n            },\n            {\n                \"term\":","3916":"1.Give me all the patients whose adverse event start on or after 08\/15\/2021.\nThe question wants '['LAB_DATA'] based on ['RECVDATE'].\n\n```\n\n### Contributions\nWe are looking for help writing tests, adding new functionality and fixing bugs!\nFeel free to check out the issues tab. We will be happy to guide you through the process!\n\n### Contact Information","1054":"```python\n# List all patients who are 0.67 years old.\n\nSELECT vaers_id FROM elasticsearch_sandbox.vaers_patient WHERE state = 'TX' AND age_yrs >= 0.67\n```\n'''","9246":"['RECVDATE'], ['VACCINE_MAN'], ['VACCINE_LOT'], ['VACCINE_LOT_NUMBER']\n```\n\n- [x] Clinical Notes: What is the number of records that the vaccine recipient got Moderna SPIKEVAX VACCINE.\n\nAnswer:\n`['RECVDATE'], ['VACCINE_MAN'], ['VACCINE_LOT'],","628":"Given that 'GU' is a medical condition, we would like to find the number of cases who have 'GU'. So for each case we will need to look at the clinical notes and search for the keyword \"GU\". So our query would be something like this\n\n{query:{bool:{should:{match:{clinical_notes:\"GU\"}}} }}\n\nExample:\n1. Give me the count of patients who have the diagnosis code N","7902":"['NOTES_CLINICAL']['VAERS_ID'] where NOTES_CLINICAL.RECVDATE = '03\/29\/2022' and NOTES_CLINICAL.VAX_DATE = '03\/29\/2021'\n\"\"\"\n\nclass EntityClassification(object):\n    \"\"\"\n    A class that contains functions for converting user questions into query to be performed on VAERS","1044":"patients\/_search?size=10&query=term(age_yrs,\"104.0\")&sort=[{\"age_yrs\":{\"order\":\"asc\"}}]\n\n\"\"\"\nfrom pprint import pformat\nimport json\nfrom typing import Dict\n\n\nclass Parser():\n    def __init__(self):\n        self.sentence = \"\"\n        self.entity_type = \"\"\n        self.conditional_","6586":"Condition: {'not': {'label': 'Died', 'value': False}},\nEntity Classification: { 'type': \"Date\" },\nValue: 03\/27\/2022, 03\/29\/2022, 03\/30\/2022, 03\/31\/2022\nQuestion: how many patients are seen with following dates? [Most common seen march]\nAnswer","10060":"{\n    \"took\": 0.596071,\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"@timestamp\": {\n                            \"gte\": \"1638945600000\",\n                            \"lte\": \"1638945600000\"\n                        }","1215":"{ \"query\": { \"bool\": { \"must\": [ { \"match_phrase\": {\"clinicalnotes.text\": \"the age of 10.\"}}, { \"match\": {\"cageyear\": \"10\"}} ] } } \n}\n\n### Data Mining Project 1 - Part A: Basic Statistics for Healthcare (5%) \nDeadline : April 8th 2022 \nThe healthcare data","2727":"\"How many patients died\" = [\"DEATH\"] == \"on\"\n    \"03\/07\/2021\"  = [[\"RECVDATE\"]] == \"03\/07\/2021\"\n\nElastic Search query\n    DEATH[\n        [{\"RECVDATE\":\"03\/07\/2021\"}],\n        {\"op\":\"and\",\n            \"values\":{\"all\":[","3376":"{\n  \"size\": 0,\n  \"hits\": {\n    \"total\": 67,\n    \"max_score\": 0.5699897,\n    \"hits\": [\n      {\n        \"_index\": \"vaers\",\n        \"_type\": \"case\",\n        \"_id\": \"777849\",\n        \"_score\": 0.5699897,","5473":"[{\"@timestamp\":\"2021-08-06T23:52:26.009Z\",\"action_id\":\"vaxamlo_safety_search_clicked\",\"event_name\":\"vaxamlo_safety_search_clicked\",\"page_view_id\":67,\"query_params\":{\"all_age_range\":true,\"all_vax_dates\":true,\"conditions_to","6328":"[{\"answer\":\"The number of vaccine recipients who were diagnosed of fibrosis at the time of vaccination was [count].\\n\\n\",\"question\":\"How many vaccine recipients were diagnosed of fibrosis at the time of vaccination? \"}]\n\nClinical Notes:  Give me all the patient's whose vaccine lot number have the sequence 7900-561-001.\\","4762":"{\n    \"query\": {\n        \"bool\": {\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"clinicalnotes.text\": \"ana\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"@timestamp\": {\n                            \"gte\": \"now-6month\",\n                            \"lte\": \"now\"\n                        }\n                    }","10584":"give me all the patients where [\"vax_name\":\"WAG4512\"] or \"vax_name\": \"Moderna\"\n\"\"\"\n\ndef get_all_clinical(df):\n    \"\"\"\n    Method for extracting clinical notes.\n    \n    Arguments:\n        df {DataFrame} -- DataFrame containing clinical note. \n        \n    Returns:\n        {str} -- Final dataframe extracted using this method","11207":"\"\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"range\": {\n            \"@timestamp\": {\n              \"gte\": \"now-6months\",\n              \"lte\": \"now\"\n            }\n          }\n        },\n        {\n          \"bool\": {\n            \"must\": [\n              {\n                \"match\": {\n                  \"clinicalNotes.location","10566":"The query will look like :\n    POST http:\/\/localhost:9200\/data\/vaxx_cases\/_search\n\n    {\n        \"query\": {\n            \"bool\": {\n                \"must\": [\n                    {\"match_phrase\":{\"allergies\":\"AMXA688A\"}}\n                ]\n            }\n        }\n    }\n\n\nNote: 'amxa688a' should be replaced by","8406":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"span_not\": {\n                        \"spans\": [\n                            {\n                                \"text\": \"vaccine\",\n                                \"matched_words\": []\n                            }\n                        ]\n                    }\n                },\n                {\n                    \"span_not\": {\n                        \"spans\": [","3679":"```\nGET \/patients\/_search\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"range\": {\n            \"onsetDate\": {\n              \"gte\": \"2021-06-05\"\n            }\n          }\n        },\n        {\n          \"term\": {\n            \"sex\": \"Female\"\n          }\n        }\n      ]","1873":"{\"query\":{\"bool\":{\"must\":[{\"match\":{\"clinicNotes\":\"Arteriovenous fistula site complication\"}}]}}}\n'''\n\n\n# --------------------\n#       Testing Code\n# --------------------\n\n\nif __name__ == '__main__':\n    main()","7037":"Query:\n\"dignosed\": \"cidp\"\n\nClinical Notes:  Find all the patients whose age is less than or equal to 20 years old? \nAnswer:\nQuery:\n\"AGE_YRS\": \"<=20\"\n\nClinical Notes:  Find all the patients who has a symptom of \"Cardiovascular disease\"? \nAnswer:\nQuery:\n\"symptoms\": \"cardiov","10362":"1. ['RECVDATE'] == 12\/15\/2021; AND ['VAERS_ID'] == 836075; AND ['L_THREAT']=='MILD';\n2.['VAERS_ID'] == 'VAERSSDA_0013FQF';\n3. ['VAX_TYPE'] == 'HPV9';\n4. ['VAERS_ID'] IN ('","1773":"{\n    \"size\": 5,\n    \"aggs\": {\n        \"adverse_event\": {\n            \"terms\": {\n                \"field\": \"notes.text\",\n                \"size\": 5\n            }\n        },\n        \"vax_date\": {\n            \"range\": {\n                \"gte\": \"2021-08-02T00:00:00.000","9185":"https:\/\/api.covid19datahub.org\/vax\/uscdc\/raw?q=vaersId%3A202200133167&rowsPerPage=250&pageNumber=1&rowsPerPage=250&pageNumber=1&sort[value]=receivedDate+asc&rowsPerPage=250\n\n**The expected answer will be given as a url string","1379":"{\n\"query\": {\n    \"bool\": {\n        \"must\": [\n            {\n                \"bool\": {\n                    \"must_not\": [\n                        {\n                            \"range\": {\n                                \"@timestamp\": {\n                                    \"gte\": \"2022-05-01T00:00:00Z\",\n                                    \"lt\": \"2022-06-","6568":"Examples:\n1. Which is the most common muscle wasting and atrophy for patients. The answer want['HISTORY'].\n2. Which is the most common muscle wasting and atrophy for patients. The answer want['DIED'].\n\\end{code}\n\nHere's my code:\n\n\\begin{code}\n# Create an elastic client\nclient = ElasticClient(ca_certs=r\"myPath","6455":"\\[ \\text{cardiac}\\text{ } \\text{arterial\\ text{\\_}hypertension\\ \n}(\\text{symptom\\_text})\\]  \n\\[\\color{blue}{\\text{Number of}}\\]\n\\[\\color{green}{recipients} \\]  \n\\[\\text{that had}\\]  \n\\[\\color{red}{arterial}\\text{ }\\]  \n\\[\\color{purple}{hypertension","9612":"- [{\"value\":\"3\",\"condition\":{\"vaersid\":\"USPFIZER INC202101495427\"}}]\n\nClinical Notes: how many of patients received a covid shot manufactured by USPFIZER INC202101495427?\nAnswer:\n    - [{\"value\":\"3\",\"condition\":{\"vaersid\":\"USPFIZER INC","12755":"1.  Find all the patients who had 'Erythema multiforme' as symptom.\n2. Find all the patients who had the symptom of 'Erythema multiforme' as a result of getting vaccine.\n'''\n\ndef vaccination():\n    # Define the classifiers\n    classifier = Classifier(classification=['clinical_notes', 'conditional_values'])\n\n    classifier.add","4656":"- 'ONSET_DATE': 17-May-2022, - 'RECEIVED_DATE': 16-Dec-2020\n\n```","933":"```elasticsearch\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"vaers_id\": \"85985\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"age_yrs\": {\n                            \"gt\": 76.0\n                        }\n                    }\n                }","12130":"No Vaccines have been found for VaxnEuVance Vaccine. But VARICELLA vaccine has one clinical note.\n\n\n```python\nimport requests\nfrom bs4 import BeautifulSoup as soup\nimport pandas as pd\nimport json\nimport time\nimport argparse\nimport numpy as np\nfrom sklearn.feature_extraction.text import TfidfVectorizer\n#from pathlib import Path #for downloading","7237":"Based on [Malabsorption_Class]\n[Malabsorption_Labels], the question wants ['Age_Years', 'Vax_Date'] based on [Malabsorption_Conditions].\nPrompt: What is the common symptom of Malabsorption and the most common age for this malabsorption?\n\nClinical Notes:  Which is the most common anaphylactic shock reaction and what does it do in","5072":"In the v-safe clinical trials data set, we will find out how many people got a left shoulder mri test after receiving their dose of covid-19 vaccines. \nThe dataset has 'VAERS_ID', 'VAERS_VAC_TOTAL_COMBINED', 'VAERS_COVID19VACCINE', which helps us to find out the count.\n\nQuestion: find the count of patients who","183":"1. ['VAERS_ID'] based on ['RECVDATE'] where '['RECVDATE']' date is equal to '01\/23\/2022'\n2. count of records where '['RECVDATE']' date is equal to '01\/23\/2022'\n```\n\n\n\n#### **Solution**\n\n\n\nWe define the following schema:\n```python\nfrom pyspark.sql","1835":"1) Find patient for whom Myoglobin Blood Test after Vaccine present = True\n2) Then take the count of these patients\n\n### Clinical Query #6 \nPrompt: Given the following columns and their classifications:\n'FULLNAME','FIRSTNAME','ADDRESS','ZIPCODE', 'PHONE', 'EMAIL', 'DOB', 'GENDER', 'CITY', 'NATIONALITY', 'AGE_","1820":"GET \/my-app\/index\/_search {\n        \"query\": {\n          \"bool\" :{\n            \"must\" : [\n              {\"bool\" : {\n                \"must\" : [\n                  {\n                     \"multi_match\" :{\n                        \"query\": \"Prostate Infection\",\n                        \"fuzziness\":\"AUTO\"\n                        }\n                   },\n                    { \"terms\" : {","12653":"List of all VAERS cases where cytomegalovirus_test is true and no vax_id = \"COMIRNATY\" or \"COVID-19-mRNA-vac-D0061788\".  \nList of all VAERS cases where cytomegalovirus_test is false but vax_id = \"COMIRNATY\" or \"COVID-19-m","5056":"```sql\nselect count(*) from vax_patient where not exists (select 1 from clinical where id = patientid);\n```\n### 9.3.2 Vaccine Patient Questions\n#### 9.3.2.1 Conditional Queries Based on Entity Classification and Label with following Entity:\n```\nvax_patient\n```\nConditions:\n* [Entity Name] : 'VAERS_ID'\n* [","11438":"Find the top 5 records by [age], with the highest average number of hospital days. Order them by descending order of number of hospital days. Use [vaersid] as an aggregate function.\n\n##### Question 2:\nWrite a python script that performs the following steps:\n1. Import dataset from 'CDC-VAERS.json' file.\n2. Create a mapping (mapping= {fieldname : datatype}) between entities and their datat","10769":"The data that can be used here is from VAERS-ADR.\nFirst, let\u2019s create a table that will contain the fields we want to query against. For this one, we only need to know how to extract the date when the vaccine was given: \n\n```sql\ncreate table tmp (vaersid text, vaxdate string);\ninsert into tmp(vaersid, vaxdate) values ('846549',","7332":"{\n    \"query\": {\n        \"bool\": {\n            \"should\": [\n                {\"match\": {\"VAERS_ID\":\"9876543210\",\"histology\":\"Tumor\"}},\n                {\"range\": {\"RECVDATE\":{\"gte\":\"2020-08-23\",\"lte\":\"2022-02-03\"}}},\n                {\"range\": {\"VAERS_ID","10466":"```bash\n{\n \"took\": 2,\n \"timed_out\": false,\n \"_shards\": {\n   \"total\": 5,\n   \"successful\": 5,\n   \"failed\": 0\n },\n \"hits\": {\n   \"total\": 1679,\n   \"max_score\": null,\n   \"hits\": [\n     {\n       \"_index\": \"vaers\",","1109":"{\n\"took\": \"56ms\",\n\"query\": {\n    \"match\": {\n        \"age_yrs\": \"100.0\"\n    }\n},\n\"hits\": {\n    \"total\": 829,\n    \"max_score\": null,\n    \"hits\": []\n}\n}\n\nClinical Notes:  Find all the age of 100.0 year old","7771":"How many patient who had allergy to insect.\n\\end{code}","1378":"* @param array $condition \n\n* @return string\n*\/\nclass CQAnalyzer {\n\tprivate static $_instance;\n\tprivate static $_default = 'en';\n\tprivate static $_clinicalNotes = false;\n\n\tpublic function __construct() {}\n\tpublic static function getInstance(string $language = self::$_default) : self {\n\t\tif (self::$_instance == null &&!(self::$_"}}
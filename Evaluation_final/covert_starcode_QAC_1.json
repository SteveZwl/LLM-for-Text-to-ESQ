{"llm_result":{"3276":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"08\/10\/2012\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME","1409":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"03\/26\/2022\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ],\n            \"filter\": [{\"range\": {\"AGE_YRS\": {\"gte\": 18}}}]\n        }\n    },\n    \"_source\": [\"DIED\", \"HOSPITAL\"]\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, V","7172":"###[ Which is the least common cataracts for patients.]\nAnswer:\n\n###[ Which is the most common type of diabetes for patients]\nAnswer:\n\n###[ Which is the least common type of diabetes for patients]\nAnswer:\n\n###[ Which is the most common age group for patients]\nAnswer:\n\n###[ Which is the least common age group for patients]\nAnswer:\n\n###[ Which is the most common gender for patients]\nAnswer:\n\n###[ Which is the least common gender for patients]\nAnswer:\n\n###[ Which is the most common state for patients]\nAnswer:\n\n###[ Which is the least common state for patients]\nAnswer:\n\n###[ Which is the most common hospitalization status for patients]\nAnswer:\n\n###[ Which is the least common hospitalization status for patients]\nAnswer:\n\n###[ Which is the most common","9319":"###[ What is the number of records that the vaccine recipient did not get any vaccines. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient was hospitalized in a medical facility. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient died after getting the vaccine. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient had an emergency room visit. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient received a COVID-19 test result of \u201cpositive\u201d or \u201cnegative\u201d. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient has been exposed to a live animal before receiving the vaccine. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient has been exposed to a human before receiving the vaccine.","11467":"{\n    \"query\": {\n        \"match\": {\n            \"VAX_NAME\": \"INFLUENZA (SEASONAL) (FLUBLOK)\"\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The","1987":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"SYMPTOM_TEXT\": \"Varicella\"}},\n                {\"match\": {\"DIED\": \"No\"}}\n            ],\n            \"filter\": [{\"range\": {\"AGE_YRS\": {\"gte\": 0}}}]\n        }\n    },\n    \"_source\": [\"VAERS_ID\", \"STATE\"]\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string to parse\n    :return: Condition value extracted from the question string\n    \"\"\"\n    # TODO: Implement this function!\n    return None\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    Generates an Elasticsearch query given a field name and its corresponding condition value\n\n    :param field_name: Field name of interest\n    :param condition_value: Condition value associated with the field name\n    :","4088":"###[ What is the number of cases where onset date of adverse event symptom is greater than or equal to 06\/02\/2021. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is less than or equal to 06\/02\/2021. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is between 06\/02\/2021 and 07\/02\/2021. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is not between 06\/02\/2021 and 07\/02\/2021. ]\nAnswer:\n\n###[ What is the number of cases where onset date of ad","8454":"###[ How many patients are alive today?]\nAnswer:\n\n###[ How many patients died in the past year?]\nAnswer:\n\n###[ How many patients have been hospitalized in the past year?]\nAnswer:\n\n###[ How many patients have not received any vaccines yet?]\nAnswer:\n\n###[ How many patients have had at least one allergy in the past year?]\nAnswer:\n\n###[ How many patients have had an asthma attack in the past year?]\nAnswer:\n\n###[ How many patients have had a heart attack in the past year?]\nAnswer:\n\n###[ How many patients have had a stroke in the past year?]\nAnswer:\n\n###[ How many patients have had a kidney disease in the past year?]\nAnswer:\n\n###[ How many patients have had a liver disease in the past year?]","12811":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Stenotrophomonas\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"1\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 20210305,\n              \"lte\": 20210405,\n              \"format\": \"yyyyMMdd\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\ndef get_condition(question):\n    if '?' not in question:\n        return None\n\n    q = question.split('?')[-1]\n    if ':' in q:\n        return q.split(':')[-1].strip()\n    else:\n        return q\n\n\ndef generate_elasticsearch_","11778":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_NAME\": \"INFLUENZA (SEASONAL)\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_NAME\": \"RABIES (NO BRAND NAME)\"\n          }\n        }\n      ]\n    }\n  }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_","10127":"{\n    \"query\": {\n        \"match\": {\n            \"SYMPTOM_TEXT\": \"FLUX\"\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### entify the","8822":"###[How many records had MENINGOCOCCAL CONJUGATE and DT ADSORBED after 2019-12-31]\nAnswer:\n\n###[How many records had MENINGOCOCCAL CONJUGATE and DT ADSORBED between 2018-01-01 and 2019-12-31]\nAnswer:\n\n###[How many records had MENINGOCOCCAL CONJUGATE and DT ADSORBED between 2017-01-01 and 2018-12-31]\nAnswer:\n\n###[How many records had MENINGOCOCCAL CONJUGATE and DT ADSORBED between 2016-01-01 and 2017-12-31]","12373":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Urinary casts absent\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"VAX_DATE\": {\n                            \"gte\": 1609459200000,\n                            \"lte\": 1637814400000\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\nq2 = \"\"\"\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS","6412":"###[ What is the number of vaccine recipients that did not have an ambulance when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that died after receiving the shot?]\nAnswer:\n\n###[ What is the number of vaccine recipients that were hospitalized after receiving the shot?]\nAnswer:\n\n###[ What is the number of vaccine recipients that received a placebo before receiving the shot?]\nAnswer:\n\n###[ What is the number of vaccine recipients that received a prescription before receiving the shot?]\nAnswer:\n\n###[ What is the number of vaccine recipients that received a booster dose before receiving the shot?]\nAnswer:\n\n###[ What is the number of vaccine recipients that received a jab (antigen) before receiving the shot?]\nAnswer:\n\n###[ What is the number of vaccine recipients","2270":"###[ Which state has the highest number of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of hospitalization days among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of hospitalizations among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of cases among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of hospitalization days among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of hospitalizations among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of cases among all states in the US?]\nAnswer:\n\n###[ Which state has the highest","4655":"###[How many patients are there in each state?]\nAnswer:\n\n###[What is the average age of all patients who received at least one dose of Pfizer-BioNTech vaccine?]\nAnswer:\n\n###[What percentage of patients who received at least one dose of Pfizer-BioNTech vaccine died within 90 days after receiving their second dose?]\nAnswer:\n\n###[What percentage of patients who received at least two doses of Pfizer-BioNTech vaccine died within 90 days after receiving their second dose?]\nAnswer:\n\n###[What percentage of patients who received at least three doses of Pfizer-BioNTech vaccine died within 90 days after receiving their third dose?]\nAnswer:\n\n###[What percentage of patients who received at least four doses of Pfizer-Bio","5509":"###[ Find the number of cases where the vaccine recipients had flu at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had pneumonia at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had meningitis at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had measles at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had rubella at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had chicken pox at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had typhoid at the time of","3710":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"RECVDATE\": \"06\/13\/2021\"\n          }\n        },\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"onset date of adverse event symptoms\"\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Given a list of questions and answers, generate an elasticsearch query\n    # that can be used to retrieve relevant documents.\n    #\n    # Input:\n    #   - List of questions (strings)\n    #   - List of answers (strings)\n    # Output:\n    #   - String containing valid JSON representing an elasticsearch query\n    #\n    # Example input:\n    #   - [\"What is the patient's age?\", \"What is the patient's sex?\"]\n    #   - [\"45\", \"","1272":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"CLINICAL_NOTES\": \"cage year\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"CLINICAL_NOTES.keyword\": {\n                            \"gte\": 1984,\n                            \"lte\": 2017,\n                            \"boost\": 2.0\n                        }\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OF","8353":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"ROTAVIRUS\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"lt\": 1584937600\n                        }\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, V","8657":"###[ List all the patients who are 60 years old or older and have died in the hospital. ]\nAnswer:\n\n###[ List all the patients who are 60 years old or older and have not died in the hospital. ]\nAnswer:\n\n###[ List all the patients who are 60 years old or older and have had a vaccine administered to them by Janssen Pharmaceuticals. ]\nAnswer:\n\n###[ List all the patients who are 60 years old or older and have been diagnosed with cancer. ]\nAnswer:\n\n###[ List all the patients who are 60 years old or older and have been diagnosed with cancer that has spread to other parts of their body. ]\nAnswer:\n\n###[ List all the patients who are 60 years old or older and have been diagnosed with cancer that has spread","5450":"###[ List all the vaccine recipients who received a Pfizer-BioNTech vaccine in 2018. ]\nAnswer:\n\n###[ List all the vaccine recipients who were diagnosed with cancer or have an active diagnosis of cancer. ]\nAnswer:\n\n###[ List all the vaccine recipients who are 65 years old or older. ]\nAnswer:\n\n###[ List all the vaccine recipients who are male. ]\nAnswer:\n\n###[ List all the vaccine recipients who are female. ]\nAnswer:\n\n###[ List all the vaccine recipients who are not Hispanic or Latino. ]\nAnswer:\n\n###[ List all the vaccine recipients who are Hispanic or Latino. ]\nAnswer:\n\n###[ List all the vaccine recipients who are receiving a single dose of a COVID-19 vaccine. ]\nAnswer:","8585":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"DTAP\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"POLIO VIRUS\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"INACT\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"lte\": \"2019-08-31\",\n                            \"gte\": \"2019-07-01\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n\n    :param question: String containing the question to be parsed.\n    :","8477":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"EBOLA ZAIRE\"\n          }\n        },\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"JAPANESE ENCEPHALITIS\"\n          }\n        }\n      ],\n      \"filter\": {\n        \"range\": {\n          \"RECVDATE\": {\n            \"gte\": 1504236800000,\n            \"lte\": 1507915200000\n          }\n        }\n      }\n    }\n  }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS","7279":"{\n  \"query\": {\n    \"match\": {\n      \"SYMPTOM_TEXT\": \"trees\"\n    }\n  },\n  \"size\": 10000\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for","5323":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"ezetimibe\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"0\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 1583296000,\n              \"lte\": 1584728000\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: String containing the question to be parsed.\n    :return: Condition value of the question as a string.\n    \"\"\"\n\n    # TODO: Write your code here\n    if 'all' in question or","9807":"###[ How many people are in the state of Washington who died after being vaccinated?]\nAnswer:\n\n###[ What is the average age of all patients who received a Pfizer vaccine in the last year?]\nAnswer:\n\n###[ What percentage of people in the state of Washington have had at least one type of cancer diagnosed by their primary care doctor within the past five years?]\nAnswer:\n\n###[ What is the average number of days that patients who received a Pfizer vaccine spent in hospital before receiving their second dose?]\nAnswer:\n\n###[ What is the average number of days that patients who received a Moderna vaccine spent in hospital before receiving their second dose?]\nAnswer:\n\n###[ What is the average number of days that patients who received a Janssen vaccine spent in hospital before receiving their second dose?]\nAnswer:","7266":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"allergic to aids\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[Give me all the patients who died in hospital]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HOSPITAL\": \"1\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED","3959":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"08\/15\/2019\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\n###[ Find all the records where the","8848":"###[How many records had MENINGOCOCCAL CONJUGATE and TD ADSORBED after 2018-09-30]\nAnswer:\n\n###[How many records had MENINGOCOCCAL CONJUGATE and TD ADSORBED between 2018-09-30 and 2018-10-30]\nAnswer:\n\n###[How many records had MENINGOCOCCAL CONJUGATE and TD ADSORBED after 2018-10-30]\nAnswer:\n\n###[How many records had MENINGOCOCCAL CONJUGATE and TD ADSORBED before 2018-09-30]\nAnswer:\n\n###[How many records had MENINGOCOCCAL CONJUGATE and TD","3861":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"02\/15\/2022\"\n                        }\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"02\/15\/2022\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU","8730":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"MEASLES\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"TETANUS\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 1500000000,\n                            \"lte\": 2000000000\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ List all the patients who died in hospital after Jan 1st, 2017]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"term\": {\n                        \"DIED\": true\n                    }\n                }\n            ],\n            \"filter\": [\n                {","9632":"{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"USPFIZER INC\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_LOT\": \"202200372189\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Pfizer Inc?]\nAnswer:\n{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"Pfizer Inc\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Moderna Inc?]\nAnswer:\n{\n  \"size\": 0","12713":"###[ List all records that had Acute myocardial infarction associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Acute renal failure associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Acute respiratory distress syndrome associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Acute rheumatic fever associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Acute sinusitis associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Acute upper respiratory infection associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Adenovirus associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Alcohol","5654":"###[ How many patients were taking amoxicillin for infection?]\nAnswer:\n\n###[ How many patients were taking acyclovir for infection?]\nAnswer:\n\n###[ How many patients were taking azithromycin for infection?]\nAnswer:\n\n###[ How many patients were taking ceftriaxone for infection?]\nAnswer:\n\n###[ How many patients were taking cefotaxime for infection?]\nAnswer:\n\n###[ How many patients were taking clarithromycin for infection?]\nAnswer:\n\n###[ How many patients were taking clindamycin for infection?]\nAnswer:\n\n###[ How many patients were taking co-trimoxazole for infection?]\nAnswer:\n\n###[ How many patients were taking darunavir for infection?]\nAnswer:","2262":"###[ Which state has the highest number of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the highest","4946":"###[ Provide all records that did not die after getting the omicron variant test. ]\nAnswer:\n\n###[ Provide all records that have a hospital visit before receiving the omicron variant test. ]\nAnswer:\n\n###[ Provide all records that do not have any hospital visit before receiving the omicron variant test. ]\nAnswer:\n\n###[ Provide all records that are younger than 18 years old when they received the omicron variant test. ]\nAnswer:\n\n###[ Provide all records that are older than 60 years old when they received the omicron variant test. ]\nAnswer:\n\n###[ Provide all records that are male when they received the omicron variant test. ]\nAnswer:\n\n###[ Provide all records that are female when they received the omicron variant test. ]\nAnswer:\n\n###[ Provide all records that have died in the United States","5012":"###[ Find the number of cases that the vaccine recipients had a urine culture. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a serum cytologic examination. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a PCR test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a Rapid Antigen Test (RAT).]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a Serology test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a Blood Culture. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a Hepatitis B test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a Hepatitis C test","5908":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"active labor\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA","9771":"###[ How many people are in the state of Washington who died after being vaccinated?]\nAnswer:\n\n###[ What is the average age of all patients who received a Pfizer vaccine in the state of Washington?]\nAnswer:\n\n###[ What is the average age of all patients who received a Moderna vaccine in the state of Washington?]\nAnswer:\n\n###[ What is the average age of all patients who received an Oxford vaccine in the state of Washington?]\nAnswer:\n\n###[ What percentage of patients who received a Pfizer vaccine in the state of Washington died?]\nAnswer:\n\n###[ What percentage of patients who received a Moderna vaccine in the state of Washington died?]\nAnswer:\n\n###[ What percentage of patients who received an Oxford vaccine in the state of Washington died?","4862":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"sodium\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Provide all records that have a diagnosis of cancer. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"cancer\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }","8367":"###[ List all records that are still taking DTAP after the current vaccine. ]\nAnswer:\n\n###[ List all records that have not been updated in 12 months (90 days).]\nAnswer:\n\n###[ List all records that were administered a COVID-19 vaccine. ]\nAnswer:\n\n###[ List all records that were administered a COVID-19 vaccine within the last 30 days.]\nAnswer:\n\n###[ List all records that were administered a COVID-19 vaccine within the last 7 days. ]\nAnswer:\n\n###[ List all records that were administered a COVID-19 vaccine before January 1st, 2021. ]\nAnswer:\n\n###[ List all records that were administered a COVID-19 vaccine after January 1st, 2021. ]","5667":"###[ How many patients were taking a combination of two drugs (e.g., levothyroxine + thyrotropin)?]\nAnswer:\n\n###[ How many patients were taking a combination of three drugs (e.g., levothyroxine + thyrotropin + prednisone)?]\nAnswer:\n\n###[ How many patients were taking a combination of four drugs (e.g., levothyroxine + thyrotropin + prednisone + methotrexate)?]\nAnswer:\n\n###[ How many patients were taking a combination of five drugs (e.g., levothyroxine + thyrotropin + prednisone + methotrexate + cisatracurium)?]\nAnswer:\n\n###[ How many patients were taking a combination of six drugs (e.g., levothyro","151":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"03\/01\/2022\"}}\n            ]\n        }\n    }\n}\n\n###[ Find all cases that are male. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"SEX\": \"Male\"}}\n            ]\n        }\n    }\n}\n\n###[ Find all cases that have died. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"DIED\": \"Yes\"}}\n            ]\n        }\n    }\n}\n\n###[ Find all cases that have received a flu vaccine. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"VAX_NAME\": \"Influenza\"}}","4617":"###[How many patients are there in each state?]\nAnswer:\n\n###[What is the average age of all patients who received at least one dose of Pfizer-BioNTech vaccine?]\nAnswer:\n\n###[What percentage of patients who received at least one dose of Pfizer-BioNTech vaccine died within 1 year after receiving their second dose?]\nAnswer:\n\n###[What percentage of patients who received at least two doses of Pfizer-BioNTech vaccine died within 1 year after receiving their second dose?]\nAnswer:\n\n###[What percentage of patients who received at least three doses of Pfizer-BioNTech vaccine died within 1 year after receiving their third dose?]\nAnswer:\n\n###[What percentage of patients who received at least four doses of Pfizer-BioNTech v","7214":"###[ Which is the most common carpal tunnel syndrome for patients.]\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### entify the filed name first, then extract the specific condition values from the","7256":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"aminoquionolones\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"yes\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_","4529":"###[ What is the number of cases where the interval from the vaccination date to the onset date is less than or equal to 30 days? ]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is greater than 1825 days?]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is between 912 and 1824 days?]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is not a multiple of 7?]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is a multiple of 7?]\nAnswer:\n\n###[ What is the average interval from the","8143":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"vax_date\": {\"lte\": \"2021-12-31\"}}}\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"vaers_id\", \"recvdate\"]\n}\n\n###[ Find all records who received a vaccine after on 12\/31\/2021. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"vax_date\": {\"gte\": \"2021-12-31\"}}}\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"vaers_id\", \"recvdate\"]\n}\n\n###[ Find all records who received a vaccine between Jan 1st 2021 to Dec 31st 20","6821":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"acne\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 18,\n                            \"lte\": 90\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from the question string\n\n    :param question: Question string\n    :return: Condition value as a list\n    \"\"\"\n    # TODO: Write your code here\n    return []\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    Generates an Elasticsearch query given the field name and its corresponding condition value\n\n    :param field_name","1172":"{\n    \"size\": 10000,\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"AGE_YRS\": \"44.0\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ],\n            \"filter\": [{\"range\": {\"RECVDATE\": {\"gte\": \"2021-03-01\", \"lte\": \"2021-05-31\"}}}]\n        }\n    },\n    \"_source\": [\"RECVDATE\",\"STATE\",\"AGE_YRS\",\"VAERS_ID\",\"SEX\",\"SYMPTOM_TEXT\",\"DIED\",\"ER_VISIT\",\"L_THREAT\",\"HOSPITAL\",\"HOSPDAYS\",\"DISABLE\",\"VAX_DATE\",\"LAB_DATA\",\"OTHER_MEDS\",\"CUR_ILL\",\"HISTORY\",\"PRIOR_VAX\",\"TODAYS_DATE\",\"OFC_VISIT\",\"VAX_TYPE\",\"VAX_MAN","4345":"'''\n\ndef get_condition(field):\n    if field == 'RECVDATE':\n        return ['2021-03-09']\n    elif field == 'STATE':\n        return ['VA', 'DC']\n    elif field == 'AGE_YRS':\n        return ['50-59']\n    elif field == 'VAERS_ID':\n        return []\n    elif field == 'SEX':\n        return ['F']\n    elif field == 'SYMPTOM_TEXT':\n        return []\n    elif field == 'DIED':\n        return ['Y']\n    elif field == 'ER_VISIT':\n        return ['Y']\n    elif field == 'L_THREAT':\n        return ['Y']\n    elif field == 'HOSPITAL':\n        return ['Y']\n    elif field == 'HOSPDAYS':\n        return ['746.0']\n    elif field == 'DISABLE':\n        return ['Y']\n    elif field == '","6024":"###[ List all the patients who have a history of diabetes mellitus.]\nAnswer:\n\n###[ List all the patients who have been vaccinated against polio]\nAnswer:\n\n###[ List all the patients who have not been vaccinated against polio]\nAnswer:\n\n###[ List all the patients who have been vaccinated against tetanus]\nAnswer:\n\n###[ List all the patients who have not been vaccinated against tetanus]\nAnswer:\n\n###[ List all the patients who have been vaccinated against diphtheria]\nAnswer:\n\n###[ List all the patients who have not been vaccinated against diphtheria]\nAnswer:\n\n###[ List all the patients who have been vaccinated against measles]\nAnswer:\n\n###[ List all the patients who have not been vaccinated against measles]","8104":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"lte\": \"03\/29\/21\"\n                        }\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Find all records who received a vaccine after on 03\/29\/21. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"03\/29\/21\"\n                        }\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Find all records who received a vaccine between 03\/","10596":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_NAME\": \"0320H20A\"\n          }\n        }\n      ],\n      \"filter\": []\n    }\n  },\n  \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"","533":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"STATE\": \"WA\"}}\n            ]\n        }\n    }\n}\n\n###[ Give me all the patients who has died in last 30 days. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"DIED\": {\"gte\": \"now-30d\/d\", \"lt\": \"now\/d\"}}}\n            ]\n        }\n    }\n}\n\n###[ Give me all the patients who has died in last 12 months. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"DIED\": {\"gte\": \"now-12M\/m\", \"lt\": \"now\/m\"}}}\n            ]\n        }\n    }\n}\n\n###[ Give me all the patients who","11691":"###[ What is the number of the cases where the vaccine recipient had PNEUMOVAX vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had COVISHIELD vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had MODERNA vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had JANSSEN vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had NOVELLA vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had CDC vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had PFIZER-BIONTECH vaccine. ]\nAnswer:\n\n###","1826":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"NIH STROKE SCALE\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"VAX_DATE\": {\n                            \"gte\": 1638249600000,\n                            \"lte\": 1638508800000\n                        }\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR","12874":"###[ Is there any person have Hepatitis B surface antigen (HBsAg) test abnormal after vaccine? ]\nAnswer:\n\n###[ Is there any person have Dengue fever test abnormal after vaccine? ]\nAnswer:\n\n###[ Is there any person have Polio test abnormal after vaccine? ]\nAnswer:\n\n###[ Is there any person have Tetanus test abnormal after vaccine? ]\nAnswer:\n\n###[ Is there any person have Pertussis test abnormal after vaccine? ]\nAnswer:\n\n###[ Is there any person have Influenza test abnormal after vaccine? ]\nAnswer:\n\n###[ Is there any person have Rabies test abnormal after vaccine? ]\nAnswer:\n\n###[ Is there any person have Typhoid test abnormal after vaccine? ]\nAnswer:\n\n###[","6812":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"breast cancer\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"1\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ Search all the patients who are 60 years old or older. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 60\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Search all the patients who have been diagnosed with lung cancer in the past year. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {","1031":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 68}}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\n###[ List all patients who have","5092":"###[ Find the number of cases that the vaccine recipients had heart was racing test in California. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had heart was racing test in California who died. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had heart was racing test in California who did not die. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had heart was racing test in California who were hospitalized. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had heart was racing test in California who were not hospitalized. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had heart was racing test in California who received a Pfizer vaccine. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had","6329":"###[ How many vaccine recipients have died after receiving their second dose of a Pfizer vaccine? ]\nAnswer:\n\n###[ How many vaccine recipients have died after receiving their second dose of a Moderna vaccine? ]\nAnswer:\n\n###[ How many vaccine recipients have died after receiving their second dose of a J&J vaccine? ]\nAnswer:\n\n###[ How many vaccine recipients have died after receiving their second dose of a Janssen vaccine? ]\nAnswer:\n\n###[ How many vaccine recipients have died after receiving their second dose of a Covaxin vaccine? ]\nAnswer:\n\n###[ How many vaccine recipients have died after receiving their second dose of a Sinovac vaccine? ]\nAnswer:\n\n###[ How many vaccine recipients have died after receiving their second dose of a Astra","11348":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"STATE\": \"LL\"}},\n                {\"match\": {\"STATE\": \"LG\"}}\n            ],\n            \"filter\": [\n                {\"range\": {\"VAX_DATE\": {\"gte\": \"2021-01-01\", \"lte\": \"2021-12-31\"}}}\n            ]\n        }\n    },\n    \"_source\": [\"VAERS_ID\"]\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: String of question text\n    :return: Condition value as a string or None if no condition found\n    \"\"\"\n    # TODO: Add support for multiple conditions (e.g., \"If X, then Y\")\n    match = re.search(\"if (.+), then \", question)\n    return match.group(1).strip() if match else","1210":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"CLINICAL_NOTES\": \"cage year\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"CLINICAL_NOTES\": {\n                            \"gte\": 62.0,\n                            \"lte\": 62.0\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, V","4158":"###[ What is the number of cases where onset date of adverse event symptom is greater than or equal to 07\/01\/2018. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is less than or equal to 07\/01\/2018. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is between 07\/01\/2018 and 09\/30\/2018 (inclusive).]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is not between 07\/01\/2018 and 09\/30\/2018 (inclusive).]\nAnswer:\n\n###[ What is the number of cases where on","2694":"###[How many patients are there in the state of Washington who were vaccinated against COVID-19?]\nAnswer:\n\n###[What percentage of all adults (age >= 18) in the state of Washington have received at least one dose of a COVID-19 vaccine? Round to two decimal places.]\nAnswer:\n\n###[What percentage of all adults (age >= 18) in the state of Washington have received at least two doses of a COVID-19 vaccine? Round to two decimal places.]\nAnswer:\n\n###[What percentage of all adults (age >= 18) in the state of Washington have received at least three doses of a COVID-19 vaccine? Round to two decimal places.]\nAnswer:\n\n###[What percentage of all adults (age >= 18) in the state of Washington","2200":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"SYMPTOM_TEXT\": \"Intestinal intraepithelial lymphocytes increased\"}},\n                {\"range\": {\"AGE_YRS\": {\"gte\": 18}}}\n            ],\n            \"filter\": [{\"term\": {\"DIED\": \"N\"}}],\n            \"should\": [],\n            \"must_not\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC","9273":"###[ What is the number of records that the vaccine recipient did not get any vaccines. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient was hospitalized in a medical facility. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient died after getting the vaccine. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient had an emergency room visit. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient received a COVID-19 test result of \u201cpositive\u201d or \u201cnegative\u201d. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient has a history of cancer. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient has a history of heart disease. ]\nAnswer:\n\n###[ What is the","9789":"###[ How many people are in the state of Washington who died after being vaccinated?]\nAnswer:\n\n###[ What is the average age of all patients who received a Pfizer vaccine in the state of Washington?]\nAnswer:\n\n###[ What is the average age of all patients who received a Moderna vaccine in the state of Washington?]\nAnswer:\n\n###[ What is the average age of all patients who received an Oxford vaccine in the state of Washington?]\nAnswer:\n\n###[ What percentage of patients who received a Pfizer vaccine in the state of Washington died?]\nAnswer:\n\n###[ What percentage of patients who received a Moderna vaccine in the state of Washington died?]\nAnswer:\n\n###[ What percentage of patients who received an Oxford vaccine in the state of Washington died?","5771":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"cbd\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"0\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 20190301,\n              \"lte\": 20190401,\n              \"format\": \"yyyyMMdd\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[Is there any patients who was taking cbd internal salve?]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"internal salve\"\n          }\n        },\n        {\n          \"match\": {\n            \"","3037":"###[How many patients were hospitalized for more than 365 days?]\nAnswer:\n\n###[How many patients were hospitalized for less than 7 days?]\nAnswer:\n\n###[How many patients were hospitalized for between 28 to 90 days?]\nAnswer:\n\n###[How many patients were hospitalized for less than 1 year but greater than 1 month?]\nAnswer:\n\n###[How many patients were hospitalized for less than a month but greater than 90 days?]\nAnswer:\n\n###[How many patients were hospitalized for less than 1 week but greater than 1 day?]\nAnswer:\n\n###[How many patients were hospitalized for less than 1 month but greater than 30 days?]\nAnswer:\n\n###[How many patients were hospitalized for less than 1 week but greater than 7 days?","9186":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"US0095075132202\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_MANU\": \"US006062\"\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Test 1\n    assert generate_elasticsearch_query(\n        \"RECVDATE\", [\"2021-04-08\"], [], []) == \"\"\"\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE","4201":"###[ What is the number of cases where onset date of adverse event symptom is greater than or equal to 08\/02\/2021. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is less than or equal to 08\/02\/2021. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is between 08\/02\/2021 and 09\/02\/2021. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is not between 08\/02\/2021 and 09\/02\/2021. ]\nAnswer:\n\n###[ What is the number of cases where onset date of ad","12514":"###[ What are the top 5 states in terms of number of deaths due to COVID-19? ]\nAnswer:\n\n###[ What are the top 3 age groups in terms of number of deaths due to COVID-19? ]\nAnswer:\n\n###[ What are the top 5 states in terms of number of hospitalization days due to COVID-19? ]\nAnswer:\n\n###[ What are the top 3 age groups in terms of number of hospitalization days due to COVID-19? ]\nAnswer:\n\n###[ What are the top 5 states in terms of number of visits to outpatient care due to COVID-19? ]\nAnswer:\n\n###[ What are the top 3 age groups in terms of number of visits to outpatient care due to COVID-19? ]\nAnswer:\n\n###[ What are the top 5 states in terms of","1160":"{\n    \"size\": 10000,\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"AGE_YRS\": \"90.0\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ],\n            \"filter\": [{\"range\": {\"RECVDATE\": {\"gte\": \"2021-04-01\", \"lte\": \"2021-05-31\"}}}]\n        }\n    },\n    \"_source\": [\"ALLERGIES\"]\n}\n\n###[How many patients have died in the past year?]\nAnswer:\n{\n    \"size\": 10000,\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"DIED\": \"Yes\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ],\n            \"filter\": [{\"range\": {\"RECVDATE\": {\"gte\": \"","7456":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"allergic\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"emogene\"\n                    }\n                }\n            ],\n            \"filter\": {\n                \"range\": {\n                    \"RECVDATE\": {\n                        \"gte\": 20190101,\n                        \"lte\": 20191231,\n                        \"format\": \"yyyyMMdd\"\n                    }\n                }\n            }\n        }\n    }\n}\n\n###[ Show me all the patients who has a history of diabetes. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HISTORY\": \"diabetes\"\n                    }\n                }\n            ],\n            \"filter\": {\n                \"range\":","5018":"###[ Find the number of cases that the vaccine recipients did not have influenza a antigen test test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had influenza b antigen test test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients did not have influenza b antigen test test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had influenza c antigen test test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients did not have influenza c antigen test test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had influenza d antigen test test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients did not have influenza d antigen test test. ]\nAnswer:\n\n###[","7128":"###[ Which is the most common dry heaves for patients.]\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### entify the filed name first, then extract the specific condition values from the question for this field","281":"\"\"\"\n\nimport json\nfrom elasticsearch import Elasticsearch\n\n\ndef get_es():\n    es = Elasticsearch(\n        hosts=[{'host': 'localhost', 'port': 9200}],\n        http_auth=('elastic', '<PASSWORD>'),\n        scheme=\"https\",\n        retry_on_timeout=True,\n        max_retries=10\n    )\n\n    return es\n\n\ndef search_by_field_value(index_name, field_name, field_value):\n    \"\"\"\n    Search by field name and field value\n    :param index_name: Index Name\n    :param field_name: Field Name\n    :param field_value: Field Value\n    :return:\n    \"\"\"\n    es = get_es()\n    body = {\n        \"query\": {\n            \"match\": {\n                f\"{field_name}\": f\"{field_value}\"\n            }\n        },\n        \"_source\": [\"RECVDATE\"]\n    }\n    res = es.search","1878":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Ankle Fracture\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 18,\n                            \"lte\": 90\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Provide all the patients who have Diabetes mellitus. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Diabetes Mellitus\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],","2960":"###[ What is the number of patients who received at least one dose of a COVID-19 vaccine in the United States?]\nAnswer:\n\n###[ What is the average age of all patients who received at least one dose of a COVID-19 vaccine in the United States?]\nAnswer:\n\n###[ What is the percentage of patients who died after receiving at least one dose of a COVID-19 vaccine in the United States?]\nAnswer:\n\n###[ What is the average length of stay (in days) for patients who received at least one dose of a COVID-19 vaccine in the United States?]\nAnswer:\n\n###[ What is the average number of days between admission to a hospital and their receipt of a COVID-19 vaccination in the United States?]\nAnswer:\n\n###[ What is the average number of days between admission to","4577":"###[ What is the number of cases where the interval from the vaccination date to the onset date is less than or equal to 182.0 days? ]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is greater than 182.0 days but less than or equal to 273.0 days? ]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is greater than 273.0 days? ]\nAnswer:\n\n###[ What is the average length of stay (in days) for patients who received at least one dose of a COVID-19 vaccine in the United States? Round your answer to two decimal places.]\nAnswer:\n\n###[ What is the average length of stay (in days) for patients who received all","4280":"{\n  \"query\": {\n    \"range\": {\n      \"RECVDATE\": {\n        \"gte\": \"1975-01-01\",\n        \"lte\": \"2021-04-06\"\n      }\n    }\n  },\n  \"size\": 10000\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string\n    :return: Condition value as a string or None if no condition was found\n    \"\"\"\n    # TODO: Implement this function!\n    return None\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    Generates an Elasticsearch query given a field name and its corresponding condition value\n\n    :param field_name: Field name (e.g., RACE)\n    :param condition_value: Condition value (e.g., WHITE)\n    :return: Dictionary containing","11801":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"INFLUENZA (SEASONAL) (FLUBLOK QUADRIVALENT)\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"INFLUENZA (SEASONAL) (FLUAD)\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_","11559":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"YELLOW FEVER (STAMARIL)\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"2021-08-31\",\n                            \"lte\": \"2021-09-01\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Test case 1\n    print(\"Test Case 1\")\n    question = \"Search any vaccine recipients who had yellow fever (stamaril).\"\n    expected_result = {\n        \"query\": {\n            \"bool\": {\n                \"must\": [\n                    {\"","6067":"###[ List all the patients who have been hospitalized in the past 12 months. ]\nAnswer:\n\n###[ List all the patients who have not been hospitalized in the past 12 months. ]\nAnswer:\n\n###[ List all the patients who have received a flu vaccine. ]\nAnswer:\n\n###[ List all the patients who have not received a flu vaccine. ]\nAnswer:\n\n###[ List all the patients who have been hospitalized due to COVID-19. ]\nAnswer:\n\n###[ List all the patients who have not been hospitalized due to COVID-19. ]\nAnswer:\n\n###[ List all the patients who have been hospitalized due to other reasons. ]\nAnswer:\n\n###[ List all the patients who have not been hospitalized due to other reasons. ]\nAnswer:\n\n###[ List all the patients who have been hospitalized","10491":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_NAME\": \"qfaa2159\"\n    }\n  }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]###","3036":"###[How many patients were hospitalized for more than 3.0 days?]\nAnswer:\n\n###[How many patients were hospitalized for less than 2.0 days?]\nAnswer:\n\n###[How many patients were hospitalized for between 2.0 to 4.0 days?]\nAnswer:\n\n###[How many patients were hospitalized for exactly 5.0 days?]\nAnswer:\n\n###[How many patients were hospitalized in a particular state?]\nAnswer:\n\n###[How many patients were hospitalized in California?]\nAnswer:\n\n###[How many patients were hospitalized in Texas?]\nAnswer:\n\n###[How many patients were hospitalized in Florida?]\nAnswer:\n\n###[How many patients were hospitalized in New York?]\nAnswer:\n\n###[How many patients were hospitalized in Pennsylvania","4545":"###[ What is the number of cases where the interval from the vaccination date to the onset date is less than or equal to 180.0 days? ]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is greater than 180.0 days but less than or equal to 365.0 days? ]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is greater than 365.0 days but less than or equal to 730.0 days? ]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is greater than 730.0 days but less than or equal to 1825.0 days? ]\nAnswer:","6505":"###[ Which is the most common right knee for patients.]\nAnswer:\n\n###[ Which is the most common foot for patients.]\nAnswer:\n\n###[ Which is the most common hand for patients.]\nAnswer:\n\n###[ Which is the most common head for patients.]\nAnswer:\n\n###[ Which is the most common face for patients.]\nAnswer:\n\n###[ Which is the most common chest for patients.]\nAnswer:\n\n###[ Which is the most common abdomen for patients.]\nAnswer:\n\n###[ Which is the most common pelvis for patients.]\nAnswer:\n\n###[ Which is the most common upper extremity for patients.]\nAnswer:\n\n###[ Which is the most common lower extremity for patients.]\nAnswer:\n\n###[ Which is the most common neck for patients.]\nAnswer:\n\n###[ Which is the most common back for patients.]","7321":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"allergies\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20180101,\n                            \"lte\": 20190101,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: String containing the question asked by user.\n    :return: Condition value of the question.\n    \"\"\"\n\n    # TODO: Write your code here\n    if 'allergic'","12120":"###[ How many people received DTAP + HEPB + IPV (PEDIARIX) vaccine and INFLUENZA (SEASONAL) (FLULAVAL) vaccine in 2019. ]\nAnswer:\n\n###[ How many people received DTAP + HEPB + IPV (PEDIARIX) vaccine and INFLUENZA (SEASONAL) (FLULAVAL) vaccine in 2018. ]\nAnswer:\n\n###[ How many people received DTAP + HEPB + IPV (PEDIARIX) vaccine and INFLUENZA (SEASONAL) (FLULAVAL) vaccine in 2017. ]\nAnswer:\n\n###[ How many people received DTAP + HEPB + IPV (PEDIARIX) vaccine and INFLUENZA (SEASONAL) (FLULA","1663":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Spleen palpable\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"VAX_DATE\": {\n                            \"gte\": 20210305,\n                            \"lte\": 20210405\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS","10958":"###[How many people have been injected with 18790 in California]\nAnswer:\n\n###[How many people have been injected with 18790 in California who died]\nAnswer:\n\n###[How many people have been injected with 18790 in California who did not die]\nAnswer:\n\n###[How many people have been injected with 18790 in California who were vaccinated]\nAnswer:\n\n###[How many people have been injected with 18790 in California who were not vaccinated]\nAnswer:\n\n###[How many people have been injected with 18790 in California who had a previous vaccine]\nAnswer:\n\n###[How many people have been injected with 18790 in California who did not have a previous vaccine]\nAnswer:\n\n###[How many people have","9586":"{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"USPFIZER INC\"\n          }\n        },\n        {\n          \"range\": {\n            \"VAX_DATE\": {\n              \"gte\": \"2022-01-01\",\n              \"lte\": \"2022-01-01\"\n            }\n          }\n        }\n      ],\n      \"filter\": []\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Pfizer Inc in Jan 2022?]\nAnswer:\n{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"Pfizer Inc\"\n          }\n        },\n        {\n          \"range\":","3029":"###[How many patients had a history of diabetes?]\nAnswer:\n\n###[What was the highest age of any patient who received a flu vaccine in the United States?]\nAnswer:\n\n###[How many patients have been hospitalized for at least 183 days?]\nAnswer:\n\n###[How many patients are there in the dataset that have not received a flu vaccine?]\nAnswer:\n\n###[How many patients have never been hospitalized?]\nAnswer:\n\n###[How many patients have never received a flu vaccine?]\nAnswer:\n\n###[How many patients have received a flu vaccine?]\nAnswer:\n\n###[How many patients have received a flu vaccine in the last year?]\nAnswer:\n\n###[How many patients have received a flu vaccine in the United States?]\nAnswer:","12996":"###[ what are the top 3 states that have the highest number of deaths among all states?]\nAnswer:\n\n###[ how many patients were hospitalized due to pneumonia?]\nAnswer:\n\n###[ what is the average age of a patient who died?]\nAnswer:\n\n###[ what is the average age of a patient who was hospitalized?]\nAnswer:\n\n###[ what is the average age of a patient who received a flu shot?]\nAnswer:\n\n###[ what is the average age of a patient who received a cold-flu shot?]\nAnswer:\n\n###[ what is the average age of a patient who received a sinus flu shot?]\nAnswer:\n\n###[ what is the average age of a patient who received a shingles flu shot?]\nAnswer:\n\n###[ what is the average age of a patient who received","9559":"{\n  \"size\": 10000,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"885080\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_TYPE\": \"COMBO\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"TODAYS_DATE\": {\n              \"gte\": \"2021-03-07\",\n              \"lte\": \"2021-04-06\",\n              \"format\": \"yyyy-MM-dd\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Pfizer?]\nAnswer:\n{\n  \"size\": 10000,\n  \"query\": {\n    \"bool\": {","12634":"###[ List all records that had a Pneumonia diagnosis associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had a Diabetes diagnosis associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Asthma diagnosis associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had COPD diagnosis associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Chronic Kidney Disease diagnosis associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Gastrointestinal bleeding diagnosis associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Headache diagnosis associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Hypertension diagnosis associated","3136":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"06\/25\/2021\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME","266":"\"\"\"\n\nimport json\nfrom elasticsearch import Elasticsearch\n\n\ndef get_es():\n    es = Elasticsearch(\n        hosts=[{'host': 'localhost', 'port': 9200}],\n        http_auth=('elastic', '<PASSWORD>'),\n        scheme=\"https\",\n        retry_on_timeout=True,\n        max_retries=10\n    )\n\n    return es\n\n\ndef search_by_field_value(index_name, field_name, field_value):\n    \"\"\"\n    Search by field name and field value\n    :param index_name: Index Name\n    :param field_name: Field Name\n    :param field_value: Field Value\n    :return:\n    \"\"\"\n    es = get_es()\n    body = {\n        \"query\": {\n            \"match\": {\n                f\"{field_name}\": f\"{field_value}\"\n            }\n        },\n        \"_source\": [\"RECVDATE\"]\n    }\n    res = es.search","2375":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"DIED\": \"Yes\"}},\n                {\"match\": {\"RECVDATE\": \"12\/01\/2020\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\"]\n}\n\n###[Give me all the patients who are between 35-40 years old. ]\nAnswer:\n{\n    \"query\": {\n        \"range\": {\n            \"AGE_YRS\": {\n                \"gte\": 35,\n                \"lte\": 40\n            }\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\"]\n}\n\n###[Give me all the patients who have a history of heart attack. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"HISTORY\": \"Heart Attack\"\n        }\n    },\n    \"_source\": [\"","2130":"###[ How many patients have Decubitus ulcer before vaccination? ]\nAnswer:\n\n###[ How many patients have Gastroenteritis after vaccination? ]\nAnswer:\n\n###[ How many patients have Gastroenteritis before vaccination? ]\nAnswer:\n\n###[ How many patients have Headache after vaccination? ]\nAnswer:\n\n###[ How many patients have Headache before vaccination? ]\nAnswer:\n\n###[ How many patients have Influenza after vaccination? ]\nAnswer:\n\n###[ How many patients have Influenza before vaccination? ]\nAnswer:\n\n###[ How many patients have Meningitis after vaccination? ]\nAnswer:\n\n###[ How many patients have Meningitis before vaccination? ]\nAnswer:\n\n###[ How many patients have Pneumonia after vaccination? ]","41":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"RECVDATE\": \"01\/18\/2022\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES","12981":"###[ what are the top 3 states that have the highest number of deaths among all states?]\nAnswer:\n\n###[ how many people in the US died due to covid-19?]\nAnswer:\n\n###[ what is the average age of a person who has been diagnosed with covid-19?]\nAnswer:\n\n###[ what is the percentage of people who have been diagnosed with covid-19 by state?]\nAnswer:\n\n###[ what is the average number of days a patient has been in hospital before receiving their vaccine?]\nAnswer:\n\n###[ what is the average number of days a patient has been in hospital after receiving their vaccine?]\nAnswer:\n\n###[ what is the average number of days a patient has spent in the ICU before receiving their vaccine?]\nAnswer:\n\n###[ what is the average number","9435":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"<NAME>\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_LOT\": \"INC202200123925\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE","4596":"###[ What is the number of cases where the interval from the vaccination date to the onset date is less than or equal to 123.0 days? ]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is greater than 579.0 days? ]\nAnswer:\n\n###[ What is the average interval between the vaccination date and the onset date in days?]\nAnswer:\n\n###[ What is the median interval between the vaccination date and the onset date in days?]\nAnswer:\n\n###[ What is the standard deviation of the interval between the vaccination date and the onset date in days?]\nAnswer:\n\n###[ What is the minimum interval between the vaccination date and the onset date in days?]\nAnswer:\n\n###[ What is the maximum interval","3941":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"03\/23\/2022\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ]\n        }\n    },\n    \"_source\": [\"ALLERGIES\"]\n}\n\n###[ Find all the records where the patient was diagnosed with a heart attack on 12\/15\/2021. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"SYMPTOM_TEXT\": \"heart attack\"}},\n                {\"match\": {\"DIED\": \"Y\"}}\n            ]\n        }\n    },\n    \"_source\": [\"ALLERGIES\"]\n}\n\n###[ Find all the records where the patient was diagnosed with a heart attack in California on 12\/15\/2021. ]\nAnswer:","1020":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 96}}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\n###[ List all patients who have","221":"\"\"\"\n\nimport json\nfrom elasticsearch import Elasticsearch\n\n\ndef get_es():\n    es = Elasticsearch(\n        hosts=[{'host': 'localhost', 'port': 9200}],\n        http_auth=('elastic', '<PASSWORD>'),\n        scheme=\"https\",\n        retry_on_timeout=True,\n        max_retries=10\n    )\n\n    return es\n\n\ndef search_by_field_value(index_name, field_name, field_value):\n    \"\"\"\n    Search by field name and field value\n    :param index_name: Index Name\n    :param field_name: Field Name\n    :param field_value: Field Value\n    :return:\n    \"\"\"\n    es = get_es()\n    body = {\n        \"query\": {\n            \"match\": {\n                f\"{field_name}\": f\"{field_value}\"\n            }\n        },\n        \"_source\": [\"RECVDATE\"]\n    }\n    res = es.search","12837":"###[ Is there any person have UTI after vaccine? ]\nAnswer:\n\n###[ Is there any person have fever after vaccine? ]\nAnswer:\n\n###[ Is there any person have Cough after vaccine? ]\nAnswer:\n\n###[ Is there any person have Shortness of breath or difficulty in breathing after vaccine? ]\nAnswer:\n\n###[ Is there any person have Headache after vaccine? ]\nAnswer:\n\n###[ Is there any person have Body aches and pains after vaccine? ]\nAnswer:\n\n###[ Is there any person have Loss of taste or smell after vaccine? ]\nAnswer:\n\n###[ Is there any person have Nausea or vomiting after vaccine? ]\nAnswer:\n\n###[ Is there any person have Diarrhea after vaccine? ]\nAnswer:\n\n###[ Is","10765":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"02\/23\/2021\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_TYPE\": \"COMBO\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes a question as input and returns the condition value of that question.\n    :param question: Question string\n    :return: Condition value of the question\n    \"\"\"\n\n    # Split the question into words\n    words = question.split()\n\n    # Get the index of the word 'is'\n    idx = words.index('is')\n\n    # Return the next word after 'is'\n    return words[idx + 1]\n\n\ndef generate_elasticsearch_query(field_name, condition_value):","999":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"Age_yrs\": {\"gte\": 106}}},\n                {\"match\": {\"Sex\": \"F\"}},\n                {\"match\": {\"DIED\": \"Y\"}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"","702":"###[Give me the state that has the highest number of deaths]\nAnswer:\n\n###[Give me the state that has the lowest number of deaths]\nAnswer:\n\n###[Give me the state that has the highest number of hospital days]\nAnswer:\n\n###[Give me the state that has the lowest number of hospital days]\nAnswer:\n\n###[Give me the state that has the highest number of hospitalizations]\nAnswer:\n\n###[Give me the state that has the lowest number of hospitalizations]\nAnswer:\n\n###[Give me the state that has the highest number of vaccinations]\nAnswer:\n\n###[Give me the state that has the lowest number of vaccinations]\nAnswer:\n\n###[Give me the state that has the highest number of allergies]\nAnswer:\n\n###[Give me the state that has the lowest number of allergies]","2661":"###[ What are the top 5 states that have the most deaths in the US. ]\nAnswer:\n\n###[ What are the top 3 vaccine manufacturers in the US. ]\nAnswer:\n\n###[ What are the top 3 symptoms of COVID-19. ]\nAnswer:\n\n###[ What are the top 3 conditions that cause COVID-19. ]\nAnswer:\n\n###[ What are the top 3 types of vaccines used to prevent COVID-19. ]\nAnswer:\n\n###[ What are the top 3 states that have the most cases of COVID-19. ]\nAnswer:\n\n###[ What are the top 3 states that have the highest number of hospitalizations due to COVID-19. ]\nAnswer:\n\n###[ What are the top 3 states that have the highest number of deaths due to COVID-19.","3336":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"03\/30\/2020\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME","523":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"STATE\": \"GU\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Give me all the patients who has died in the hospital. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"term\": {\n                        \"DIED\": true\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Give me all the patients who has not been vaccinated against COVID-19. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"term\": {\n                        \"CUR_ILL\": false\n                    }\n                },\n                {\n                    \"term\": {\n                        \"PRIOR_VAX\": false\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Give me","5467":"###[ List all the vaccine recipients who received a Pfizer vaccine in 2018. ]\nAnswer:\n\n###[ List all the vaccine recipients who were diagnosed with cancer or diabetes in 2019. ]\nAnswer:\n\n###[ List all the vaccine recipients who had an asthma attack before receiving any vaccine. ]\nAnswer:\n\n###[ List all the vaccine recipients who have ever been hospitalized. ]\nAnswer:\n\n###[ List all the vaccine recipients who are 65 years old or older. ]\nAnswer:\n\n###[ List all the vaccine recipients who have ever been pregnant. ]\nAnswer:\n\n###[ List all the vaccine recipients who have ever had a heart attack. ]\nAnswer:\n\n###[ List all the vaccine recipients who have ever had a stroke. ]\nAnswer:","517":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"STATE\": \"MH\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[Give me all the patients who has died in the hospital. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"term\": {\n                        \"DIED\": true\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[Give me all the patients who has not been vaccinated. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"term\": {\n                        \"PRIOR_VAX\": false\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[Give me all the patients who has not been vaccinated but received a Pfizer vaccine. ]\nAnswer:","6141":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_TYPE\": \"Transplant\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"1\"\n                    }\n                }\n            ],\n            \"filter\": [],\n            \"should\": []\n        }\n    }\n}\n\n###[ Return all the cases where the vaccine recipients was reported as a COVID-19 death. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"COVID-19\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"1\"\n                    }\n                }\n            ],\n            \"filter\": [],\n            \"should\": []\n        }\n    }\n}\n\n###[ Return all the cases where the vaccine recipients was reported as having","9400":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"<NAME>\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"USPFIZER\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"INC202200072821\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef get_field(question):\n    \"\"\"\n    Extracts the field name from a question string\n\n    :param question: Question string to parse\n    :return: Field name extracted from the question string\n    \"\"\"\n    # TODO: Implement this function!\n    return \"\"\n\n\ndef get_condition_value(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string to parse\n    :return: Condition value extracted from the","11904":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"TYPHOID VI POLYSACCHARIDE (NO BRAND NAME)\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"INFLUENZA (SEASONAL) (FLUBLOK)\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_","8154":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"vax_date\": {\"gte\": \"2021-02-13\", \"lte\": \"2021-02-13\"}}}\n            ],\n            \"filter\": [{\"match_all\": {}}]\n        }\n    },\n    \"_source\": [\"vaers_id\"]\n}\n\n###[ Find all records who received a Pfizer vaccine before on 2\/13\/2021. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"term\": {\"vax_name\": \"Pfizer\"}},\n                {\"range\": {\"vax_date\": {\"gte\": \"2021-02-13\", \"lte\": \"2021-02-13\"}}}\n            ],\n            \"filter\": [{\"match_all","6452":"###[ What is the number of vaccine recipients that had respiratory when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had diarrhea when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had fever when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had headache when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had cough when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had sore throat when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had fatigue when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients","11723":"###[ What is the number of the cases where the vaccine recipient had Pneumococcal conjugate vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had Influenza vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had Measles vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had Meningitis vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had Polio vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had Tetanus vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had Varicella vaccine. ]\nAnswer:\n\n###[ What is","6822":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"memory loss\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"1\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ Search all the patients who have died in hospital. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"HOSPITAL\": \"1\"\n                    }\n                },\n                {\n                    \"term\": {\n                        \"DIED\": \"1\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Search all the patients who have not been vaccinated against COVID-19. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\":","11882":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"INFLUENZA (SEASONAL) (FLUENZ TETRA)\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"TETANUS TOXOID (NO BRAND NAME)\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_","7961":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"RECVDATE\": \"04\/10\/2021\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"04\/10\/2021\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, V","4179":"###[ What is the number of cases where onset date of adverse event symptom is greater than or equal to 01\/01\/2020. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is less than or equal to 01\/01\/2020. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is between 01\/01\/2020 and 03\/01\/2020. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is not between 01\/01\/2020 and 03\/01\/2020. ]\nAnswer:\n\n###[ What is the number of cases where onset date of ad","11016":"###[How many people have been injected with a new vaccine (not known)]\nAnswer:\n\n###[How many people have been injected with a second dose of a vaccine (not known)]\nAnswer:\n\n###[How many people have been injected with a booster dose of a vaccine (not known)]\nAnswer:\n\n###[How many people have been injected with a third or more dose of a vaccine (not known)]\nAnswer:\n\n###[How many people have been injected with a COVID-19 vaccine (not known)]\nAnswer:\n\n###[How many people have been injected with a COVID-19 vaccine in a series (not known)]\nAnswer:\n\n###[How many people have been injected with a COVID-19 vaccine in a parallel series (not known)]\nAnswer:\n\n###[How many people have been injected with a COVID-19","5808":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Enalapril\"\n          }\n        },\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 1583296000,\n              \"lte\": 1584728000\n            }\n          }\n        }\n      ],\n      \"filter\": [],\n      \"should\": [],\n      \"must_not\": []\n    }\n  }\n}\n\n###[Is there any patients who was taking enalapril before Jan 1st, 2020?]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Enalapril\"\n          }\n        },\n        {\n          \"range\": {\n            \"REC","5197":"###[How many patients has a real time pcr before vaccination]\nAnswer:\n\n###[How many patients has a real time pcr during vaccination]\nAnswer:\n\n###[How many patients has a real time pcr after vaccination in 2019]\nAnswer:\n\n###[How many patients has a real time pcr before vaccination in 2019]\nAnswer:\n\n###[How many patients has a real time pcr during vaccination in 2019]\nAnswer:\n\n###[How many patients has a real time pcr after vaccination in 2020]\nAnswer:\n\n###[How many patients has a real time pcr before vaccination in 2020]\nAnswer:\n\n###[How many patients has a real time pcr during vaccination in 2020]","8354":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"POLIO VIRUS\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"INACT.\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"VAX_DATE\": {\n                            \"lt\": \"2019-03-05\",\n                            \"gte\": \"2018-03-06\"\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": 0\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_TH","9536":"{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"<NAME>\"\n          }\n        },\n        {\n          \"range\": {\n            \"VAX_DATE\": {\n              \"gte\": \"2021-01-01\",\n              \"lte\": \"2021-12-31\"\n            }\n          }\n        }\n      ],\n      \"filter\": []\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Pfizer Inc?]\nAnswer:\n{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"Pfizer Inc\"\n          }\n        },\n        {\n          \"range\": {\n            \"VAX_DATE\": {\n              \"gte","7937":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"RECVDATE\": \"11\/20\/2021\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"11\/20\/2021\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, V","7773":"\"\"\"\nimport json\nfrom elasticsearch import Elasticsearch\n\n\ndef get_es():\n    es = Elasticsearch(\n        hosts=[{'host': 'localhost', 'port': 9200}],\n        http_auth=('elastic', '<PASSWORD>'),\n        scheme=\"https\",\n        retry_on_timeout=True,\n        max_retries=10\n    )\n\n    return es\n\n\ndef search_by_field_name(es):\n    # Search by field name\n    body = {\n        \"query\": {\n            \"match\": {\"FIELD_NAME\": \"CONDITION_VALUE\"}\n        }\n    }\n    res = es.search(index='clinical-notes', doc_type='_doc', body=body)\n    print(\"Got %d Hits:\" % res['hits']['total'])\n    for hit in res['hits']['hits']:\n        print(\"%(timestamp)s %(author)s: %(text)s\" % hit[\"_source\"])\n\n\nif __","11134":"###[ How many people have been injected from ID ]\nAnswer:\n\n###[ How many people have been injected from ID ]\nAnswer:\n\n###[ How many people have been injected from ID ]\nAnswer:\n\n###[ How many people have been injected from ID ]\nAnswer:\n\n###[ How many people have been injected from ID ]\nAnswer:\n\n###[ How many people have been injected from ID ]\nAnswer:\n\n###[ How many people have been injected from ID ]\nAnswer:\n\n###[ How many people have been injected from ID ]\nAnswer:\n\n###[ How many people have been injected from ID ]\nAnswer:\n\n###[ How many people have been injected from ID ]\nAnswer:\n\n###[ How many people have been injected from ID ]\nAnswer:\n\n###[ How many people have been injected from ID ]\nAnswer:\n\n###[ How many people have been","1506":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"01\/19\/2022\"}},\n                {\"match\": {\"STATE\": \"VA\"}},\n                {\"match\": {\"AGE_YRS\": \"56-64\"}},\n                {\"match\": {\"VAERS_ID\": \"138700\"}}\n            ],\n            \"filter\": [{\"range\": {\"SYMPTOM_TEXT\": {\"gte\": \"\", \"lte\": \"\"}}}]\n        }\n    },\n    \"_source\": [\"ALLERGIES\"]\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Given\n    expected = {\n        'query': {'bool': {'must': [{'match': {'RECVDATE': '01\/19\/2022'}},\n                                    {'match': {'STATE': 'VA'}},\n                                    {'match': {'AGE_YRS': '56-","49":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"RECVDATE\": \"03\/11\/2022\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES","11644":"###[ How many people received DTAP (DAPTACEL) shot in 2019?]\nAnswer:\n\n###[ How many people received DTAP (DAPTACEL) shot in 2018?]\nAnswer:\n\n###[ How many people received DTAP (DAPTACEL) shot in 2017?]\nAnswer:\n\n###[ How many people received DTAP (DAPTACEL) shot in 2016?]\nAnswer:\n\n###[ How many people received DTAP (DAPTACEL) shot in 2015?]\nAnswer:\n\n###[ How many people received DTAP (DAPTACEL) shot in 2014?]\nAnswer:\n\n###[ How many people received DTAP (DAPTACEL) shot in 2013?]\nAnswer:\n\n###[ How","11205":"###[What are the top 5 states that have the most deaths among all the states]\nAnswer:\n\n###[What are the top 10 states that have the least deaths among all the states]\nAnswer:\n\n###[What are the top 3 states that have the highest number of hospitalization days among all the states]\nAnswer:\n\n###[What are the top 3 states that have the lowest number of hospitalization days among all the states]\nAnswer:\n\n###[What are the top 3 states that have the highest number of hospitalizations among all the states]\nAnswer:\n\n###[What are the top 3 states that have the lowest number of hospitalizations among all the states]\nAnswer:\n\n###[What are the top 3 states that have the highest number of patients who died among all the states]\nAnswer:\n\n###[What are the top 3 states","9756":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"06\/10\/2021\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_condition(question","5798":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"quetiapine\"\n          }\n        },\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 1583296000,\n              \"lte\": 1584728000\n            }\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"term\": {\n            \"DIED\": false\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[Is there any patients who was taking remdesivir?]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"remdesivir\"\n          }\n        },\n        {\n          \"range\": {\n            \"RECVDATE\": {","425":"###[ Find the state that has the highest number of deaths among all states]\nAnswer:\n\n###[ Find the state that has the lowest number of deaths among all states]\nAnswer:\n\n###[ Find the state that has the highest number of hospitalization days among all states]\nAnswer:\n\n###[ Find the state that has the lowest number of hospitalization days among all states]\nAnswer:\n\n###[ Find the state that has the highest number of vaccine doses administered among all states]\nAnswer:\n\n###[ Find the state that has the lowest number of vaccine doses administered among all states]\nAnswer:\n\n###[ Find the state that has the highest number of patients who received at least one Pfizer vaccine dose among all states]\nAnswer:\n\n###[ Find the state that has the lowest number of patients who received at least one Pfizer vaccine","1649":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Retroperitoneal neoplasm\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"VAX_DATE\": {\n                            \"gte\": 1609459200000,\n                            \"lte\": 1637814400000\n                        }\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY","9734":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"02\/03\/2022\"}},\n            ],\n        },\n    }\n}\n\n###[Give me all the patients who died in hospital after receiving a flu vaccine. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"DIED\": True}},\n                {\"match\": {\"HOSPITAL\": True}},\n                {\"match\": {\"VAX_NAME\": \"Influenza\"}}\n            ],\n        },\n    }\n}\n\n###[Give me all the patients who have received at least one of these two vaccines: Pfizer-BioNTech or Moderna]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"should\": [\n                {\"match\": {\"VAX_NAME\": \"Pfizer-Bio","10610":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"fe5934\"\n    }\n  }\n}\n\nPrompt: ###[Give me all the patients who are 18 years old]\n### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### entify the filed name first, then extract the specific condition values from the question for this field. Generate the Elasticsearch query based on the filed name and condition value.\nClinical Notes: ###[Give me all the patients who are 18 years old]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"range\": {\n            \"AGE_YRS\": {\n              \"gte\": 18,\n              \"lte\": 18\n            }\n          }\n        }\n      ],\n      \"filter","12606":"###[ List all records that had Diabetes associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Asthma associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Chronic Kidney Disease associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Cancer associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Heart Failure associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Obesity associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Pneumonia associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Stroke associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Suicide associated with","12631":"'''\n\ndef get_condition(question):\n    '''\n    This function takes in a question string and returns the condition value of the field.\n    For example, if the question was \"What is the condition value for this field?\"\n    Then it would return the answer to the question.\n    '''\n\n    # Split the question into words\n    split = question.split()\n    \n    # Get the index of the word 'value'\n    idx = split.index('value')\n    \n    # Return the next word as the condition value\n    return split[idx+1]\n\n\ndef generate_query(field_name, condition_value):\n    '''\n    This function generates an Elasticsearch query given a field name and its corresponding condition value.\n    It uses the global variable `es` which is an instance of the Elasticsearch class.\n    '''\n\n    # Define the query dictionary\n    q = {\n       'size': 0,\n        'aggs': {\n            'agg_name': {\n                'filter","6414":"###[ What is the number of vaccine recipients that did not have an office visit when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients who died after receiving the shot?]\nAnswer:\n\n###[ What is the number of vaccine recipients who were hospitalized after receiving the shot?]\nAnswer:\n\n###[ What is the number of vaccine recipients who received a placebo before receiving the shot?]\nAnswer:\n\n###[ What is the number of vaccine recipients who received a prescription before receiving the shot?]\nAnswer:\n\n###[ What is the number of vaccine recipients who received a different type of vaccine before receiving the shot?]\nAnswer:\n\n###[ What is the number of vaccine recipients who received a COVID-19 vaccine before receiving the shot?]\nAnswer:\n\n###[ What is the number of vaccine recipients","7377":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"pilocarpine\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"1\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Show me all the patients who has a history of asthma. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HISTORY\": \"asthma\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Show me all the patients who has a prior vaccination record. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"exists\": {\n                        \"field\": \"PRIOR_VAX\"\n                    }\n                }\n            ]","11227":"###[What are the symptoms of COVID-19]\nAnswer:\n\n###[What is the age range of the patients who received at least one dose of Pfizer vaccine?]\nAnswer:\n\n###[What is the average number of days a patient has been hospitalized after receiving a Pfizer vaccine?]\nAnswer:\n\n###[What is the average number of days a patient has been hospitalized after receiving a Moderna vaccine?]\nAnswer:\n\n###[What is the average number of days a patient has been hospitalized after receiving a J&J vaccine?]\nAnswer:\n\n###[What is the average number of days a patient has been hospitalized after receiving a Janssen vaccine?]\nAnswer:\n\n###[What is the average number of days a patient has been hospitalized after receiving a Covaxin vaccine?]\nAnswer:\n\n###[","11973":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"TDAP\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"DTAP + IPV\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ List all the patients who got TDAP (NO BRAND NAME) vaccine and DTAP + IPV (UNKNOWN) vaccine in 2019. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"TDAP\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"DTAP + IPV\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"VAX_DATE\": {\n                            \"gte\": \"201","968":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 15, \"lte\": 15}}},\n                {\"match\": {\"DIED\": \"Y\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DO","3931":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"12\/04\/2015\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\n###[ Find all the records where the","243":"\"\"\"\n\nimport json\nfrom elasticsearch import Elasticsearch\n\n\ndef get_es():\n    es = Elasticsearch(\n        hosts=[{'host': 'localhost', 'port': 9200}],\n        http_auth=('elastic', '<PASSWORD>'),\n        scheme=\"https\",\n        retry_on_timeout=True,\n        max_retries=10\n    )\n\n    return es\n\n\ndef search_by_field_value(index_name, field_name, field_value):\n    \"\"\"\n    Search by field name and field value\n    :param index_name: Index Name\n    :param field_name: Field Name\n    :param field_value: Field Value\n    :return:\n    \"\"\"\n    es = get_es()\n    body = {\n        \"query\": {\n            \"match\": {\n                f\"{field_name}\": f\"{field_value}\"\n            }\n        },\n        \"_source\": [\"RECVDATE\"]\n    }\n    res = es.search","12201":"###[ How many people received HEP B (HEPLISAV-B) vaccine and VACCINE NOT SPECIFIED (FOREIGN) vaccine in 2018. ]\nAnswer:\n\n###[ How many people received HEP B (HEPLISAV-B) vaccine and VACCINE NOT SPECIFIED (FOREIGN) vaccine in 2019. ]\nAnswer:\n\n###[ How many people received HEP B (HEPLISAV-B) vaccine and VACCINE NOT SPECIFIED (FOREIGN) vaccine in 2020. ]\nAnswer:\n\n###[ How many people received HEP B (HEPLISAV-B) vaccine and VACCINE NOT SPECIFIED (FOREIGN) vaccine in 2021. ]\nAnswer:\n\n###[ How many people received HEP B (HEPLISAV-B) vaccine","9949":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"04\/16\/2022\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ],\n            \"filter\": [{\"range\": {\"AGE_YRS\": {\"gte\": 50}}}]\n        }\n    },\n    \"_source\": [\"DIED\", \"HOSPITAL\"]\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string to parse\n    :return: Condition value as a string or None if no condition found\n    \"\"\"\n    # TODO: Implement me!\n    return None\n\n\ndef generate_elasticsearch_query(field_name, condition_value=None):\n    \"\"\"\n    Generates an Elasticsearch query given a field name and optional condition value\n\n    :param field_name: Field name of interest\n    :param condition_value:","3865":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"04\/04\/2021\"\n                        }\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"04\/04\/2021\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU","2391":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"DIED\": \"01\/10\/2019\"\n          }\n        }\n      ],\n      \"filter\": []\n    }\n  },\n  \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"","75":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"RECVDATE\": \"05\/20\/2022\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"*\"],\n    \"from\": 0,\n    \"size\": 10\n}\n\n###[Give me all the patients who have died in hospital after receiving their vaccine. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": true\n                    }\n                },\n                {\n                    \"term\": {\n                        \"HOSPITAL\": true\n                    }\n                }\n            ]\n        }\n    },\n    \"_source\": [\"*\"],\n    \"from\": 0,\n    \"size\": 10\n}\n\n###[Give me all the patients who","12164":"###[ How many people received PFIZER BIONTECH (PBSMMX) vaccine and TWINS (TWNSPRIN) vaccine. ]\nAnswer:\n\n###[ How many people received MODERNA COVID-19 VACCINE (MOD) vaccine and COVISHIELD (COV2) vaccine. ]\nAnswer:\n\n###[ How many people received JANSSEN (JNS) vaccine and CDC CHADOX (CDX) vaccine. ]\nAnswer:\n\n###[ How many people received NOVA SCOTIA (NOVA) vaccine and CANADA STRIKE (CANS) vaccine. ]\nAnswer:\n\n###[ How many people received OXFORD\/ASTRAZENECA (OXF) vaccine and SOUTHAFRO (SAF) vaccine. ]\nAnswer:\n\n###[ How many people received P","5538":"###[ Find the number of cases where the vaccine recipients had a previous history of cancer or diabetes. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had a previous history of heart disease. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had a previous history of stroke. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had a previous history of lung disease. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had a previous history of kidney disease. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had a previous history of liver disease. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had a previous history of pregnancy complications. ]\nAnswer:\n\n###[ Find the number of cases where","11848":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"VAX_NAME\": \"MENINGOCOCCAL B\"}},\n                {\"match\": {\"VAX_NAME\": \"ZOSTER\"}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\"]","11309":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"STATE\": \"AR\"}},\n                {\"match\": {\"STATE\": \"RA\"}}\n            ],\n            \"filter\": [{\"range\": {\"VAX_DATE\": {\"gte\": \"2021-01-01\", \"lte\": \"2021-12-31\"}}}]\n        }\n    },\n    \"_source\": [\"VAERS_ID\"]\n}\n\n###[ Find all cases where people vaccinated in CA and NV. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"STATE\": \"CA\"}},\n                {\"match\": {\"STATE\": \"NV\"}}\n            ],\n            \"filter\": [{\"range\": {\"VAX_DATE\": {\"gte\": \"2021-01-01\", \"lte\": \"2021-12-31","1453":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"04\/10\/2021\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ],\n            \"filter\": [{\"range\": {\"AGE_YRS\": {\"gte\": 0}}}]\n        }\n    },\n    \"_source\": [\"DIED\", \"HOSPITAL\"]\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string to parse\n    :return: Condition value as a string or None if no condition was found\n    \"\"\"\n    # TODO: Implement this function!\n    return None\n\n\ndef generate_elasticsearch_query(field_name, condition_value=None):\n    \"\"\"\n    Generates an Elasticsearch query given a field name and optional condition value\n\n    :param field_name: Field name of interest\n    :param condition_value","5150":"###[How many patients has a blood pressure after vaccination]\nAnswer:\n\n###[How many patients has a heart rate after vaccination]\nAnswer:\n\n###[How many patients has a respiratory rate after vaccination]\nAnswer:\n\n###[How many patients has a temperature after vaccination]\nAnswer:\n\n###[How many patients has a systolic blood pressure after vaccination]\nAnswer:\n\n###[How many patients has a diastolic blood pressure after vaccination]\nAnswer:\n\n###[How many patients has a height after vaccination]\nAnswer:\n\n###[How many patients has a weight after vaccination]\nAnswer:\n\n###[How many patients has a bmi after vaccination]\nAnswer:\n\n###[How many patients has a smoking status after vaccination]\nAnswer:\n\n###[How","12032":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"INFLUENZA (SEASONAL) (FLUBLOK)\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"INFLUENZA (SEASONAL) (FLUZONE HIGH-DOSE QUADRIVALENT)\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ List all the patients who got INFLUENZA (SEASONAL) (FLUBLOK) vaccine and INFLUENZA (SEASONAL) (FLUZONE HIGH-DOSE QUADRIVALENT) vaccine in 2019]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"IN","324":"###[ How many patients' record are received before 02\/15\/2022]\nAnswer:\n\n###[ How many patients' record are received after 02\/15\/2022]\nAnswer:\n\n###[ How many patients' record are received in California]\nAnswer:\n\n###[ How many patients' record are received in New York]\nAnswer:\n\n###[ How many patients' record are received in Texas]\nAnswer:\n\n###[ How many patients' record are received in Florida]\nAnswer:\n\n###[ How many patients' record are received in Georgia]\nAnswer:\n\n###[ How many patients' record are received in Pennsylvania]\nAnswer:\n\n###[ How many patients' record are received in Ohio]\nAnswer:\n\n###[ How many patients' record are received in Michigan]","12295":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Interleukin\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1583296000,\n                            \"lte\": 1584728000\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: str\n    :return: list\n    \"\"\"\n\n    # TODO: Write code here to return the condition value of the question passed into this function.\n    if 'after' in question or 'before","10333":"\"\"\"\nimport json\nfrom elasticsearch import Elasticsearch\n\n\ndef get_es():\n    es = Elasticsearch(\n        hosts=[{'host': 'localhost', 'port': 9200}],\n        http_auth=('elastic', '<PASSWORD>'),\n        scheme=\"https\",\n        retry_on_timeout=True,\n        max_retries=10\n    )\n\n    return es\n\n\ndef search_by_field_name(es):\n    # Search by field name\n    body = {\n        \"query\": {\n            \"match\": {\"STATE\": \"TX\"}\n        }\n    }\n    res = es.search(index='vaersdata', doc_type='_doc', body=body)\n    print(\"Got %d Hits:\" % res['hits']['total'])\n    for hit in res['hits']['hits']:\n        print(\"%(timestamp)s %(author)s: %(text)s\" % hit[\"_source\"])\n\n\ndef search_by_condition_","5944":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"health st.\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: str\n    :return: list\n    \"\"\"\n\n    # TODO: Write your code here to extract the condition value from the question string.\n    return []\n\n\ndef generate_elasticsearch","3815":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"2020-12-29\",\n                            \"lte\": \"2020-12-29\"\n                        }\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"12\/29\/2020\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX","6249":"###[ What is the average age of a vaccine recipient when they were vaccinated?]\nAnswer:\n\n###[ What is the percentage of vaccine recipients who died after receiving their second dose of Pfizer-BioNTech?]\nAnswer:\n\n###[ What is the percentage of vaccine recipients who died after receiving their second dose of Moderna?]\nAnswer:\n\n###[ What is the percentage of vaccine recipients who died after receiving their second dose of J&J?]\nAnswer:\n\n###[ What is the percentage of vaccine recipients who died after receiving their second dose of Oxford\/AstraZeneca?]\nAnswer:\n\n###[ What is the percentage of vaccine recipients who died after receiving their second dose of Sinovac?]\nAnswer:\n\n###[ What is the percentage of vaccine recipients who died after receiving","10795":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"RECVDATE\": \"1816022\"\n          }\n        },\n        {\n          \"match\": {\n            \"STATE\": \"VA\"\n          }\n        }\n      ],\n      \"filter\": [],\n      \"should\": [],\n      \"must_not\": []\n    }\n  }\n}\n\n###[ List all the records where they took their shot in 1816022 and are female.]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"RECVDATE\": \"1816022\"\n          }\n        },\n        {\n          \"match\": {\n            \"STATE\": \"VA\"\n          }\n        },\n        {\n          \"match\": {\n            \"SEX\": \"F\"\n          }\n        }\n      ],\n      \"filter\":","5227":"{\n    \"query\": {\n        \"match\": {\n            \"VAX_MANU\": \"UNK\"\n        }\n    }\n}\n\n###[ Find all the records where the vaccine adminiered facility code is UNK or AZ. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"should\": [\n                {\"match\": {\"VAX_MANU\": \"AZ\"}},\n                {\"match\": {\"VAX_MANU\": \"UNK\"}}\n            ]\n        }\n    }\n}\n\n###[ Find all the records where the vaccine adminiered facility code is UNK or AZ or MO. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"should\": [\n                {\"match\": {\"VAX_MANU\": \"AZ\"}},\n                {\"match\": {\"VAX_MANU\": \"MO\"}},\n                {\"match\": {\"VAX_MANU\": \"UNK\"}}\n            ]\n        }","12055":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_NAME\": \"INFLUENZA (H1N1)\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_NAME\": \"INFLUENZA (SEASONAL)\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[ List all the patients who got INFLUENZA (H3N2) (H3N2) vaccine and INFLUENZA (SEASONAL) (NO BRAND NAME) vaccine. ]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_NAME\": \"INFLUENZA (H3N2)\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_NAME\": \"INFL","6013":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"arthritis\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"1\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 0,\n                            \"lte\": 250\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ List all the patients who have died in hospital. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HOSPITAL\": \"1\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"1\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {","4686":"###[How many patients are there in total?]\nAnswer:\n\n###[What is the average age of all patients?]\nAnswer:\n\n###[What is the average number of hospital days of all patients?]\nAnswer:\n\n###[What is the percentage of death among all patients?]\nAnswer:\n\n###[What is the percentage of patients who received at least one dose of Pfizer-BioNTech vaccine?]\nAnswer:\n\n###[What is the percentage of patients who received at least two doses of Pfizer-BioNTech vaccine?]\nAnswer:\n\n###[What is the percentage of patients who received at least three doses of Pfizer-BioNTech vaccine?]\nAnswer:\n\n###[What is the percentage of patients who received at least four doses of Pfizer-BioNTech vaccine?]\nAnswer:","4997":"###[ Find the number of cases that the vaccine recipients had hemoglobin a1c test in 2018. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had hemoglobin a1c test in 2019. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had hemoglobin a1c test in 2020. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had hemoglobin a1c test in 2021. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had hemoglobin a1c test in 2022. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had hemoglobin a1c test in 2023. ]","8099":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"vax_date\": {\"gte\": \"2021-04-25\", \"lte\": \"2021-04-25\"}}}\n            ],\n            \"filter\": [{\"match_all\": {}}]\n        }\n    },\n    \"_source\": [\"vaers_id\"]\n}\n\n###[ Find all records who received a vaccine after on 4\/25\/2021. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"vax_date\": {\"gt\": \"2021-04-25\", \"lt\": \"2021-04-26\"}}}\n            ],\n            \"filter\": [{\"match_all\": {}}]\n        }\n    },\n    \"_source\": [\"vaers_id\"]","2055":"###[ How many patients have Cough increased after vaccination? ]\nAnswer:\n\n###[ How many patients have Fever increased after vaccination? ]\nAnswer:\n\n###[ How many patients have Body Pain increased after vaccination? ]\nAnswer:\n\n###[ How many patients have Runny Nose increased after vaccination? ]\nAnswer:\n\n###[ How many patients have Diarrhea increased after vaccination? ]\nAnswer:\n\n###[ How many patients have Headache increased after vaccination? ]\nAnswer:\n\n###[ How many patients have Nausea increased after vaccination? ]\nAnswer:\n\n###[ How many patients have Vertigo increased after vaccination? ]\nAnswer:\n\n###[ How many patients have Muscle Aches increased after vaccination? ]\nAnswer:\n\n###[ How many patients have Tiredness increased","660":"###[ How many patients are from MA? ]\nAnswer:\n\n###[ How many patients are from RI? ]\nAnswer:\n\n###[ How many patients are from CT? ]\nAnswer:\n\n###[ How many patients are from ME? ]\nAnswer:\n\n###[ How many patients are from VT? ]\nAnswer:\n\n###[ How many patients are from NJ? ]\nAnswer:\n\n###[ How many patients are from DE? ]\nAnswer:\n\n###[ How many patients are from DC? ]\nAnswer:\n\n###[ How many patients are from MD? ]\nAnswer:\n\n###[ How many patients are from WV? ]\nAnswer:\n\n###[ How many patients are from PA? ]\nAnswer:\n\n###[ How many patients are from HI? ]\nAnswer:\n\n###[ How many patients are from KS? ]\nAnswer:","3549":"###[How many patients were vaccinated before 09\/24\/2021?]\nAnswer:\n\n###[What are the top 5 states in terms of number of deaths?]\nAnswer:\n\n###[What are the top 3 states in terms of number of hospitalization days?]\nAnswer:\n\n###[What are the top 3 states in terms of number of hospitalizations?]\nAnswer:\n\n###[What are the top 3 states in terms of number of visits to outpatient clinic?]\nAnswer:\n\n###[What are the top 3 states in terms of number of visits to emergency room?]\nAnswer:\n\n###[What are the top 3 states in terms of number of adverse events?]\nAnswer:\n\n###[What are the top 3 states in terms of number of allergies reported by patients?]","1159":"{\n    \"size\": 5000,\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"AGE_YRS\": \"21.0\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ],\n            \"filter\": [{\"range\": {\"RECVDATE\": {\"gte\": \"2021-03-01\", \"lte\": \"2021-04-01\"}}}]\n        }\n    },\n    \"_source\": [\"RECVDATE\",\"STATE\",\"AGE_YRS\",\"VAERS_ID\",\"SEX\",\"SYMPTOM_TEXT\",\"DIED\",\"ER_VISIT\",\"L_THREAT\",\"HOSPITAL\",\"HOSPDAYS\",\"DISABLE\",\"VAX_DATE\",\"LAB_DATA\",\"OTHER_MEDS\",\"CUR_ILL\",\"HISTORY\",\"PRIOR_VAX\",\"TODAYS_DATE\",\"OFC_VISIT\",\"VAX_TYPE\",\"VAX_MANU","9479":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"<NAME>\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"USPFIZER\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"INC202200165324\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef get_field(question):\n    \"\"\"\n    Extracts the field name from a question string\n\n    :param question: Question string to parse\n    :return: Field name extracted from the question string\n    \"\"\"\n    # TODO: Implement this function!\n    return \"\"\n\n\ndef get_condition_value(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string to parse\n    :return: Condition value extracted from the","10394":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_MANU\": \"TEVA\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"PHARMACEUTICALS\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX","9419":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"<NAME>\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"USPFIZER\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME,","7879":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"05\/26\/21\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_TYPE\": \"COMBO\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: str\n    :return: list\n    \"\"\"\n\n    # TODO: Write code here to return the condition value of the question passed into the function.\n    if 'priviously' in question:\n        return ['COMBO']\n    elif 'on' in question:\n        return ['05\/26\/21']\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    This function generates","7068":"###[ How many patients are dignosed of chicken pox? ]\nAnswer:\n\n###[ How many patients are dignosed of dengue fever? ]\nAnswer:\n\n###[ How many patients are dignosed of measles? ]\nAnswer:\n\n###[ How many patients are dignosed of mumps? ]\nAnswer:\n\n###[ How many patients are dignosed of poliomyelitis? ]\nAnswer:\n\n###[ How many patients are dignosed of rubella? ]\nAnswer:\n\n###[ How many patients are dignosed of smallpox? ]\nAnswer:\n\n###[ How many patients are dignosed of tetanus? ]\nAnswer:\n\n###[ How many patients are dignosed of typhoid? ]\nAnswer:\n\n###[ How many patients are not dignosed of any disease? ]\nAnswer:\n\n###[ How many patients","7404":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"milk\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 20210305,\n                            \"lte\": 20210404,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                },\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n    # Given\n    user_input = \"\"\"\n    Prompt: ### Elasticsearch database with field names:\n    # RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_TH","2479":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"DIED\": \"Yes\"}},\n                {\"match\": {\"RECVDATE\": \"09\/15\/2021\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]","7441":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"meropenem\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 18,\n                            \"lte\": 90\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Show me all the patients who has a history of asthma. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HISTORY\": \"asthma\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range","3444":"###[ How many patients are there in California who have died after receiving a COVID-19 vaccine? ]\nAnswer:\n\n###[ Which state has the most number of deaths among all states?]\nAnswer:\n\n###[ Which state has the least number of deaths among all states?]\nAnswer:\n\n###[ Which state has the highest percentage of deaths among all states?]\nAnswer:\n\n###[ Which state has the lowest percentage of deaths among all states?]\nAnswer:\n\n###[ Which state has the highest average age among all states?]\nAnswer:\n\n###[ Which state has the lowest average age among all states?]\nAnswer:\n\n###[ Which state has the highest median age among all states?]\nAnswer:\n\n###[ Which state has the lowest median age among all states?]\nAnswer:\n\n###[ Which state has the highest minimum age among","2405":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"DIED\": \"04\/25\/2022\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERG","143":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"01\/31\/2022\"}}\n            ]\n        }\n    }\n}\n\n###[ Find all cases that are male. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"SEX\": \"Male\"}}\n            ]\n        }\n    }\n}\n\n###[ Find all cases that have died. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"DIED\": \"Yes\"}}\n            ]\n        }\n    }\n}\n\n###[ Find all cases that have received a flu vaccine. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"VAX_NAME\": \"Influenza,","10171":"###[ How many people has not got RAB? ]\nAnswer:\n\n###[ How many people has got Hepatitis B? ]\nAnswer:\n\n###[ How many people has not got Hepatitis B? ]\nAnswer:\n\n###[ How many people has got Dengue? ]\nAnswer:\n\n###[ How many people has not got Dengue? ]\nAnswer:\n\n###[ How many people has got Polio? ]\nAnswer:\n\n###[ How many people has not got Polio? ]\nAnswer:\n\n###[ How many people has got Measles? ]\nAnswer:\n\n###[ How many people has not got Measles? ]\nAnswer:\n\n###[ How many people has got Mumps? ]\nAnswer:\n\n###[ How many people has not got Mumps? ]\nAnswer:\n\n###[ How many people","9813":"###[ How many people are in the state of Washington who died after being vaccinated? ]\nAnswer:\n\n###[ What is the average age of all patients who received a Pfizer vaccine in the state of Washington?]\nAnswer:\n\n###[ What is the average age of all patients who received a Moderna vaccine in the state of Washington?]\nAnswer:\n\n###[ What is the average age of all patients who received an Oxford vaccine in the state of Washington?]\nAnswer:\n\n###[ What percentage of patients who received a Pfizer vaccine in the state of Washington died?]\nAnswer:\n\n###[ What percentage of patients who received a Moderna vaccine in the state of Washington died?]\nAnswer:\n\n###[ What percentage of patients who received an Oxford vaccine in the state of Washington died?","7726":"\"\"\"\nimport json\nfrom elasticsearch import Elasticsearch\n\n\ndef get_es():\n    es = Elasticsearch(\n        hosts=[{'host': 'localhost', 'port': 9200}],\n        http_auth=('elastic', '<PASSWORD>'),\n        scheme=\"https\",\n        retry_on_timeout=True,\n        max_retries=10\n    )\n\n    return es\n\n\ndef search_by_field_name(es):\n    # Search by field name\n    body = {\n        \"query\": {\n            \"match\": {\"FIELD_NAME\": \"CONDITION_VALUE\"}\n        }\n    }\n    res = es.search(index='clinical-notes', doc_type='_doc', body=body)\n    print(\"Got %d Hits:\" % res['hits']['total'])\n    for hit in res['hits']['hits']:\n        print(\"%(timestamp)s %(author)s: %(text)s\" % hit[\"_source\"])\n\n\nif __","3645":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"RECVDATE\": \"01\/01\/1949\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"STATE\": \"VA\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 25,\n                            \"lte\": 65\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[How many patients are there in the state of Virginia whose age range between 30 to 50 years old?]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"STATE\": \"VA\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"AGE","11999":"'''\n\ndef get_condition(question):\n    '''\n    This function takes in a question string and returns a list of conditions that are present in it.\n    '''\n\n    # Split the question into words using space delimiter\n    words = question.split()\n    \n    # Initialize an empty list to store the conditions\n    conditions = []\n    \n    # Iterate over each word in the question\n    for i in range(len(words)):\n        \n        # If the word starts with 'with' or 'without', add the next word as a condition\n        if words[i] == \"with\" or words[i] == \"without\":\n            conditions.append(words[i+1])\n            \n    return conditions\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    '''\n    This function generates an Elasticsearch query given a field name and its corresponding condition value.\n    '''\n    \n    # Define the base query\n    query = {\n        \"size\": 0,\n        \"_source\": [\"RECV","4342":"'''\n\ndef get_condition(field):\n    if field == 'RECVDATE':\n        return ['>=', '1\/1\/2020']\n    elif field == 'STATE':\n        return ['=', 'VA']\n    elif field == 'AGE_YRS':\n        return ['>', '65']\n    elif field == 'VAERS_ID':\n        return ['!=', '']\n    elif field == 'SEX':\n        return ['=', 'F']\n    elif field == 'SYMPTOM_TEXT':\n        return ['!=', '']\n    elif field == 'DIED':\n        return ['=','']\n    elif field == 'ER_VISIT':\n        return ['=','']\n    elif field == 'L_THREAT':\n        return ['=','']\n    elif field == 'HOSPITAL':\n        return ['=','']\n    elif field == 'HOSPDAYS':\n        return ['<', '30']\n    elif field ==","9745":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"03\/19\/2022\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_condition(question","4385":"'''\n\ndef get_condition(field):\n    if field == 'RECVDATE':\n        return ['>=', '2021-03-01']\n    elif field == 'STATE':\n        return ['=', 'VA']\n    elif field == 'AGE_YRS':\n        return ['>', '65']\n    elif field == 'VAERS_ID':\n        return ['!=', '']\n    elif field == 'SEX':\n        return ['=', 'F']\n    elif field == 'SYMPTOM_TEXT':\n        return ['!=', '']\n    elif field == 'DIED':\n        return ['=','']\n    elif field == 'ER_VISIT':\n        return ['=','']\n    elif field == 'L_THREAT':\n        return ['=','']\n    elif field == 'HOSPITAL':\n        return ['=','']\n    elif field == 'HOSPDAYS':\n        return ['=','']\n    elif field == '","773":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 89.0}}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_","1740":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Immune-mediated encephalitis\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1609459200,\n                            \"lte\": 1635788800\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB","12336":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Cellulitis\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1583296000,\n                            \"lte\": 1584728000\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: String containing the question to be parsed.\n    :return: Condition value of the question as a string.\n    \"\"\"\n\n    # TODO: Write your code here\n    if 'after' in question or","313":"###[ How many patients' record are received before 01\/29\/2022]\nAnswer:\n\n###[ How many patients' record are received after 01\/29\/2022]\nAnswer:\n\n###[ How many patients' record are received in California]\nAnswer:\n\n###[ How many patients' record are received in New York]\nAnswer:\n\n###[ How many patients' record are received in Texas]\nAnswer:\n\n###[ How many patients' record are received in Florida]\nAnswer:\n\n###[ How many patients' record are received in Georgia]\nAnswer:\n\n###[ How many patients' record are received in Pennsylvania]\nAnswer:\n\n###[ How many patients' record are received in Ohio]\nAnswer:\n\n###[ How many patients' record are received in Michigan]","2626":"###[ How many patients are still alive on 06\/07\/2021. ]\nAnswer:\n\n###[ What is the average age of all patients who died in hospital on 06\/07\/2021. ]\nAnswer:\n\n###[ What is the average age of all patients who are still alive in hospital on 06\/07\/2021. ]\nAnswer:\n\n###[ What is the total number of deaths that occurred in the United States on 06\/07\/2021. ]\nAnswer:\n\n###[ What is the total number of patients who have ever been hospitalized in the United States on 06\/07\/2021. ]\nAnswer:\n\n###[ What is the percentage of deaths among all patients who were hospitalized in the United States on 06\/07\/20","8590":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"TETANUS TOXOID\"\n          }\n        },\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"TD ADSORBED\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 1583296000,\n              \"lte\": 1584728000\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX","6065":"'''","7564":"###[ Find any cases where the vaccine recipients had a history of asthma. ]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a history of diabetes. ]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a history of epilepsy. ]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a history of heart disease. ]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a history of hypertension. ]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a history of lung cancer. ]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a history of obesity. ]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a history of stroke. ]\nAnswer:\n\n###[ Find any cases where the vaccine","10203":"{\n    \"query\": {\n        \"match\": {\n            \"VAX_MANU\": \"M\"\n        }\n    }\n}\n\n###[ Return all the cases where the vaccine recipient got Pfizer. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"VAX_MANU\": \"P\"\n        }\n    }\n}\n\n###[ Return all the cases where the vaccine recipient got J&J. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"VAX_MANU\": \"J\"\n        }\n    }\n}\n\n###[ Return all the cases where the vaccine recipient got Moderna. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"VAX_MANU\": \"M\"\n        }\n    }\n}\n\n###[ Return all the cases where the vaccine recipient got Oxford\/Astra","4733":"###[How many patients are there in each state?]\nAnswer:\n\n###[What is the average age of all patients who received at least one dose of Pfizer-BioNTech vaccine?]\nAnswer:\n\n###[What percentage of patients who received at least one dose of Pfizer-BioNTech vaccine died within 14 days after receiving their second dose?]\nAnswer:\n\n###[What percentage of patients who received at least two doses of Pfizer-BioNTech vaccine died within 14 days after receiving their second dose?]\nAnswer:\n\n###[What percentage of patients who received at least three doses of Pfizer-BioNTech vaccine died within 14 days after receiving their third dose?]\nAnswer:\n\n###[What percentage of patients who received at least four doses of Pfizer-Bio","7487":"'''\n\ndef get_condition(question):\n    '''\n    This function takes in a question string and returns the condition value of that question.\n    '''\n\n    # Split the question into words using whitespace as delimiter.\n    words = question.split()\n    \n    # Get the index of the word 'is'.\n    idx = words.index('is')\n    \n    # Return the next word after 'is' as the condition value.\n    return words[idx + 1]\n\n\ndef generate_query(field_name, condition_value):\n    '''\n    This function generates an Elasticsearch query given a field name and its corresponding condition value.\n    '''\n\n    # Define the base query.\n    query = {\n        \"size\": 0,\n        \"_source\": [\"*\"],\n        \"query\": {\n            \"bool\": {\n                \"must\": [],\n                \"filter\": []\n            }\n        },\n        \"aggs\": {}\n    }\n\n    # Add the match clause to the bool query.","10243":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"FLUX\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20200301,\n                            \"lte\": 20200430,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Return all the cases where the vaccine recipient got H1N1 or seasonal flu (seasonal influenza) in the last year. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"should\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\":","9524":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_MANU\": \"USSA2022SA078676\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_TYPE\": \"COMBO\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1593417600,\n                            \"lte\": 1635968000\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[How many patients were vaccinated against COVID-19 in California?]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"STATE\": \"CA\"\n                    }\n                },\n                {","10503":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_LOT\": \"L016284\"\n    }\n  }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[","12951":"###[ what are the top reasons people get sick with COVID-19?]\nAnswer:\n\n###[ how long does it take to heal from COVID-19?]\nAnswer:\n\n###[ what is the average length of stay in a hospital for COVID-19 patients?]\nAnswer:\n\n###[ what is the average number of days between admission and discharge for COVID-19 patients?]\nAnswer:\n\n###[ what is the average number of days between death and discharge for COVID-19 patients?]\nAnswer:\n\n###[ what is the average number of days between symptom onset and hospitalization for COVID-19 patients?]\nAnswer:\n\n###[ what is the average number of days between symptom onset and death for COVID-19 patients?]\nAnswer:\n\n###[ what is the average number of days between hospitalization and death for","5344":"{\n    \"query\": {\n        \"match\": {\n            \"SYMPTOM_TEXT\": \"aspirin\"\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### entify","12334":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Fall\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"COVID-19 mRNA (nucleoside modified) Vaccine Moderna COVID-19 Vaccine Janssen (JANSSEN-CILAG)\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 20210305,\n                            \"lte\": 20210405,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question","2156":"###[ what are the top 3 states that have the highest number of deaths among all states in the US]\nAnswer:\n\n###[ what are the top 5 states that have the highest number of deaths among all states in the US]\nAnswer:\n\n###[ what are the top 10 states that have the highest number of deaths among all states in the US]\nAnswer:\n\n###[ what are the top 20 states that have the highest number of deaths among all states in the US]\nAnswer:\n\n###[ what are the top 5 states that have the lowest number of deaths among all states in the US]\nAnswer:\n\n###[ what are the top 10 states that have the lowest number of deaths among all states in the US]\nAnswer:\n\n###[ what are the top 20 states that have the lowest number of deaths among all states in","4333":"{\n  \"query\": {\n    \"range\": {\n      \"RECVDATE\": {\n        \"gte\": \"2021-08-09\",\n        \"lte\": \"2022-08-09\"\n      }\n    }\n  },\n  \"size\": 10000\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string\n    :return: Condition value as a string or None if no condition was found\n    \"\"\"\n    # TODO: Implement this function!\n    return None\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    Generates an Elasticsearch query given a field name and its corresponding condition value\n\n    :param field_name: Field name (e.g., RACE)\n    :param condition_value: Condition value (e.g., WHITE)\n    :return: Dictionary containing","3771":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"RECVDATE\": \"06\/08\/2021\"\n          }\n        },\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"onset date of adverse event symptoms\"\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Given a list of questions and answers, generate an elasticsearch query\n    # that can be used to retrieve relevant documents.\n    #\n    # Input:\n    #   - List of questions (strings)\n    #   - List of answers (strings)\n    # Output:\n    #   - String containing valid JSON representing an elasticsearch query\n    #\n    # Example input:\n    #   - [\"What is the patient's age?\", \"What is the patient's sex?\"]\n    #   - [\"45\", \"","9519":"{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"USPFIZER INC\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_LOT\": \"2021449232\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Pfizer Inc?]\nAnswer:\n{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"Pfizer Inc\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Moderna Inc?]\nAnswer:\n{\n  \"size\": 0,","12297":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Immunophenotyping\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 20210305,\n                            \"lte\": 20210404\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\nq6 = \"\"\"\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE,","2512":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"DIED\": \"Yes\"}},\n                {\"match\": {\"RECVDATE\": \"09\/25\/2021\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]","7930":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"05-07-21\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_TYPE\": \"COMBO\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE","2223":"###[ what are the top 5 states that have the highest number of deaths among all states in the US]\nAnswer:\n\n###[ what are the top 10 states that have the highest number of hospitalizations among all states in the US]\nAnswer:\n\n###[ what are the top 3 states that have the highest number of hospital days among all states in the US]\nAnswer:\n\n###[ what are the top 5 states that have the highest number of cases among all states in the US]\nAnswer:\n\n###[ what are the top 5 states that have the lowest number of cases among all states in the US]\nAnswer:\n\n###[ what are the top 5 states that have the highest number of deaths among all states in the US]\nAnswer:\n\n###[ what are the top 5 states that have the lowest number of deaths among all states in the US]\nAnswer","7633":"###[ How many patients have died in the hospital? ]\nAnswer:\n\n###[ How many patients were admitted to a hospital? ]\nAnswer:\n\n###[ How many patients had an emergency room visit? ]\nAnswer:\n\n###[ How many patients received a vaccine in the last year? ]\nAnswer:\n\n###[ How many patients received at least one dose of a COVID-19 vaccine?]\nAnswer:\n\n###[ How many patients received two or more doses of a COVID-19 vaccine?]\nAnswer:\n\n###[ How many patients received a single dose of a COVID-19 vaccine?]\nAnswer:\n\n###[ How many patients received a Pfizer vaccine?]\nAnswer:\n\n###[ How many patients received a Moderna vaccine?]\nAnswer:\n\n###[ How many patients received a J&J v","12040":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"INFLUENZA (SEASONAL) (FLUZONE QUADRIVALENT)\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"INFLUENZA (SEASONAL) (FLUBLOK QUADRIVALENT)\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string to parse\n    :return: Condition value as a string or None if no condition was found\n    \"\"\"\n    # TODO: Implement this function!\n    return None  # Replace this line!\n\n\ndef generate_elasticsearch_query(field_name, condition_value=None):\n    \"\"\"\n    Generates an Elasticsearch query given a field name","2834":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"HOSPDAYS\": {\n                            \"gte\": 12.0,\n                            \"lte\": 12.0\n                        }\n                    }\n                },\n                {\n                    \"match_phrase\": {\n                        \"SYMPTOM_TEXT\": {\n                            \"query\": \"hospitalization\"\n                        }\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, V","5790":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"latanoprost\"\n          }\n        },\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"eyedrop\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 1583296000,\n              \"lte\": 1584728000\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[Is there any patients who was taking latanoprost liquid eyedrop in California?]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"latanoprost\"\n          }\n        },","3315":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"01\/28\/2022\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_TYPE\": \"JANSSEN\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string to parse\n    :return: Condition value extracted from the question string\n    \"\"\"\n    # TODO: Implement this function!\n    return None\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    Generates an Elasticsearch query given a field name and its corresponding condition value\n\n    :param field_name: Field name of interest\n    :param condition_value: Condition value associated with the field name\n    :return","8908":"###[How many records had ZOSTER and ZOSTER LIVE after 2018-09-30]\nAnswer:\n\n###[How many records had ZOSTER and ZOSTER LIVE between 2018-09-30 and 2018-10-30]\nAnswer:\n\n###[How many records had ZOSTER and ZOSTER LIVE on 2018-10-30]\nAnswer:\n\n###[How many records had ZOSTER and ZOSTER LIVE in California]\nAnswer:\n\n###[How many records had ZOSTER and ZOSTER LIVE in California and Florida]\nAnswer:\n\n###[How many records had ZOSTER and ZOSTER LIVE in California or Florida]\nAnswer:\n\n###[How many records had ZOSTER and ZOSTER","11728":"###[ What is the number of the cases where the vaccine recipient had PNEUMOVAX vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had COVISHIELD vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had NOVEL-LAW vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had CDC-CORONAVAC vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had MODERNA vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had JANSSEN vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had SPUTNIK vaccine. ]\nAnswer:","7922":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"RECVDATE\": \"08\/06\/2021\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"08\/06\/2021\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, V","4055":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"12\/11\/2021\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ]\n        }\n    },\n    \"_source\": [\"DIED\"]\n}\n\n###[ Find all the records where the patient was diagnosed with cancer in the state of Virginia. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"SYMPTOM_TEXT\": \"CANCER\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ]\n        }\n    },\n    \"_source\": [\"DIED\"]\n}\n\n###[ Find all the records where the patient died after being diagnosed with cancer in the state of Virginia. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\":","4418":"'''\n\ndef get_condition(field):\n    if field == 'RECVDATE':\n        return ['>=', '2021-08-31']\n    elif field == 'STATE':\n        return ['=', 'VA']\n    elif field == 'AGE_YRS':\n        return ['>', '65']\n    elif field == 'VAERS_ID':\n        return ['!=', '']\n    elif field == 'SEX':\n        return ['=', 'F']\n    elif field == 'SYMPTOM_TEXT':\n        return ['!=', '']\n    elif field == 'DIED':\n        return ['=','']\n    elif field == 'ER_VISIT':\n        return ['=','']\n    elif field == 'L_THREAT':\n        return ['=','']\n    elif field == 'HOSPITAL':\n        return ['=','']\n    elif field == 'HOSPDAYS':\n        return ['<', '90']\n    elif","2525":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"DIED\": \"Yes\"}},\n                {\"match\": {\"RECVDATE\": \"10\/01\/2021\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]","9597":"{\n    \"size\": 0,\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_MANU\": \"USJNJFOC20220110022\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": \"2022-01-15\",\n                            \"lte\": \"2022-01-15\"\n                        }\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[How many patients got a Pfizer vaccine in Jan 2022?]\nAnswer:\n{\n    \"size\": 0,\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"term\": {\n                        \"VAX_NAME\": \"Pfizer\"\n                    }\n                },\n                {","10063":"###[On 12\/15\/2021, what are the ages of all patients who died in hospital?]\nAnswer:\n\n###[On 12\/15\/2021, what are the symptoms reported by at least one patient who died in hospital?]\nAnswer:\n\n###[On 12\/15\/2021, what are the states where there were more than 300 deaths?]\nAnswer:\n\n###[On 12\/15\/2021, what are the states where there were more than 400 deaths?]\nAnswer:\n\n###[On 12\/15\/2021, what are the states where there were more than 600 deaths?]\nAnswer:\n\n###[On 12\/15\/2021,","2918":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"hospitalized\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"HOSPDAYS\": {\n                            \"gte\": 4.0,\n                            \"lte\": 4.0\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ List all the vaccine recipients who died in the United States. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"STATE\": \"United States\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"Y\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ List","10895":"###[ List all the records where they did not take their shot in fj1614. ]\nAnswer:\n\n###[ List all the records where they took their shot in fj1614 but did not die. ]\nAnswer:\n\n###[ List all the records where they took their shot in fj1614 but died. ]\nAnswer:\n\n###[ List all the records where they did not take their shot in fj1614 but died. ]\nAnswer:\n\n###[ List all the records where they did not take their shot in fj1614 but did not die. ]\nAnswer:\n\n###[ List all the records where they took their shot in fj1614 but did not die or died. ]\nAnswer:\n\n###[ List all the records where they did not take their shot in fj1614 but did","4423":"'''\n\ndef get_condition(field):\n    if field == 'RECVDATE':\n        return ['>=', '1\/1\/2020']\n    elif field == 'STATE':\n        return ['=', 'VA']\n    elif field == 'AGE_YRS':\n        return ['>', '65']\n    elif field == 'VAERS_ID':\n        return ['!=', '']\n    elif field == 'SEX':\n        return ['=', 'F']\n    elif field == 'SYMPTOM_TEXT':\n        return ['!=', '']\n    elif field == 'DIED':\n        return ['=','']\n    elif field == 'ER_VISIT':\n        return ['=','']\n    elif field == 'L_THREAT':\n        return ['=','']\n    elif field == 'HOSPITAL':\n        return ['=','']\n    elif field == 'HOSPDAYS':\n        return ['<', '329']\n    elif field","2382":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"DIED\": \"03\/16\/2021\"\n          }\n        }\n      ],\n      \"filter\": []\n    }\n  },\n  \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"","115":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"01\/19\/2022\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_condition(question","9712":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"02\/11\/2022\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_condition(question","4995":"###[ Find the number of cases that the vaccine recipients had tuberculosis test test in California. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had tuberculosis test test in California who died. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had tuberculosis test test in California who did not die. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had tuberculosis test test in California who were hospitalized. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had tuberculosis test test in California who were not hospitalized. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had tuberculosis test test in California who received a Pfizer vaccine. ]\nAnswer:\n\n###","9606":"{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"USPFIZER INC\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_LOT\": \"202101858584\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Pfizer Inc?]\nAnswer:\n{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"Pfizer Inc\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Moderna Inc?]\nAnswer:\n{\n  \"size\": 0","10352":"\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: str\n    :return: list\n    \"\"\"\n\n    # TODO: Write your code here to extract the condition value from the question string.\n    return []\n\n\ndef generate_query(field_name, condition_value):\n    \"\"\"\n    This function generates an Elasticsearch query given a field name and its corresponding condition value.\n    :param field_name: str\n    :param condition_value: str or int\n    :return: dict\n    \"\"\"\n\n    # TODO: Write your code here to generate an Elasticsearch query based on the input field name and condition value.\n    return {}\n\n\nif __name__ == '__main__':\n    print(\"Question:\", question)\n    print(\"Condition Value:\", get_condition(question))\n    print(\"Query:\", generate_query())","1127":"{\n    \"size\": 25,\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"AGE_YRS\": \"18.0\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ],\n            \"filter\": [{\"range\": {\"RECVDATE\": {\"gte\": \"2021-04-01\", \"lte\": \"2021-06-30\"}}}]\n        }\n    },\n    \"_source\": [\"RECVDATE\",\"STATE\",\"AGE_YRS\",\"VAERS_ID\",\"SEX\",\"SYMPTOM_TEXT\",\"DIED\",\"ER_VISIT\",\"L_THREAT\",\"HOSPITAL\",\"HOSPDAYS\",\"DISABLE\",\"VAX_DATE\",\"LAB_DATA\",\"OTHER_MEDS\",\"CUR_ILL\",\"HISTORY\",\"PRIOR_VAX\",\"TODAYS_DATE\",\"OFC_VISIT\",\"VAX_TYPE\",\"VAX_MANU\",\"V","3404":"###[ How many patients are there in California who have died after receiving a COVID-19 vaccine? ]\nAnswer:\n\n###[ Which state has the most number of deaths among all states?]\nAnswer:\n\n###[ Which state has the least number of deaths among all states?]\nAnswer:\n\n###[ Which state has the highest percentage of deaths among all states?]\nAnswer:\n\n###[ Which state has the lowest percentage of deaths among all states?]\nAnswer:\n\n###[ Which state has the highest average age among all states?]\nAnswer:\n\n###[ Which state has the lowest average age among all states?]\nAnswer:\n\n###[ Which state has the highest median age among all states?]\nAnswer:\n\n###[ Which state has the lowest median age among all states?]\nAnswer:\n\n###[ Which state has the highest minimum age among","10738":"{\n  \"query\": {\n    \"match\": {\n      \"VAERS_ID\": \"P100371939\"\n    }\n  },\n  \"size\": 25\n}\n\n###[ Find all the cases where the vaccine recipients got vaccinated in P100371939 and their symptoms were fever and headache. ]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAERS_ID\": \"P100371939\"\n          }\n        },\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"fever headache\"\n          }\n        }\n      ]\n    }\n  },\n  \"size\": 25\n}\n\n###[ Find all the cases where the vaccine recipients got vaccinated in P10037193","10524":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_LOT\": \"01082A\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_TYPE\": \"COMBO\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string to parse\n    :return: Condition value extracted from the question string\n    \"\"\"\n    # TODO: Implement this function!\n    return None\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    Generates an Elasticsearch query given a field name and its corresponding condition value\n\n    :param field_name: Field name of interest\n    :param condition_value: Condition value associated with the field name\n    :return: An Elasticsearch query that","9229":"###[ What is the number of records that the vaccine recipient did not get any vaccines. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient was hospitalized in a medical facility. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient died after getting the vaccine. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient had an emergency room visit. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient received a COVID-19 test result of \u201cpositive\u201d or \u201cnegative\u201d. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient has a history of cancer. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient has a history of heart disease. ]\nAnswer:\n\n###[ What is the","1817":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Atelectasis\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1609459200\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"STATE\": \"VA\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Give me all the patients who have Atelectasis before the vaccination. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Atelectasis\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"lte\": 160","9075":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"USPFIZER INC\"\n    }\n  },\n  \"size\": 5000\n}\n\n###[ Search for any cases where the vaccine recipient got a Pfizer-BioNTech vaccine. ]\nAnswer:\n{\n  \"query\": {\n    \"match\": {\n      \"VAX_NAME\": \"<NAME>\"\n    }\n  },\n  \"size\": 5000\n}\n\n###[ Search for any cases where the vaccine recipient got a Moderna vaccine. ]\nAnswer:\n{\n  \"query\": {\n    \"match\": {\n      \"VAX_NAME\": \"Moderna\"\n    }\n  },\n  \"size\": 5000\n}\n\n###[ Search for any cases where the vaccine recipient got a Janssen vaccine. ]\nAnswer:\n{\n  \"query\":","5052":"###[ Find the number of cases that the vaccine recipients had a flu shot. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a pneumonia diagnosis. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a respiratory diagnosis. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a heart attack diagnosis. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a stroke diagnosis. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a cancer diagnosis. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a kidney disease diagnosis. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a liver disease diagnosis. ]","12554":"###[ How many people have headache after vaccine? ]\nAnswer:\n\n###[ How many people have fever after vaccine? ]\nAnswer:\n\n###[ How many people have nausea after vaccine? ]\nAnswer:\n\n###[ How many people have diarrhea after vaccine? ]\nAnswer:\n\n###[ How many people have fatigue after vaccine? ]\nAnswer:\n\n###[ How many people have muscle pain after vaccine? ]\nAnswer:\n\n###[ How many people have conjunctivitis after vaccine? ]\nAnswer:\n\n###[ How many people have visual blurring after vaccine? ]\nAnswer:\n\n###[ How many people have itchy skin after vaccine? ]\nAnswer:\n\n###[ How many people have swelling of the face after vaccine? ]\nAnswer:\n\n###[ How many people have","11209":"###[What are the top 5 states that have the most deaths among all states]\nAnswer:\n\n###[What are the top 10 states that have the highest number of hospitalizations among all states]\nAnswer:\n\n###[What are the top 3 states that have the highest number of hospital days among all states]\nAnswer:\n\n###[What are the top 5 states that have the highest number of patients who died among all states]\nAnswer:\n\n###[What are the top 5 states that have the highest number of patients who received at least one dose of COVID-19 vaccines among all states]\nAnswer:\n\n###[What are the top 5 states that have the highest number of patients who received two or more doses of COVID-19 vaccines among all states]\nAnswer:\n\n###[What are the top 5 states that have the highest number","3277":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"06\/15\/2021\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME","10200":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"MENB\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Return all the cases where the vaccine recipient got Pfizer-BioNTech. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Pfizer-BioNTech\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"","3924":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"12\/23\/1921\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"1985-01-01\",\n                            \"lte\": \"2020-04-07T00:00:00Z\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Give me all the patients who were diagnosed with cancer in 1996. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM","10807":"###[ List all the records where they took their shot in 043 and are under 18 years of age.]\nAnswer:\n\n###[ List all the records where they took their shot in 043 and are over 65 years of age.]\nAnswer:\n\n###[ List all the records where they took their shot in 043 and have died.]\nAnswer:\n\n###[ List all the records where they took their shot in 043 and did not die.]\nAnswer:\n\n###[ List all the records where they took their shot in 043 and were vaccinated.]\nAnswer:\n\n###[ List all the records where they took their shot in 043 and were NOT vaccinated.]\nAnswer:\n\n###[ List all the records where they took their shot in 043 and had a flu shot (influenza).]\nAnswer","7815":"\"\"\"\nimport json\nfrom elasticsearch import Elasticsearch\n\n\ndef get_es():\n    es = Elasticsearch(\n        hosts=[{'host': 'localhost', 'port': 9200}],\n        http_auth=('elastic', '<PASSWORD>'),\n        scheme=\"https\",\n        retry_on_timeout=True,\n        max_retries=10\n    )\n\n    return es\n\n\ndef search_by_field_name(es):\n    # Search by field name\n    body = {\n        \"query\": {\n            \"match\": {\"FIELD_NAME\": \"CONDITION_VALUE\"}\n        }\n    }\n    res = es.search(index='clinical-notes', doc_type='_doc', body=body)\n    print(\"Got %d Hits:\" % res['hits']['total'])\n    for hit in res['hits']['hits']:\n        print(\"%(timestamp)s %(author)s: %(text)s\" % hit[\"_source\"])\n\n\nif __","3156":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"03\/22\/2022\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME","10578":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_NAME\": \"<NAME>\"\n          }\n        },\n        {\n          \"range\": {\n            \"VAX_DOSE_SERIES\": {\n              \"gte\": 345789600000,\n              \"lte\": 345789600000\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_parse_question():\n    assert parse_question(QUESTION) == EXPECTED_RESULT","10006":"###[On 11\/04\/2021, what are the ages of all patients who died in hospital?]\nAnswer:\n\n###[On 11\/04\/2021, what are the symptoms reported by at least one patient who died in hospital?]\nAnswer:\n\n###[On 11\/04\/2021, what are the states where there were more than 500 cases of COVID-19 reported?]\nAnswer:\n\n###[On 11\/04\/2021, what are the states where there were more than 300 deaths due to COVID-19 reported?]\nAnswer:\n\n###[On 11\/04\/2021, what are the top 5 most common causes of death?]\nAnswer:\n\n###[On 11\/","2824":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HOSPDAYS\": \"50\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALL","564":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"STATE\": \"OK\"}},\n                {\"match\": {\"DIED\": \"0\"}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef","1577":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Metabolic alkalosis\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1609459200,\n                            \"lte\": 1637814400\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER","8228":"###[How many patients were hospitalized between 3\/15\/20-4\/18\/20?]\nAnswer:\n\n###[What are the top 5 states in terms of number of deaths?]\nAnswer:\n\n###[What are the top 5 states in terms of number of hospitalizations?]\nAnswer:\n\n###[What are the top 5 states in terms of number of visits to an emergency room?]\nAnswer:\n\n###[What are the top 5 states in terms of number of visits to a hospital?]\nAnswer:\n\n###[What percentage of patients who died had COVID-19?]\nAnswer:\n\n###[What percentage of patients who received at least one vaccine do not have any allergies?]\nAnswer:\n\n###[What percentage of patients who received at least one vaccine do not smoke?]","10017":"###[On 03\/22\/2022, what are the ages of all patients who died in March 2022?]\nAnswer:\n\n###[On 03\/22\/2022, what are the symptoms reported by at least one patient who died in March 2022?]\nAnswer:\n\n###[On 03\/22\/2022, which hospital were these patients admitted to?]\nAnswer:\n\n###[On 03\/22\/2022, how long did it take for these patients to be admitted to their hospital?]\nAnswer:\n\n###[On 03\/22\/2022, what medications does each patient report being on at the time of their deaths?]\nAnswer:\n\n###[On 03\/22\/2","5355":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"vitamin b\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"vitamin c\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"vitamin d\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns a list of conditions that are present within it.\n\n    Parameters\n    ----------\n    question : str\n        Question to be parsed into conditions\n\n    Returns\n    -------\n    conditions : List[str]\n        List of conditions extracted from the question\n    \"\"\"\n    # TODO: Write your code here\n    return []\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    This function generates an","749":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 88}}}\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"","9860":"###[ How many people are in the state of Washington who died after being vaccinated? ]\nAnswer:\n\n###[ What is the average age of all patients who received a Pfizer vaccine in the state of Washington?]\nAnswer:\n\n###[ What is the average age of all patients who received a Moderna vaccine in the state of Washington?]\nAnswer:\n\n###[ What is the average age of all patients who received an Oxford vaccine in the state of Washington?]\nAnswer:\n\n###[ What percentage of patients who received a Pfizer vaccine in the state of Washington died?]\nAnswer:\n\n###[ What percentage of patients who received a Moderna vaccine in the state of Washington died?]\nAnswer:\n\n###[ What percentage of patients who received an Oxford vaccine in the state of Washington died?","8720":"###[ List all the recipients who took RUBELLA and MENINGOCOCCAL after Jan 1st, 2021]\nAnswer:\n\n###[ List all the recipients who took RUBELLA and MENINGOCOCCAL between Jan 1st, 2021 to Feb 15th, 2021]\nAnswer:\n\n###[ List all the recipients who took RUBELLA and MENINGOCOCCAL after Feb 15th, 2021]\nAnswer:\n\n###[ List all the recipients who took RUBELLA and MENINGOCOCCAL before Jan 1st, 2021]\nAnswer:\n\n###[ List all the recipients who took RUBELLA and MENINGOCOCCAL on Jan 1st, 2021]\nAnswer:\n\n###","7029":"###[ How many patients are dignosed of meningitis herpes in California? ]\nAnswer:\n\n###[ How many patients are dignosed of meningitis herpes in Texas? ]\nAnswer:\n\n###[ How many patients are dignosed of meningitis herpes in New York? ]\nAnswer:\n\n###[ How many patients are dignosed of meningitis herpes in Florida? ]\nAnswer:\n\n###[ How many patients are dignosed of meningitis herpes in Pennsylvania? ]\nAnswer:\n\n###[ How many patients are dignosed of meningitis herpes in Ohio? ]\nAnswer:\n\n###[ How many patients are dignosed of meningitis herpes in Georgia? ]\nAnswer:\n\n###[ How many patients are dignosed of meningitis herpes in Michigan? ]\nAnswer:\n\n###[","8857":"###[How many records had PNEUMONIA and MMR before]\nAnswer:\n\n###[How many records had CHOLERA and POLIO before]\nAnswer:\n\n###[How many records had DIPHTHERIA and TETANUS before]\nAnswer:\n\n###[How many records had HEPB and INFLUENZA before]\nAnswer:\n\n###[How many records had MEASLES and MUMPS before]\nAnswer:\n\n###[How many records had SMALLPOX and CHICKEN POX before]\nAnswer:\n\n###[How many records had GONORRHEA and HPV before]\nAnswer:\n\n###[How many records had AIDS and ALCOHOLISM before]\nAnswer:\n\n###[How many records had JUVENILE ARTHRITIS and LEPROSY before]\nAnswer:\n\n###[How","3160":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"09\/29\/1921\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME","7846":"\"\"\"\nimport json\nfrom elasticsearch import Elasticsearch\n\n\ndef get_es():\n    es = Elasticsearch(\n        hosts=[{'host': 'localhost', 'port': 9200}],\n        http_auth=('elastic', '<PASSWORD>'),\n        scheme=\"https\",\n        retry_on_timeout=True,\n        max_retries=10\n    )\n\n    return es\n\n\ndef search_by_field_name(es):\n    # Search by field name\n    body = {\n        \"query\": {\n            \"match\": {\"FIELD_NAME\": \"CONDITION_VALUE\"}\n        }\n    }\n    res = es.search(index='clinical-notes', doc_type='_doc', body=body)\n    print(\"Got %d Hits:\" % res['hits']['total'])\n    for hit in res['hits']['hits']:\n        print(\"%(timestamp)s %(author)s: %(text)s\" % hit[\"_source\"])\n\n\nif __","10292":"\"\"\"\nimport json\nfrom elasticsearch import Elasticsearch\n\n\ndef get_es():\n    es = Elasticsearch(\n        hosts=[{'host': 'localhost', 'port': 9200}],\n        http_auth=('elastic', '<PASSWORD>'),\n        scheme=\"https\",\n        retry_on_timeout=True,\n        max_retries=10\n    )\n\n    return es\n\n\ndef search_by_field_name(es):\n    # Search by field name\n    body = {\n        \"query\": {\n            \"match\": {\"STATE\": \"TX\"}\n        }\n    }\n    res = es.search(index='vaersdata', doc_type='_doc', body=body)\n    print(\"Got %d Hits:\" % res['hits']['total'])\n    for hit in res['hits']['hits']:\n        print(\"%(timestamp)s %(author)s: %(text)s\" % hit[\"_source\"])\n\n\ndef search_by_condition_","5144":"###[How many patients has a ct scan head before vaccination]\nAnswer:\n\n###[How many patients has a ct scan neck after vaccination]\nAnswer:\n\n###[How many patients has a ct scan neck before vaccination]\nAnswer:\n\n###[How many patients has a ct scan abdomen after vaccination]\nAnswer:\n\n###[How many patients has a ct scan abdomen before vaccination]\nAnswer:\n\n###[How many patients has a ct scan pelvis after vaccination]\nAnswer:\n\n###[How many patients has a ct scan pelvis before vaccination]\nAnswer:\n\n###[How many patients has a ct scan upper extremity after vaccination]\nAnswer:\n\n###[How many patients has a ct scan upper extremity before vaccination]\nAnswer:\n\n###[How many patients","12882":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Oesophageal Perforation\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"0\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 20210305,\n              \"lte\": 20210405,\n              \"format\": \"yyyyMMdd\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[ Is there any person have Diabetes mellitus after vaccine? ]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Diabetes Mellitus","10828":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAERS_ID\": \"0929089-09807\"\n          }\n        },\n        {\n          \"match\": {\n            \"TODAYS_DATE\": \"0929089-09807\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[ List all the records where they took their shot in 10\/31\/2020. ]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAERS_ID\": \"10\/31\/2020\"\n          }\n        },\n        {\n          \"match\": {\n            \"TODAYS_DATE\": \"10\/31\/2020\"\n          }\n        }\n      ]","3298":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"12\/23\/2020\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME","11460":"{\n    \"query\": {\n        \"match\": {\n            \"VAX_NAME\": \"INFLUENZA (SEASONAL) (FLUZONE QUADRIVALENT)\"\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for","7572":"###[ Find any cases where the vaccine recipients had a history of diabetes. ]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a history of asthma. ]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a history of heart disease. ]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a history of cancer. ]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a history of epilepsy. ]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a history of chronic lung disease. ]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a history of dementia. ]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a history of stroke. ]\nAnswer:\n\n###[ Find any cases where the v","11286":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"VAX_TYPE\": \"O\"}},\n                {\"match\": {\"VAX_TYPE\": \"R\"}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}","5169":"###[How many patients are there in each state]\nAnswer:\n\n###[What is the average age of all patients who received at least one dose of COVID-19 vaccine?]\nAnswer:\n\n###[What is the percentage of male\/female patients who received at least one dose of COVID-19 vaccine?]\nAnswer:\n\n###[What is the distribution of patient's age among different states?]\nAnswer:\n\n###[What is the distribution of patient's gender among different states?]\nAnswer:\n\n###[What is the distribution of hospitalization days among different states?]\nAnswer:\n\n###[What is the distribution of hospitalization days among different states?]\nAnswer:\n\n###[What is the distribution of hospitalization days among different states?]\nAnswer:\n\n###[What is the distribution of hospitalization days among different states?]\nAnswer:","3602":"###[How many patients were vaccinated before 01\/01\/2005?]\nAnswer:\n\n###[What percentage of patients in the US died after getting a COVID-19 vaccine?]\nAnswer:\n\n###[What is the average age of patients who received at least one dose of a COVID-19 vaccine?]\nAnswer:\n\n###[What is the average number of days between receiving their first and second doses of a COVID-19 vaccine?]\nAnswer:\n\n###[What is the average number of days between receiving their first and all subsequent doses of a COVID-19 vaccine?]\nAnswer:\n\n###[What is the average number of days between receiving their second and third doses of a COVID-19 vaccine?]\nAnswer:\n\n###[What is the average number of days between receiving their second and all subsequent","12969":"###[ what are the top 3 states that have the highest number of deaths due to COVID-19?]\nAnswer:\n\n###[ how many people in California died from COVID-19?]\nAnswer:\n\n###[ what is the average age of a person who died from COVID-19?]\nAnswer:\n\n###[ what is the percentage of people who died from COVID-19 in California?]\nAnswer:\n\n###[ what is the average hospital days of a person who died from COVID-19?]\nAnswer:\n\n###[ what is the average length of stay (days) of a person who died from COVID-19?]\nAnswer:\n\n###[ what is the average number of days between receiving the vaccine and dying from COVID-19?]\nAnswer:\n\n###[ what is the average number of days between being admitted","948":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"age_yrs\": {\"gte\": 0,\"lte\": 0}}},\n                {\"match\": {\"vax_type\": \"JANSSEN\"}},\n                {\"match\": {\"sex\": \"F\"}}\n            ],\n            \"filter\": [{\"term\": {\"vaers_id\": \"23456789\"}}]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT","11315":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"STATE\": \"AR\"}},\n                {\"match\": {\"STATE\": \"LA\"}}\n            ],\n            \"filter\": [\n                {\"range\": {\"VAX_DATE\": {\"gte\": \"2021-01-01\", \"lte\": \"2021-12-31\"}}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\",\"STATE\",\"AGE_YRS\",\"VAERS_ID\",\"SEX\",\"SYMPTOM_TEXT\",\"DIED\",\"ER_VISIT\",\"L_THREAT\",\"HOSPITAL\",\"HOSPDAYS\",\"DISABLE\",\"VAX_DATE\",\"LAB_DATA\",\"OTHER_MEDS\",\"CUR_ILL\",\"HISTORY\",\"PRIOR_VAX\",\"TODAYS_DATE\",\"OFC_VISIT\",\"VAX_TYPE\",\"VAX_MANU\",\"VAX_LOT\",\"VAX_DO","9038":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"USPFIZER INC\"\n    }\n  },\n  \"size\": 10000\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field","2952":"###[ What is the number of records that the vaccine recipient died within 12 months after receiving the vaccine. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient received a Pfizer vaccine in the last 30 days. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient has had at least one allergy to eggs within the past year. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient has had an asthma attack within the past year. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient has been diagnosed with cancer within the past year. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient has been diagnosed with dementia within the past year. ]\nAnswer:\n\n###[ What","7503":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"honeydew\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"honeydew\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20210305,\n                            \"lte\": 20210405,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Find any cases where the vaccine recipients had a history of diabetes mellitus. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HISTORY\": \"diabetes mellitus\"","1098":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 29.0}}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\n###[ List all patients","12560":"###[ How many people have Ear irrigation after vaccine? ]\n\n###[ How many people have Ear irrigation after vaccine? ]\n\n###[ How many people have Ear irrigation after vaccine? ]\n\n###[ How many people have Ear irrigation after vaccine? ]\n\n###[ How many people have Ear irrigation after vaccine? ]\n\n###[ How many people have Ear irrigation after vaccine? ]\n\n###[ How many people have Ear irrigation after vaccine? ]\n\n###[ How many people have Ear irrigation after vaccine? ]\n\n###[ How many people have Ear irrigation after vaccine? ]\n\n###[ How many people have Ear irrigation after vaccine? ]\n\n###[ How many people have Ear irrigation after vaccine? ]\n\n###","1195":"{\n    \"size\": 10000,\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"AGE_YRS\": \"70\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ],\n            \"filter\": [{\"range\": {\"RECVDATE\": {\"gte\": \"2021-04-01\", \"lte\": \"2021-05-31\"}}}]\n        }\n    },\n    \"_source\": [\"DIED\"]\n}\n\n###[How many patients died in the state of Virginia between April 1st, 2021 to May 31st, 2021]\nAnswer:\n{\n    \"size\": 10000,\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"STATE\": \"VA\"}},\n                {\"match\": {\"DIED\": \"","8664":"###[ List all the patients who died in hospital after receiving a Pfizer vaccine. ]\nAnswer:\n\n###[ List all the patients who have had at least one of these conditions: Diabetes, Heart Disease, Chronic Kidney Disease, Asthma, Obesity, Cancer, Alzheimers, Epilepsy, Depression, Suicide]\nAnswer:\n\n###[ List all the patients who are 65 years old or older and have been diagnosed with cancer. ]\nAnswer:\n\n###[ List all the patients who were admitted to the emergency department between January 1st, 2020 and March 31st, 2020.]\nAnswer:\n\n###[ List all the patients who received a COVID-19 vaccine within the last 7 days. ]\nAnswer:\n\n###[ List all the","2564":"###[ How many patients are still alive on 07\/15\/2021. ]\nAnswer:\n\n###[ What percentage of patients died in the hospital on 07\/15\/2021. ]\nAnswer:\n\n###[ What percentage of patients died outside the hospital on 07\/15\/2021. ]\nAnswer:\n\n###[ What is the average age of all patients who passed away on 07\/15\/2021. ]\nAnswer:\n\n###[ What is the average age of all patients who are still alive on 07\/15\/2021. ]\nAnswer:\n\n###[ What is the average number of days a patient has been in the hospital before passing away on 07\/15\/2021. ]\nAnswer:\n\n###[ What is the average number of days","4546":"###[ What is the number of cases where the interval from the vaccination date to the onset date is less than or equal to 14.0 days? ]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is greater than 365.0 days? ]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is between 7.0 and 9.0 days? ]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is between 14.0 and 28.0 days? ]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is between 365.0 and 366","2836":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HOSPDAYS\": \"52\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"FALSE\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALL","3033":"###[How many patients had a history of heart attack in the past year?]\nAnswer:\n\n###[What percentage of all deaths among those who received at least one vaccine dose?]\nAnswer:\n\n###[What percentage of all deaths among those who received at least two doses of any vaccine?]\nAnswer:\n\n###[What percentage of all deaths among those who received at least three doses of any vaccine?]\nAnswer:\n\n###[What percentage of all deaths among those who received at least four doses of any vaccine?]\nAnswer:\n\n###[What percentage of all deaths among those who received at least five or more doses of any vaccine?]\nAnswer:\n\n###[What percentage of all deaths among those who received at least six doses of any vaccine?]\nAnswer:\n\n###[What percentage of all deaths among","5010":"###[ Find the number of cases that the vaccine recipients had a maternal ultrasound examination. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a maternal cervix screening. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a maternal pelvic examination. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a maternal perineum screening. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a maternal breech view. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a maternal cerclage examination. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a maternal uterine contraction examination. ]","92":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"RECVDATE\": \"01\/17\/2022\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES","3560":"###[How many patients were hospitalized in a day before receiving the second dose of Pfizer-BioNTech vaccine?]\nAnswer:\n\n###[What are the top 5 states that have the most number of deaths among all patients who received at least one dose of Pfizer-BioNTech vaccine?]\nAnswer:\n\n###[What are the top 5 states that have the highest number of hospitalization days among all patients who received at least two dose of Pfizer-BioNTech vaccine?]\nAnswer:\n\n###[What are the top 5 states that have the highest number of hospitalization days among all patients who received at least three dose of Pfizer-BioNTech vaccine?]\nAnswer:\n\n###[What are the top 5 states that have the highest number of hospitalization days among all patients who received at least four dose of Pf","9696":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"01\/14\/2021\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_condition(question","6342":"###[ How many vaccine recipients have died after receiving their second dose of a Pfizer-BioNTech vaccine? ]\nAnswer:\n\n###[ How many vaccine recipients have died after receiving their second dose of a Moderna vaccine? ]\nAnswer:\n\n###[ How many vaccine recipients have died after receiving their second dose of a Janssen vaccine? ]\nAnswer:\n\n###[ How many vaccine recipients have been hospitalized after receiving their second dose of a Pfizer-BioNTech vaccine? ]\nAnswer:\n\n###[ How many vaccine recipients have been hospitalized after receiving their second dose of a Moderna vaccine? ]\nAnswer:\n\n###[ How many vaccine recipients have been hospitalized after receiving their second dose of a Janssen vaccine? ]\nAnswer:\n\n###[ How many vaccine recipients have had an allergy","3296":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"11\/18\/2019\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME","3113":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"08\/12\/2020\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME","9475":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"<NAME>\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_LOT\": \"INC2021504356\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SER","4050":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"01\/23\/2020\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\n###[ Find all the records where the","8626":"'''\n\ndef get_condition(question):\n    '''\n    This function takes in a question string and returns the condition value of that question.\n    For example, if the input is \"What is the condition value for this field?\"\n    Then it will return the answer to the question as a list.\n    '''\n\n    # Split the question into words\n    split = question.split()\n    \n    # Get the index of the word 'value'\n    idx = split.index('value')\n    \n    # Get the index of the word 'for'\n    idx2 = split.index('for')\n    \n    # Get the condition value by slicing the list starting at the index after 'for', ending at the end of the list\n    cond_val = split[(idx+1):]\n    \n    # Convert the condition value list to a string\n    cond_val = ''.join([str(elem) for elem in cond_val])\n    \n    # Remove the comma at the end of the string\n    cond_","4397":"'''\n\ndef get_condition(field):\n    if field == 'RECVDATE':\n        return ['2021-03-08', '2021-04-07']\n    elif field == 'STATE':\n        return ['VA']\n    elif field == 'AGE_YRS':\n        return ['>60','<60']\n    elif field == 'VAERS_ID':\n        return ['191000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","1361":"{\n    \"query\": {\n        \"match\": {\n            \"CLINICAL_NOTES.cage_year\": \"17.0\"\n        }\n    }\n}\n\n###[ Return all records whose vaccine manufacturer is Moderna]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"CLINICAL_NOTES.vaccine_manufacturer\": \"Moderna\"\n        }\n    }\n}\n\n###[ Return all records whose vaccine manufacturer is Pfizer]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"CLINICAL_NOTES.vaccine_manufacturer\": \"Pfizer\"\n        }\n    }\n}\n\n###[ Return all records whose vaccine manufacturer is J&J]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"CLINICAL_NOTES.vaccine_manufacturer\": \"J&J\"\n        }\n    }\n}","4473":"'''\n\ndef get_condition(field):\n    if field == 'RECVDATE':\n        return ['>=', '1\/1\/2020']\n    elif field == 'STATE':\n        return ['=', 'VA']\n    elif field == 'AGE_YRS':\n        return ['>', '65']\n    elif field == 'VAERS_ID':\n        return ['!=', '']\n    elif field == 'SEX':\n        return ['=', 'F']\n    elif field == 'SYMPTOM_TEXT':\n        return ['!=', '']\n    elif field == 'DIED':\n        return ['=','']\n    elif field == 'ER_VISIT':\n        return ['=','']\n    elif field == 'L_THREAT':\n        return ['=','']\n    elif field == 'HOSPITAL':\n        return ['=','']\n    elif field == 'HOSPDAYS':\n        return ['<', '90']\n    elif field ==","7542":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"allergic\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"jackfruit\"\n                    }\n                }\n            ],\n            \"filter\": {\n                \"range\": {\n                    \"RECVDATE\": {\n                        \"gte\": 20190101,\n                        \"lte\": 20191231\n                    }\n                }\n            }\n        }\n    }\n}\n\n###[ Find any cases where the vaccine recipients had a history of diabetes. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HISTORY\": \"diabetes\"\n                    }\n                }\n            ],\n            \"filter\": {\n                \"range\": {\n                    \"RECVDATE\": {","6408":"###[ What is the number of vaccine recipients that died after receiving the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that were hospitalized after receiving the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that received a vaccination prior to the current one?]\nAnswer:\n\n###[ What is the number of vaccine recipients that have allergies to medications prescribed by VA?]\nAnswer:\n\n###[ What is the number of vaccine recipients that are currently sick or in critical condition?]\nAnswer:\n\n###[ What is the number of vaccine recipients who have ever been hospitalized before?]\nAnswer:\n\n###[ What is the number of vaccine recipients who have ever been diagnosed with cancer?]\nAnswer:\n\n###[ What is the number of vaccine recipients who have ever been diagno","6804":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"liver\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"1\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 0,\n                            \"lte\": 25\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Search all the patients who have died in hospital. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HOSPITAL\": \"1\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"1\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"AGE_","7248":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"z-pac\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"z-pac\"\n                    }\n                }\n            ],\n            \"filter\": {\n                \"range\": {\n                    \"RECVDATE\": {\n                        \"gte\": 1609459200,\n                        \"lte\": 1635673600\n                    }\n                }\n            }\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Given a list of questions and answers, generate an elasticsearch query\n    questions = [\"What is the patient's age?\",\n                 \"What is the patient's gender?\",\n                 \"What is the patient's state?\"]\n    answers = [\"40\",\n               \"male\",\n               \"VA\"]\n\n    expected_","10664":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"065K21A\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_LOT\": \"MVU12\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef get_field_name():\n    \"\"\"\n    Prompt: ### Elasticsearch database with field names:\n    # RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX","12431":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Hepatic vascular disorder\"\n          }\n        },\n        {\n          \"range\": {\n            \"VAX_DATE\": {\n              \"gte\": 1609459200000,\n              \"lte\": 1637814400000\n            }\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"term\": {\n            \"DIED\": false\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Given a list of questions and answers, generate an elasticsearch query\n    # that can be used to retrieve relevant documents.\n    #\n    # Input:\n    #   - List of questions (strings)\n    #   - List of answers (strings)","6860":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"chiari malformation\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"1\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20200301,\n                            \"lte\": 20200401\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n    \"\"\"Test generate_elasticsearch_query function.\"\"\"\n\n    # Test case 1\n    assert (\n        generate_elasticsearch_query(\n            \"### Prompt:\\n\"\n            \"# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER","3557":"###[How many patients were hospitalized in a day before receiving the second dose of Pfizer-BioNTech vaccine?]\nAnswer:\n\n###[What are the top 5 states that have the most number of deaths among all patients who received at least one dose of Pfizer-BioNTech vaccine?]\nAnswer:\n\n###[What are the top 10 cities that have the highest number of deaths among all patients who received at least two dose of Pfizer-BioNTech vaccine?]\nAnswer:\n\n###[What are the top 3 symptoms that cause the most deaths among all patients who received at least three doses of Pfizer-BioNTech vaccine?]\nAnswer:\n\n###[What are the top 5 states that have the most number of deaths among all patients who received at least four doses of Pfizer-Bio","7313":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"per\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"1\"\n                    }\n                }\n            ],\n            \"filter\": {\n                \"range\": {\n                    \"RECVDATE\": {\n                        \"gte\": 20200301,\n                        \"lte\": 20200401\n                    }\n                }\n            }\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY,","1794":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"SYMPTOM_TEXT\": \"Pyelonephritis acute\"}},\n                {\"range\": {\"VAX_DATE\": {\"gte\": \"2021-03-05\"}}}\n            ],\n            \"filter\": [{\"term\": {\"DIED\": \"N\"}}]\n        }\n    },\n    \"_source\": [\"VAERS_ID\", \"STATE\", \"AGE_YRS\"]\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OF","11355":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"STATE\": \"AR\"}},\n                {\"match\": {\"STATE\": \"MO\"}}\n            ],\n            \"filter\": [\n                {\"range\": {\"VAX_DATE\": {\"gte\": 20180101}}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\",","11289":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"VAX_MANU\": \"Oxford\/AstraZeneca\"}},\n                {\"match\": {\"VAX_MANU\": \"Sinovac\"}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"V","12345":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Eye inflammation\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_NAME\": \"Moderna COVID-19 mRNA Vaccine (MVX)\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"TODAYS_DATE\": {\n              \"gte\": 20210305,\n              \"lte\": 20210405,\n              \"format\": \"yyyyMMdd\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: str\n    :return: list\n    \"\"\"\n\n    # TODO: Write your code here to extract","7113":"###[ Which is the most common respiratory disorder for patients.]\nAnswer:\n\n###[ Which is the most common cardiovascular disease for patients.]\nAnswer:\n\n###[ Which is the most common cancer diagnosis among patients]\nAnswer:\n\n###[ Which is the most common neurological disorder among patients]\nAnswer:\n\n###[ Which is the most common gastrointestinal disorder among patients]\nAnswer:\n\n###[ Which is the most common musculoskeletal disorder among patients]\nAnswer:\n\n###[ Which is the most common infectious disease among patients]\nAnswer:\n\n###[ Which is the most common trauma among patients]\nAnswer:\n\n###[ Which is the most common pregnancy complication among patients]\nAnswer:\n\n###[ Which is the most common death among patients]\nAnswer:\n\n###[","4260":"{\n  \"query\": {\n    \"range\" : {\n      \"RECVDATE\" : {\n        \"gte\":\"2021-08-31\",\n        \"lte\":\"2021-09-05\",\n        \"format\":\"yyyy-MM-dd||epoch_millis\"\n      }\n    }\n  },\n  \"_source\":[\"STATE\",\"AGE_YRS\",\"VAERS_ID\",\"SEX\",\"SYMPTOM_TEXT\",\"DIED\",\"ER_VISIT\",\"L_THREAT\",\"HOSPITAL\",\"HOSPDAYS\",\"DISABLE\",\"VAX_DATE\",\"LAB_DATA\",\"OTHER_MEDS\",\"CUR_ILL\",\"HISTORY\",\"PRIOR_VAX\",\"TODAYS_DATE\",\"OFC_VISIT\",\"VAX_TYPE\",\"VAX_MANU\",\"VAX_LOT\",\"VAX_DOSE_SERIES\",\"VAX_NAME\",\"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_condition","5599":"###[ Find the number of cases where the vaccine recipients had xiosil at the time of vaccination. ]\n\n###[ Find the number of cases where the vaccine recipients had xiosil at the time of vaccination. ]\n\n###[ Find the number of cases where the vaccine recipients had xiosil at the time of vaccination. ]\n\n###[ Find the number of cases where the vaccine recipients had xiosil at the time of vaccination. ]\n\n###[ Find the number of cases where the vaccine recipients had xiosil at the time of vaccination. ]\n\n###[ Find the number of cases where the vaccine recipients had xiosil at the time of vaccination. ]\n\n###[ Find the number of cases where the vaccine recipients had xiosil at the time of vaccination. ]\n\n###[ Find the number of cases where the v","11578":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"POLIO VIRUS, INACT. (NO BRAND NAME)\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"0\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": \"2019-12-31\",\n              \"lte\": \"2020-01-01\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: String containing the question to be parsed.\n    :return: Condition value of the question as a string.\n    \"\"\"\n\n    # Split the question","8994":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"USPFIZER INC\"\n    }\n  },\n  \"size\": 10000\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field","6773":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"chronic uti\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n    \"\"\"Test generate_elasticsearch_query function.\"\"\"\n\n    # Test case 1\n    input_question = \"What is the patient's age?\"\n    expected_output = {\n        'query': {'bool': {'must': [{'match': {'AGE_YRS': '","7918":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"4\/19\/2021\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_TYPE\": \"COMBO\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: str\n    :return: list\n    \"\"\"\n\n    # TODO: Write your code here to extract the condition value from the question string.\n    return ['']\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    This function generates an Elasticsearch query given a field name and its corresponding condition value.\n    :param field_name: str\n    :param condition_value: str or int","5231":"{\n    \"query\": {\n        \"match\": {\n            \"VAX_MANU\": \"PUB\"\n        }\n    }\n}\n\n###[ Find all the records where the vaccine adminiered facility code is PUB or DXY.]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"should\": [\n                {\"match\": {\"VAX_MANU\": \"PUB\"}},\n                {\"match\": {\"VAX_MANU\": \"DXY\"}}\n            ]\n        }\n    }\n}\n\n###[ Find all the records where the vaccine administered date is between 2021-03-05 to 2021-04-05]\nAnswer:\n{\n    \"query\": {\n        \"range\": {\n            \"VAX_DATE\": {\n                \"gte\": \"2021-03-05\",\n                \"lte\": \"2021-","10215":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"RV1\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20200301,\n                            \"lte\": 20200401,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Return all the cases where the vaccine recipient got Pfizer-BioNTech. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"Pfizer-BioNTech\"\n                    }\n                },\n                {","11901":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"VAX_NAME\": \"POLIO VIRUS, INACTIVATED (NO BRAND NAME)\"}}\n            ],\n            \"filter\": [{\"match\": {\"VAX_NAME\": \"HPV (GARDASIL)\"}}],\n        }\n    },\n    \"_source\": [\"VAERS_ID\", \"STATE\", \"AGE_YRS\"],\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Given a list of conditions and fields, generate an elasticsearch query\n    conditions = [\n        Condition(field=\"VAX_NAME\", value=[\"POLIO VIRUS, INACTIVATED (NO BRAND NAME)\"]),\n        Condition(field=\"VAX_NAME\", value=[\"HPV (GARDASIL)\"]),\n    ]\n    fields = [\"VAERS_ID\", \"STATE\", \"AGE_YRS\"]\n    expected_result = {","8371":"###[ List all records that took a Pfizer or Moderna vaccine. ]\nAnswer:\n\n###[ List all records that took a Janssen vaccine. ]\nAnswer:\n\n###[ List all records that were diagnosed with COVID-19. ]\nAnswer:\n\n###[ List all records that are 65 years of age or older. ]\nAnswer:\n\n###[ List all records that have died in hospital. ]\nAnswer:\n\n###[ List all records that had an emergency room visit within the past 30 days. ]\nAnswer:\n\n###[ List all records that have been disabilitied. ]\nAnswer:\n\n###[ List all records that have received at least one dose of a COVID-19 vaccine. ]\nAnswer:\n\n###[ List all records that have not received any doses of a COVID-19 vaccine. ]","842":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 67.0}}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_","12540":"###[ How many people have Diabetes after vaccine? ]\nAnswer:\n\n###[ How many people have Hypertension after vaccine? ]\nAnswer:\n\n###[ How many people have Pneumonia after vaccine? ]\nAnswer:\n\n###[ How many people have Chronic Kidney Disease after vaccine? ]\nAnswer:\n\n###[ How many people have Obesity after vaccine? ]\nAnswer:\n\n###[ How many people have Cancer after vaccine? ]\nAnswer:\n\n###[ How many people have Asthma after vaccine? ]\nAnswer:\n\n###[ How many people have COPD after vaccine? ]\nAnswer:\n\n###[ How many people have Immunodeficiency after vaccine? ]\nAnswer:\n\n###[ How many people have Migraine after vaccine? ]\nAnswer:\n\n###[","9552":"{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"<NAME>\"\n          }\n        },\n        {\n          \"range\": {\n            \"VAX_DATE\": {\n              \"gte\": \"2022-01-01\",\n              \"lte\": \"2022-03-31\"\n            }\n          }\n        }\n      ],\n      \"filter\": []\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Pfizer Inc in Jan 2022?]\nAnswer:\n{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"Pfizer Inc\"\n          }\n        },\n        {\n          \"range\": {\n            \"VAX","4653":"###[How many patients are there in each state?]\nAnswer:\n\n###[What is the average age of all patients who received at least one dose of Pfizer-BioNTech vaccine?]\nAnswer:\n\n###[What percentage of patients who received at least one dose of Pfizer-BioNTech vaccine died within 14 days after receiving their second dose?]\nAnswer:\n\n###[What percentage of patients who received at least two doses of Pfizer-BioNTech vaccine died within 14 days after receiving their second dose?]\nAnswer:\n\n###[What percentage of patients who received at least three doses of Pfizer-BioNTech vaccine died within 14 days after receiving their third dose?]\nAnswer:\n\n###[What percentage of patients who received at least four doses of Pfizer-Bio","2426":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"DIED\": \"Yes\"}},\n                {\"match\": {\"RECVDATE\": \"09\/23\/2021\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]","9987":"###[On 03\/15\/2022, how many people are still alive?]\nAnswer:\n\n###[On 04\/07\/2022, how many people died?]\nAnswer:\n\n###[On 06\/08\/2022, what was the highest number of days a person has lived in hospital?]\nAnswer:\n\n###[On 06\/08\/2022, what was the lowest number of days a person has lived in hospital?]\nAnswer:\n\n###[On 06\/08\/2022, what was the average number of days a person has lived in hospital?]\nAnswer:\n\n###[On 06\/08\/2022, what was the median number of days a person has lived in hospital?]\nAnswer:","4539":"###[ What is the number of cases where the interval from the vaccination date to the onset date is less than or equal to 1825.0 days? ]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is greater than 1825.0 days? ]\nAnswer:\n\n###[ What is the average interval between the vaccination date and the onset date in days?]\nAnswer:\n\n###[ What is the median interval between the vaccination date and the onset date in days?]\nAnswer:\n\n###[ What is the maximum interval between the vaccination date and the onset date in days?]\nAnswer:\n\n###[ What is the minimum interval between the vaccination date and the onset date in days?]\nAnswer:\n\n###[ What is the standard deviation of","9361":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"<NAME>\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"USPFIZER\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME,","2518":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"DIED\": \"Yes\"}},\n                {\"match\": {\"RECVDATE\": \"03\/11\/2022\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]","5630":"###[ How many patients was taking amoxicillin? ]\nAnswer:\n\n###[ How many patients was taking azithromycin? ]\nAnswer:\n\n###[ How many patients was taking ceftriaxone? ]\nAnswer:\n\n###[ How many patients was taking clarithromycin? ]\nAnswer:\n\n###[ How many patients was taking clindamycin? ]\nAnswer:\n\n###[ How many patients was taking daptomycin? ]\nAnswer:\n\n###[ How many patients was taking erythromycin? ]\nAnswer:\n\n###[ How many patients was taking ethambutol? ]\nAnswer:\n\n###[ How many patients was taking fosfomycin? ]\nAnswer:\n\n###[ How many patients was taking gentamicin? ]\nAnswer:\n\n###[ How many patients was taking","1509":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"RECVDATE\": \"03\/16\/2022\"\n          }\n        },\n        {\n          \"match\": {\n            \"STATE\": \"VA\"\n          }\n        },\n        {\n          \"match\": {\n            \"AGE_YRS\": \"57\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAERS_ID\": \"1984000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","8048":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"12\/20\/2013\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_TYPE\": \"COMBO\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ List all the records who was vaccinated on 12\/20\/2013 and has died in hospital. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"12\/20\/2013\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"Y\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"HOSPITAL\": \"Y\"","2792":"###[How many patients were hospitalized on 10\/24\/2021]\nAnswer:\n\n###[What was the average age of all patients who received a COVID vaccine in the United States on 10\/24\/2021?]\nAnswer:\n\n###[What percentage of patients 65 years old or older have died after receiving a COVID vaccine in the United States on 10\/24\/2021?]\nAnswer:\n\n###[What percentage of patients 65 years old or older have been hospitalized after receiving a COVID vaccine in the United States on 10\/24\/2021?]\nAnswer:\n\n###[What are the top 3 states by number of deaths amongst those 65 years old or older who received a COVID vaccine in the United States on 10\/24\/2","7543":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"hives\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"hives\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 1583296000000,\n                            \"lte\": 1584728000000,\n                            \"format\": \"epoch_millis\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Find any cases where the vaccine recipients had a history of diabetes. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HISTORY\": \"diabetes\"","330":"###[ How many patients' record are received before 04\/10\/2022]\nAnswer:\n\n###[ How many patients' record are received after 04\/10\/2022]\nAnswer:\n\n###[ How many patients' record are received in California]\nAnswer:\n\n###[ How many patients' record are received in New York]\nAnswer:\n\n###[ How many patients' record are received in Texas]\nAnswer:\n\n###[ How many patients' record are received in Florida]\nAnswer:\n\n###[ How many patients' record are received in Georgia]\nAnswer:\n\n###[ How many patients' record are received in Pennsylvania]\nAnswer:\n\n###[ How many patients' record are received in Ohio]\nAnswer:\n\n###[ How many patients' record are received in Michigan]","7064":"###[ What is the average age of a patient who has been diagnosed of back pain?]\nAnswer:\n\n###[ What is the state that has the highest number of patients who have been diagnosed of back pain?]\nAnswer:\n\n###[ What is the sex of the patient who has been diagnosed of back pain?]\nAnswer:\n\n###[ What is the symptom text of the patient who has been diagnosed of back pain?]\nAnswer:\n\n###[ What is the date of receipt of the vaccine for the patient who has been diagnosed of back pain?]\nAnswer:\n\n###[ What is the date of receipt of the vaccine for the patient who has been diagnosed of back pain?]\nAnswer:\n\n###[ What is the hospitalization status of the patient who has been diagnosed of back pain?]\nAnswer:\n\n###[ What","7480":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"oxycodone\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"morphine\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Find any cases where the vaccine recipients had a history of having an allergy to oxycodone codeine morphine. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HISTORY\": \"oxyco","7782":"\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value\n\n    Parameters\n    ----------\n    question : str\n        Question string\n\n    Returns\n    -------\n    condition : str\n        Condition value\n    \"\"\"\n    # TODO: Write your code here\n    if \"What\" in question:\n        return question.split(\"is\")[1].strip()\n    else:\n        return None\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    This function generates an Elasticsearch query given a field name and its corresponding condition value\n\n    Parameters\n    ----------\n    field_name : str\n        Field name\n    condition_value : str\n        Condition value\n\n    Returns\n    -------\n    elasticsearch_query : dict\n        Dictionary containing the Elasticsearch query\n    \"\"\"\n    # TODO: Write your code here\n    if field_name == 'RECVDATE':\n        return {\n            \"range\": {\n                \"data.recvdate\": {\n                    \"gte\": \"20","5371":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"prolia\"\n          }\n        },\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"coq10\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 2020-03-01T00:00:00Z,\n              \"lte\": 2020-05-31T00:00:00Z\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Given a list of conditions\n    conditions = [\"prolia\", \"coq10\"]\n\n    # When I generate an elasticsearch query\n    es_query = generate_elasticsearch_","11362":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"STATE\": \"AR\"}},\n                {\"match\": {\"STATE\": \"NS\"}}\n            ],\n            \"filter\": [\n                {\"range\": {\"VAX_DATE\": {\"gte\": \"2021-01-01\", \"lte\": \"2021-12-31\"}}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\",\"STATE\",\"AGE_YRS\",\"VAERS_ID\",\"SEX\",\"SYMPTOM_TEXT\",\"DIED\",\"ER_VISIT\",\"L_THREAT\",\"HOSPITAL\",\"HOSPDAYS\",\"DISABLE\",\"VAX_DATE\",\"LAB_DATA\",\"OTHER_MEDS\",\"CUR_ILL\",\"HISTORY\",\"PRIOR_VAX\",\"TODAYS_DATE\",\"OFC_VISIT\",\"VAX_TYPE\",\"VAX_MANU\",\"VAX_LOT\",\"VAX_DO","8032":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"04-14-21\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"STATE\": \"VA\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ List all the records who was vaccinated on 4\/14\/21 in VA state. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"04-14-21\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"STATE\": \"VA\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ List all the records who was vaccinated on 4\/14","4500":"###[ What is the number of cases where the interval from the vaccination date to the onset date is less than or equal to 365.0 days? ]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is greater than 365.0 days but less than or equal to 730.0 days?]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is greater than 730.0 days but less than or equal to 1825.0 days?]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is greater than 1825.0 days but less than or equal to 3650.0 days?]\nAnswer:","7621":"###[ How many patients have died in the past year? ]\nAnswer:\n\n###[ How many patients were hospitalized in the past 12 months? ]\nAnswer:\n\n###[ How many patients received a flu vaccine in the past 12 months? ]\nAnswer:\n\n###[ How many patients received a Pfizer vaccine in the past 12 months? ]\nAnswer:\n\n###[ How many patients received a moderna vaccine in the past 12 months? ]\nAnswer:\n\n###[ How many patients received a janssen vaccine in the past 12 months? ]\nAnswer:\n\n###[ How many patients received a sinovac vaccine in the past 12 months? ]\nAnswer:\n\n###[ How many patients received a covaxin vaccine in the past 12 months? ]\nAnswer:\n\n###[ How many","12172":"###[ How many people received VACCINE NOT SPECIFIED (NO BRAND NAME) vaccine and PFIZER-BIONTECH (PFB) vaccine. ]\nAnswer:\n\n###[ How many people received VACCINE NOT SPECIFIED (NO BRAND NAME) vaccine and MODERNA (MODERNA) vaccine. ]\nAnswer:\n\n###[ How many people received VACCINE NOT SPECIFIED (NO BRAND NAME) vaccine and JANSSEN (JANSSEN-CILAG) vaccine. ]\nAnswer:\n\n###[ How many people received VACCINE NOT SPECIFIED (NO BRAND NAME) vaccine and OXFORD\/ASTRAZENECA (OXFORD\/ASTRAZENECA) vaccine. ]\nAnswer:\n\n###[ How many people received VACCINE NOT SPECIFIED (NO BRAND NAME) v","12689":"###[ List all records that were given a Pfizer vaccine in 2018]\nAnswer:\n\n###[ List all records that have died within 30 days of receiving an influenza vaccine. ]\nAnswer:\n\n###[ List all records that are older than 65 years old who received a Janssen vaccine. ]\nAnswer:\n\n###[ List all records that have ever been hospitalized for heart conditions. ]\nAnswer:\n\n###[ List all records that have ever been hospitalized for cancer. ]\nAnswer:\n\n###[ List all records that have ever been hospitalized for stroke. ]\nAnswer:\n\n###[ List all records that have ever been hospitalized for dementia. ]\nAnswer:\n\n###[ List all records that have ever been hospitalized for Alzheimer's disease. ]\nAnswer:\n\n###[ List all records that have ever","2061":"###[ How many patients are taking a course of chemotherapy after vaccination? ]\nAnswer:\n\n###[ How many patients are taking an antiviral drug after vaccination? ]\nAnswer:\n\n###[ How many patients are taking a course of immunotherapy after vaccination? ]\nAnswer:\n\n###[ How many patients are taking a course of cancer treatment after vaccination? ]\nAnswer:\n\n###[ How many patients are taking a course of radiotherapy after vaccination? ]\nAnswer:\n\n###[ How many patients are taking a course of surgery after vaccination? ]\nAnswer:\n\n###[ How many patients are taking a course of hormone therapy after vaccination? ]\nAnswer:\n\n###[ How many patients are taking a course of targeted therapy (chemotherapy, immunotherapy or other) after vaccination","2131":"###[ How many patients have Urine protein\/creatinine ratio abnormal after vaccination? ]\nAnswer:\n\n###[ How many patients have Urine protein\/creatinine ratio not available after vaccination? ]\nAnswer:\n\n###[ How many patients have Urine protein\/creatinine ratio unknown after vaccination? ]\nAnswer:\n\n###[ How many patients have Urine protein\/creatinine ratio normal before vaccination? ]\nAnswer:\n\n###[ How many patients have Urine protein\/creatinine ratio abnormal before vaccination? ]\nAnswer:\n\n###[ How many patients have Urine protein\/creatinine ratio not available before vaccination? ]\nAnswer:\n\n###[ How many patients have Urine protein\/creatinine ratio unknown before vaccination? ]\nAnswer:\n\n###[ How many patients have","9869":"###[ How many people are in the state of Washington who died after being vaccinated?]\nAnswer:\n\n###[ What is the average age of all patients who received a Pfizer vaccine in the state of Washington?]\nAnswer:\n\n###[ What is the average age of all patients who received a Moderna vaccine in the state of Washington?]\nAnswer:\n\n###[ What is the average age of all patients who received an Oxford vaccine in the state of Washington?]\nAnswer:\n\n###[ What percentage of patients who received a Pfizer vaccine in the state of Washington died?]\nAnswer:\n\n###[ What percentage of patients who received a Moderna vaccine in the state of Washington died?]\nAnswer:\n\n###[ What percentage of patients who received an Oxford vaccine in the state of Washington died?","542":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"STATE\": \"AZ\"}},\n            ],\n        }\n    },\n}\n\n###[ Give me all the patients who has died in hospital. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"term\": {\"DIED\": True}},\n            ],\n        }\n    },\n}\n\n###[ Give me all the patients who has not been vaccinated. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"term\": {\"PRIOR_VAX\": False}},\n            ],\n        }\n    },\n}\n\n###[ Give me all the patients who has received at least one dose of Pfizer-BioNTech vaccine. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"term","2320":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"DIED\": \"Yes\"}},\n                {\"range\": {\"RECVDATE\": {\"gte\": \"2022-01-08\", \"lte\": \"2022-01-08\"}}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\",\"AGE_YRS\",\"VAERS_ID\",\"SEX\",\"SYMPTOM_TEXT\",\"DIED\",\"ER_VISIT\",\"L_THREAT\",\"HOSPITAL\",\"HOSPDAYS\",\"DISABLE\",\"VAX_DATE\",\"LAB_DATA\",\"OTHER_MEDS\",\"CUR_ILL\",\"HISTORY\",\"PRIOR_VAX\",\"TODAYS_DATE\",\"OFC_VISIT\",\"VAX_TYPE\",\"VAX_MANU\",\"VAX_LOT\",\"VAX_DOSE_SERIES\",\"VAX_NAME\",\"ALLERGIES\"]\n}\n\"\"\"","6076":"###[ List all the patients who have died in hospital. ]\nAnswer:\n\n###[ List all the patients who were vaccinated against COVID-19. ]\nAnswer:\n\n###[ List all the patients who received a flu vaccine. ]\nAnswer:\n\n###[ List all the patients who had contact with an infected patient before getting vaccinated.]\nAnswer:\n\n###[ List all the patients who had contact with an infected patient after getting vaccinated.]\nAnswer:\n\n###[ List all the patients who had contact with an infected patient before and after getting vaccinated.]\nAnswer:\n\n###[ List all the patients who had contact with an infected patient before and after getting vaccinated but did not die or recover.]\nAnswer:\n\n###[ List all the patients who had contact with an infected patient before and after getting vaccinated and died or recovered","4478":"###[ What is the number of cases where the interval from the vaccination date to the onset date is less than or equal to 365.0 days? ]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is greater than 365.0 days? ]\nAnswer:\n\n###[ What is the average interval between the vaccination date and the onset date in days?]\nAnswer:\n\n###[ What is the median interval between the vaccination date and the onset date in days?]\nAnswer:\n\n###[ What is the maximum interval between the vaccination date and the onset date in days?]\nAnswer:\n\n###[ What is the minimum interval between the vaccination date and the onset date in days?]\nAnswer:\n\n###[ What is the standard deviation of the interval","6856":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"squamous cell carcinoma\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"1\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 0,\n                            \"lte\": 25\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n    \"\"\"Test generate_elasticsearch_query function.\"\"\"\n\n    # Test case 1\n    assert (\n        generate_elasticsearch_query(\n            \"RECVDATE\", [\"squamous cell carcinoma\"], {\"DIED\": \"1\"}, {\"AGE_YRS\": (0, 25)}\n        )\n        == expected_output_case_1\n    )","10986":"###[How many of these people are male?]\nAnswer:\n\n###[How many of these people are female?]\nAnswer:\n\n###[What is the average age of these people?]\nAnswer:\n\n###[What is the minimum age of these people?]\nAnswer:\n\n###[What is the maximum age of these people?]\nAnswer:\n\n###[What is the standard deviation of the ages of these people?]\nAnswer:\n\n###[What is the median age of these people?]\nAnswer:\n\n###[What is the mode age of these people?]\nAnswer:\n\n###[What is the range (max-min) of the ages of these people?]\nAnswer:\n\n###[What is the 25th percentile of the ages of these people?]\nAnswer:\n\n###[What is the 75th percentile","6921":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"SMOKING\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"Y\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Find all the cases where the vaccine recipient reported to have a heart attack in the past year. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"HEART ATTACK\"\n                    }\n                },\n                {\n                    \"match\": {","12545":"###[ How many people have Crohn's disease after vaccine? ]\nAnswer:\n\n###[ How many people have Gout after vaccine? ]\nAnswer:\n\n###[ How many people have Heart Disease after vaccine? ]\nAnswer:\n\n###[ How many people have Hypertension after vaccine? ]\nAnswer:\n\n###[ How many people have Ischemic heart disease after vaccine? ]\nAnswer:\n\n###[ How many people have Stroke after vaccine? ]\nAnswer:\n\n###[ How many people have Type 1 Diabetes after vaccine? ]\nAnswer:\n\n###[ How many people have Type 2 Diabetes after vaccine? ]\nAnswer:\n\n###[ How many people have Ulcerative Colitis after vaccine? ]\nAnswer:\n\n###[ How many people have Chronic Kidney Disease after vaccine","1010":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"age_yrs\": {\"gte\": 11, \"lte\": 11}}},\n                {\"match\": {\"vax_type\": \"Moderna\"}},\n                {\"match\": {\"sex\": \"F\"}}\n            ],\n            \"filter\": [{\"term\": {\"state\": \"VA\"}}]\n        }\n    },\n    \"_source\": [\"vaers_id\", \"recvdate\"]\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Given a list of conditions\n    conditions = [\n        Condition(field=\"age_yrs\", operator=Operator.GREATER_THAN_OR_EQUALS, value=\"11\"),\n        Condition(field=\"age_yrs\", operator=Operator.LESS_THAN_OR_EQUALS, value=\"11\"),\n        Condition(field=\"vax_type\", operator=Operator.EQUALS, value=\"","466":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"STATE\": \"ME\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"","3386":"###[ How many patients are there in California who have died after receiving a COVID-19 vaccine? ]\nAnswer:\n\n###[ Which state has the most number of deaths among all states?]\nAnswer:\n\n###[ Which state has the least number of deaths among all states?]\nAnswer:\n\n###[ Which state has the highest percentage of deaths among all states?]\nAnswer:\n\n###[ Which state has the lowest percentage of deaths among all states?]\nAnswer:\n\n###[ Which state has the highest average age among all states?]\nAnswer:\n\n###[ Which state has the lowest average age among all states?]\nAnswer:\n\n###[ Which state has the highest median age among all states?]\nAnswer:\n\n###[ Which state has the lowest median age among all states?]\nAnswer:\n\n###[ Which state has the highest minimum age among","1204":"{\n    \"size\": 10000,\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"AGE_YRS\": \"47.0\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ],\n            \"filter\": [{\"range\": {\"RECVDATE\": {\"gte\": \"2021-03-01\", \"lte\": \"2021-05-31\"}}}]\n        }\n    },\n    \"_source\": [\"RECVDATE\",\"STATE\",\"AGE_YRS\",\"VAERS_ID\",\"SEX\",\"SYMPTOM_TEXT\",\"DIED\",\"ER_VISIT\",\"L_THREAT\",\"HOSPITAL\",\"HOSPDAYS\",\"DISABLE\",\"VAX_DATE\",\"LAB_DATA\",\"OTHER_MEDS\",\"CUR_ILL\",\"HISTORY\",\"PRIOR_VAX\",\"TODAYS_DATE\",\"OFC_VISIT\",\"VAX_TYPE\",\"VAX_MAN","3695":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"11\/04\/1921\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"FALSE\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": \"1985-01-01\",\n              \"lte\": \"2016-12-31\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n    \"\"\"Test generate_elasticsearch_query function.\"\"\"\n\n    # Test case 1\n    assert (\n        generate_elasticsearch_query(\n            \"What are the patients who died in hospital?\",\n            \"died\",\n            \"FALSE\",\n            1985,","10013":"###[On 12\/21\/2021, what are the ages of all patients who died in hospital?]\nAnswer:\n\n###[On 12\/21\/2021, what are the symptoms reported by at least one patient who died in hospital?]\nAnswer:\n\n###[On 12\/21\/2021, what are the states where there were more than 500 deaths?]\nAnswer:\n\n###[On 12\/21\/2021, which state had the most number of deaths?]\nAnswer:\n\n###[On 12\/21\/2021, what was the average age of those who died in hospitals?]\nAnswer:\n\n###[On 12\/21\/2021, what was the average length of","10679":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"STATE\": \"VA\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"ER06207\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 1583945600000,\n                            \"lte\": 1584550400000,\n                            \"format\": \"epoch_millis\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n    \"\"\"Test generate_elasticsearch_query function.\"\"\"\n\n    # Test case 1\n    assert (\n        generate_elasticsearch_query(\n            \"RECVDATE\",\n            [\"VA\"],\n            \"SYMPTOM_TEXT\",","1676":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"peripheral artery stent\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1609459200,\n                            \"lte\": 1635788800\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA,","4436":"'''\n\ndef get_condition(field):\n    if field == 'RECVDATE':\n        return ['2021-04-05', '2021-04-07']\n    elif field == 'STATE':\n        return ['VA']\n    elif field == 'AGE_YRS':\n        return ['>18']\n    elif field == 'VAERS_ID':\n        return ['1910000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","7523":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"allergy\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"grape juice\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Find any cases where the vaccine recipients had a history of diabetes. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HISTORY\": \"diabetes\"\n                    }\n                }\n            ],\n            \"","2036":"###[ How many patients have Hepatitis B after vaccination? ]\nAnswer:\n\n###[ How many patients have Pneumonia after vaccination? ]\nAnswer:\n\n###[ How many patients have Influenza after vaccination? ]\nAnswer:\n\n###[ How many patients have Meningitis after vaccination? ]\nAnswer:\n\n###[ How many patients have Tuberculosis after vaccination? ]\nAnswer:\n\n###[ How many patients have Malaria after vaccination? ]\nAnswer:\n\n###[ How many patients have Chicken pox after vaccination? ]\nAnswer:\n\n###[ How many patients have Dengue Fever after vaccination? ]\nAnswer:\n\n###[ How many patients have Japanese Encephalitis after vaccination? ]\nAnswer:\n\n###[ How many patients have Kidney D","3010":"###[How many patients were hospitalized for more than 35 days?]\nAnswer:\n\n###[How many patients were hospitalized in a nursing home?]\nAnswer:\n\n###[How many patients had an allergy to Penicillin G?]\nAnswer:\n\n###[How many patients received at least one of these vaccines? Pfizer-BioNTech (Pfizer\/BioNTech), Moderna, Oxford\/AstraZeneca (Oxford\/AZ)]\nAnswer:\n\n###[How many patients have died after receiving any of these vaccines? Pfizer-BioNTech (Pfizer\/BioNTech), Moderna, Oxford\/AstraZeneca (Oxford\/AZ)]\nAnswer:\n\n###[How many patients are still alive today who did not receive any of these vaccines? Pfizer-Bio","7049":"###[ How many patients have died in the United States?]\nAnswer:\n\n###[ How many patients have been hospitalized in the United States?]\nAnswer:\n\n###[ How many patients have had a vaccine administered to them?]\nAnswer:\n\n###[ How many patients have received at least one dose of a COVID-19 vaccine?]\nAnswer:\n\n###[ How many patients have not received any doses of a COVID-19 vaccine?]\nAnswer:\n\n###[ How many patients have been diagnosed with COVID-19?]\nAnswer:\n\n###[ How many patients have been diagnosed with pneumonia?]\nAnswer:\n\n###[ How many patients have been diagnosed with influenza?]\nAnswer:\n\n###[ How many patients have been diagnosed with measles?]\nAnswer:\n\n###","7780":"\"\"\"\n\n\ndef get_answer(question):\n    \"\"\"\n    This function takes a question as input and returns the answer to it.\n\n    :param question: Question string entered by user\n    :return: Answer to the question\n    \"\"\"\n    # TODO: Write your code here\n    return \"Answer:\"\n\n\nif __name__ == \"__main__\":\n    print(\"Question:\", question)\n    print(\"Answer:\", get_answer(question))","3526":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"RECVDATE\": \"10\/31\/2011\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"10\/31\/2011\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[How many patients were vaccinated before 10\/31\/2011?]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"VAX_DATE\": {\n                            \"lte\": \"10\/31\/2011\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[How many patients are still in hospital after receiving their second dose of Pfizer?]\nAnswer:","760":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 91}}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_condition(","9557":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_MANU\": \"USJNJFOC20220432907\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1650816000,\n                            \"lte\": 1650816000\n                        }\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[How many patients got vaccine manufactured by Pfizer-BioNTech?]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_MANU\": \"Pfizer-BioNTech\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE","3918":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"02\/09\/2021\"\n                        }\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"02\/09\/2021\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU","3170":"{\n    \"query\": {\n        \"match\": {\n            \"VAX_DATE\": \"10\/06\/2011\"\n        }\n    }\n}\n\n###[Give me all the patients who received a Pfizer vaccine in January 2020]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"term\": {\n                        \"VAX_DATE\": \"01\/2020\"\n                    }\n                },\n                {\n                    \"term\": {\n                        \"VAX_NAME\": \"Pfizer-BioNTech\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[Give me all the patients who have died after receiving a jab (any type) within the last year.]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"DIED","10595":"{\n    \"query\": {\n        \"match\": {\n            \"VAX_NAME\": \"FK9694\"\n        }\n    }\n}\n\nPrompt: ###[Give me all the patients who are 18 years old or older]\n### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### entify the filed name first, then extract the specific condition values from the question for this field. Generate the Elasticsearch query based on the filed name and condition value.\nClinical Notes: ###[Give me all the patients who are 18 years old or older]\nAnswer:\n{\n    \"query\": {\n        \"range\": {\n            \"AGE_YRS\": {\n                \"gte\": 18\n            }\n        }\n    }\n}\n\nPrompt: ###[Give me all the patients who have died in hospital.]\n###","1628":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Therapy change\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20210305,\n                            \"lte\": 20210405\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_","3749":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"RECVDATE\": \"12\/16\/2021\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"onset date of adverse event symptoms\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, V","9013":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"US0095075132203\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_MANU\": \"US010686\"\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Given a list of fields and conditions\n    fields = [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\",\n              \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\",\n              \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\",\n              \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\",\n              \"HISTORY","5139":"###[How many patients has a triglycerides before vaccination]\nAnswer:\n\n###[How many patients has a cholesterol after vaccination]\nAnswer:\n\n###[How many patients has a cholesterol before vaccination]\nAnswer:\n\n###[How many patients has a blood pressure after vaccination]\nAnswer:\n\n###[How many patients has a blood pressure before vaccination]\nAnswer:\n\n###[How many patients has a heart rate after vaccination]\nAnswer:\n\n###[How many patients has a heart rate before vaccination]\nAnswer:\n\n###[How many patients has a respiratory rate after vaccination]\nAnswer:\n\n###[How many patients has a respiratory rate before vaccination]\nAnswer:\n\n###[How many patients has a temperature after vaccination]\nAnswer:","3563":"###[How many patients were vaccinated before 09\/12\/2016?]\nAnswer:\n\n###[What are the top 5 states in terms of number of deaths?]\nAnswer:\n\n###[What are the top 3 states in terms of number of hospitalization days?]\nAnswer:\n\n###[What are the top 3 states in terms of number of hospitalizations?]\nAnswer:\n\n###[What are the top 3 states in terms of number of visits to outpatient clinic?]\nAnswer:\n\n###[What are the top 3 states in terms of number of visits to emergency room?]\nAnswer:\n\n###[What are the top 3 states in terms of number of adverse events?]\nAnswer:\n\n###[What are the top 3 states in terms of number of allergies reported by patients?]","9132":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"US0095075132204\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_MANU\": \"US006498\"\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Test 1\n    assert generate_elasticsearch_query(\n        \"RECVDATE\", [\"2021-01-01\"], [], []) == \"\"\"\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE","4419":"'''\n\ndef get_condition(field):\n    if field == 'RECVDATE':\n        return ['2021-03-05']\n    elif field == 'STATE':\n        return ['VA', 'DC']\n    elif field == 'AGE_YRS':\n        return ['40','60']\n    elif field == 'VAERS_ID':\n        return []\n    elif field == 'SEX':\n        return ['F']\n    elif field == 'SYMPTOM_TEXT':\n        return []\n    elif field == 'DIED':\n        return ['Y']\n    elif field == 'ER_VISIT':\n        return ['Y']\n    elif field == 'L_THREAT':\n        return ['Y']\n    elif field == 'HOSPITAL':\n        return ['Y']\n    elif field == 'HOSPDAYS':\n        return ['108']\n    elif field == 'DISABLE':\n        return ['Y']\n    elif field == 'VAX","9412":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"USJNJFOC20220110175\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\",","4689":"###[How many patients are there in each state?]\nAnswer:\n\n###[What is the average age of all patients who received at least one dose of Pfizer-BioNTech vaccine?]\nAnswer:\n\n###[What percentage of patients who received at least one dose of Pfizer-BioNTech vaccine died within 90 days after receiving their second dose?]\nAnswer:\n\n###[What percentage of patients who received at least two doses of Pfizer-BioNTech vaccine died within 90 days after receiving their second dose?]\nAnswer:\n\n###[What percentage of patients who received at least three doses of Pfizer-BioNTech vaccine died within 90 days after receiving their third dose?]\nAnswer:\n\n###[What percentage of patients who received at least four doses of Pfizer-Bio","10058":"###[On 01\/16\/2022, what are the ages of all patients who died in hospital?]\nAnswer:\n\n###[On 01\/16\/2022, what are the symptoms reported by at least one patient who died in hospital?]\nAnswer:\n\n###[On 01\/16\/2022, what is the average age of those who died in hospital?]\nAnswer:\n\n###[On 01\/16\/2022, what is the average number of days a patient has spent in hospital before being discharged?]\nAnswer:\n\n###[On 01\/16\/2022, what is the average number of days a patient has spent in hospital after being admitted?]\nAnswer:\n\n###[On 01\/16\/202","9382":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"<NAME>\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"2021-01-06\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from the question string\n\n    :param question: Question string\n    :return: Condition value as a list of strings\n    \"\"\"\n    # TODO: Write your code here\n    return []\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    Generates an Elasticsearch query given the field name and its corresponding condition value\n\n    :param field_name: Field name in the Elasticsearch index\n    :param condition_value: Condition value to be matched against the field\n    :return: Elasticsearch query as a dictionary","536":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"STATE\": \"PA\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Give me all the patients who has died in hospital. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"term\": {\n                        \"DIED\": true\n                    }\n                },\n                {\n                    \"exists\": {\n                        \"field\": \"HOSPITAL\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Give me all the patients who has not been vaccinated. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"term\": {\n                        \"CUR_ILL\": false\n                    }\n                },\n                {\n                    \"term\": {\n                        \"PRIOR_VAX\": false\n                    }\n                }","8077":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"03\/09\/2021\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"STATE\": \"VA\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: String containing the question to be parsed.\n    :return: Condition value of the question as a string.\n    \"\"\"\n\n    # Split the question into words using whitespace as delimiter.\n    split = question.split()\n\n    # Find the index of the word 'is'.\n    idx = split.index('is')\n\n    # Return everything after the word 'is' as the condition value.\n    return''.join(split[(idx +","9214":"###[ What is the number of records that the vaccine recipient did not get any vaccines. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient was hospitalized in a medical facility. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient died after getting the vaccine. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient had an emergency room visit. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient received a COVID-19 test result of \u201cpositive\u201d or \u201cnegative\u201d. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient has a history of cancer. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient has a history of heart disease. ]\nAnswer:\n\n###[ What is the","7833":"\"\"\"\n\n\ndef get_answer(question):\n    \"\"\"\n    This function takes a question as input and returns the answer to it.\n\n    :param question: Question string entered by user\n    :return: Answer to the question\n    \"\"\"\n    # TODO: Write your code here\n    return \"Answer:\"\n\n\nif __name__ == \"__main__\":\n    print(\"Question:\", question)\n    print(\"Answer:\", get_answer(question))","738":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 80.0}}}\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"","8261":"###[How many patients were hospitalized between 02\/13\/2021 to 02\/28\/2021?]\nAnswer:\n\n###[What are the top 5 states in terms of number of deaths?]\nAnswer:\n\n###[What are the top 5 states in terms of number of hospitalizations?]\nAnswer:\n\n###[What are the top 5 states in terms of number of visits to an emergency room?]\nAnswer:\n\n###[What are the top 5 states in terms of number of visits to a hospital?]\nAnswer:\n\n###[What are the top 5 states in terms of number of visits to a doctor?]\nAnswer:\n\n###[What are the top 5 states in terms of number of visits to a clinic?]\nAnswer:\n\n###[What are the top","8438":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"SYMPTOM_TEXT\": \"IPV\"}},\n                {\"range\": {\"RECVDATE\": {\"gte\": \"2021-03-01\", \"lte\": \"2021-04-01\"}}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\"]\n}\n\n###[ Find all records who got COVID-19 infection before. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"SYMPTOM_TEXT\": \"COVID-19\"}},\n                {\"range\": {\"RECVDATE\": {\"gte\": \"2021-03-01\", \"lte\": \"2021-04-01\"}}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\"]\n}\n\n###[","8226":"###[How many patients were hospitalized between March 15th to 18th?]\nAnswer:\n\n###[What was the average number of days spent in the hospital before receiving their vaccine?]\nAnswer:\n\n###[What percentage of patients who received the vaccine died within 7 days of being vaccinated?]\nAnswer:\n\n###[What percentage of patients who received the vaccine died after more than 7 days of being vaccinated?]\nAnswer:\n\n###[What percentage of patients who received the vaccine survived at least 14 days?]\nAnswer:\n\n###[What percentage of patients who received the vaccine did not die or survive past 14 days?]\nAnswer:\n\n###[What is the most common age group among patients who received the vaccine?]\nAnswer:\n\n###[What is the distribution of gender among patients","8479":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"MENINGOCOCCAL CONJUGATE\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"TETANUS TOXOID\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 1583296000,\n                            \"lte\": 1584728000\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS","2612":"###[ What are the top 5 states that have the most deaths in the US. ]\nAnswer:\n\n###[ What are the top 3 vaccine manufacturers in the US. ]\nAnswer:\n\n###[ What are the top 3 symptoms of COVID-19. ]\nAnswer:\n\n###[ What are the top 3 conditions that cause COVID-19. ]\nAnswer:\n\n###[ What are the top 3 types of vaccines used to prevent COVID-19. ]\nAnswer:\n\n###[ What are the top 3 states that have the most cases of COVID-19. ]\nAnswer:\n\n###[ What are the top 3 states that have the highest number of hospitalizations due to COVID-19. ]\nAnswer:\n\n###[ What are the top 3 states that have the highest number of deaths due to COVID-19.","1990":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Nasal dryness\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n    \"\"\"Test generate_elasticsearch_query function.\"\"\"\n\n    # Test case 1\n    assert (\n        generate_elasticsearch_query(\n            \"RECVDATE\", [\"Nasal dryness\"], {\"gte\": 20190301, \"lte\": 201904","12774":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Azoospermia\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"0\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 20210305,\n              \"lte\": 20210405,\n              \"format\": \"yyyyMMdd\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\ndef get_condition(question):\n    if 'Is there any person' in question:\n        return 'DIED', '0'\n    elif 'Has the patient died?' in question:\n        return 'DIED', '1'\n    else:\n        raise ValueError('Question not found')\n\n\ndef generate","12579":"###[ What are the top 5 states that have the most number of deaths due to COVID-19? ]\nAnswer:\n\n###[ Which state has the highest percentage of deaths due to COVID-19? ]\nAnswer:\n\n###[ Which state has the lowest percentage of deaths due to COVID-19? ]\nAnswer:\n\n###[ Which state has the highest percentage of deaths due to COVID-19 among those who received at least one dose of Pfizer vaccine? ]\nAnswer:\n\n###[ Which state has the highest percentage of deaths due to COVID-19 among those who received at least two doses of Pfizer vaccine? ]\nAnswer:\n\n###[ Which state has the highest percentage of deaths due to COVID-19 among those who received at least three doses of Pfizer vaccine? ]\nAnswer:\n\n###[ Which state","4637":"###[How many patients are there in each state?]\nAnswer:\n\n###[What is the average age of all patients who received at least one dose of Pfizer-BioNTech vaccine?]\nAnswer:\n\n###[What percentage of patients who received at least one dose of Pfizer-BioNTech vaccine died within 30 days after receiving their second dose?]\nAnswer:\n\n###[What percentage of patients who received at least two doses of Pfizer-BioNTech vaccine died within 90 days after receiving their second dose?]\nAnswer:\n\n###[What percentage of patients who received at least three doses of Pfizer-BioNTech vaccine died within 180 days after receiving their third dose?]\nAnswer:\n\n###[What percentage of patients who received at least four doses of Pfizer-","9183":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"USPFIZER INC\"\n    }\n  },\n  \"size\": 5\n}\n\n###[ Search for any cases where the vaccine recipient got a Pfizer-BioNTech vaccine. ]\nAnswer:\n{\n  \"query\": {\n    \"match\": {\n      \"VAX_NAME\": \"<NAME>\"\n    }\n  },\n  \"size\": 5\n}\n\n###[ Search for any cases where the vaccine recipient got a Moderna vaccine. ]\nAnswer:\n{\n  \"query\": {\n    \"match\": {\n      \"VAX_NAME\": \"Moderna\"\n    }\n  },\n  \"size\": 5\n}\n\n###[ Search for any cases where the vaccine recipient got a Janssen vaccine. ]\nAnswer:\n{\n  \"query\": {\n    \"match\": {\n      \"V","1030":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 63.0}}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\n###[ List all patients","4406":"'''\n\ndef get_condition(field):\n    if field == 'RECVDATE':\n        return ['2021-04-06']\n    elif field == 'STATE':\n        return ['VA', 'DC']\n    elif field == 'AGE_YRS':\n        return ['>89']\n    elif field == 'VAERS_ID':\n        return []\n    elif field == 'SEX':\n        return ['F']\n    elif field == 'SYMPTOM_TEXT':\n        return []\n    elif field == 'DIED':\n        return ['Y']\n    elif field == 'ER_VISIT':\n        return ['Y']\n    elif field == 'L_THREAT':\n        return ['Y']\n    elif field == 'HOSPITAL':\n        return ['Y']\n    elif field == 'HOSPDAYS':\n        return ['<365']\n    elif field == 'DISABLE':\n        return ['Y']\n    elif field == 'VAX_","3027":"###[How many patients had a history of heart attack in the past year?]\nAnswer:\n\n###[What percentage of all deaths among those who received at least one vaccine dose (i.e., Pfizer or Moderna)?]\nAnswer:\n\n###[What percentage of all deaths among those who received at least two vaccine doses (i.e., Pfizer + Moderna)?]\nAnswer:\n\n###[What percentage of all deaths among those who received at least three vaccine doses (i.e., Pfizer + Moderna + J&J)?]\nAnswer:\n\n###[What percentage of all deaths among those who received at least four vaccine doses (i.e., Pfizer + Moderna + J&J + Oxford\/AstraZeneca)?]\nAnswer:\n\n###[What percentage of all deaths among those who","10315":"\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question\n\n    :param question: String containing the question to be parsed\n    :return: String containing the condition value of the question\n    \"\"\"\n    # TODO: Write your code here\n    return \"\"\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    This function takes in a field name and its corresponding condition value and generates an Elasticsearch query\n\n    :param field_name: String containing the field name\n    :param condition_value: String containing the condition value\n    :return: String containing the generated Elasticsearch query\n    \"\"\"\n    # TODO: Write your code here\n    return \"\"\n\n\nif __name__ == \"__main__\":\n    print(\"Question:\", question)\n    print(\"Condition Value:\", get_condition(question))\n    print(\"Elasticsearch Query:\", generate_elasticsearch_query(\"\", \"\"))","812":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 34.0}}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_","7203":"###[ Which is the most common latex allergy for patients.]\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### entify the filed name first, then extract the specific condition values from the question for this","8625":"###[ List all the patients who are 60 years old or older and have a history of diabetes. ]\nAnswer:\n\n###[ List all the patients who are 50 to 70 years old and have a history of diabetes. ]\nAnswer:\n\n###[ List all the patients who are 40 to 50 years old and have a history of diabetes. ]\nAnswer:\n\n###[ List all the patients who are 30 to 40 years old and have a history of diabetes. ]\nAnswer:\n\n###[ List all the patients who are 20 to 30 years old and have a history of diabetes. ]\nAnswer:\n\n###[ List all the patients who are 10 to 20 years old and have a history of diabetes. ]\nAnswer:\n\n###[ List all the patients who are yo","3091":"###[ How many patients died in hospital after receiving the vaccine?]\nAnswer:\n\n###[ How many patients received at least one dose of Pfizer vaccine?]\nAnswer:\n\n###[ How many patients received at least two doses of Pfizer vaccine?]\nAnswer:\n\n###[ How many patients received at least three doses of Pfizer vaccine?]\nAnswer:\n\n###[ How many patients received at least four doses of Pfizer vaccine?]\nAnswer:\n\n###[ How many patients received at least five doses of Pfizer vaccine?]\nAnswer:\n\n###[ How many patients received at least six doses of Pfizer vaccine?]\nAnswer:\n\n###[ How many patients received at least seven doses of Pfizer vaccine?]\nAnswer:\n\n###[ How many patients received at least eight do","12809":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Dependence\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"0\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 20210305,\n              \"lte\": 20210405,\n              \"format\": \"yyyyMMdd\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[ Is there any person have Fever after vaccine? ]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Fever\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED","11621":"###[ How many people received DTAP + IPV + HIB (PENTACEL) shot in 2019? ]\nAnswer:\n\n###[ How many people received DTAP + IPV + HIB (PENTACEL) shot in 2018? ]\nAnswer:\n\n###[ How many people received DTAP + IPV + HIB (PENTACEL) shot in 2017? ]\nAnswer:\n\n###[ How many people received DTAP + IPV + HIB (PENTACEL) shot in 2016? ]\nAnswer:\n\n###[ How many people received DTAP + IPV + HIB (PENTACEL) shot in 2015? ]\nAnswer:\n\n###[ How many people received DTAP + IPV + HIB (PENTACEL) shot in 2014? ]","2049":"{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"DIED\": \"N\"\n          }\n        },\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Perfusion brain scan normal\"\n          }\n        },\n        {\n          \"range\": {\n            \"VAX_DATE\": {\n              \"gte\": \"2021-03-01\",\n              \"lte\": \"2021-04-01\"\n            }\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"term\": {\n            \"STATE\": \"VA\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[ How many patients are alive in the state of Virginia who had a perfusion brain scan normal after vaccination? ]\nAnswer:\n{\n  \"size\": 0,\n  \"query\":","5281":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"koselugo\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 1583296000,\n                            \"lte\": 1584728000\n                        }\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: String containing the question to be parsed.\n    :return: Condition value of the question as a string.\n    \"\"\"\n\n    # Split the question into words using whitespace as delimiter.\n    split = question.split()\n\n    # Get the index of the word 'is'.\n    idx = split.index('","1736":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"gait\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1638249600,\n                            \"lte\": 1638508800\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": false\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR","4808":"{\n    \"query\": {\n        \"match\": {\n            \"SYMPTOM_TEXT\": \"test\"\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### entify the filed","7123":"###[ Which is the most common fevers for patients]\nAnswer:\n\n###[ Which is the most common coughs for patients]\nAnswer:\n\n###[ Which is the most common shortness of breath for patients]\nAnswer:\n\n###[ Which is the most common headache for patients]\nAnswer:\n\n###[ Which is the most common fatigue for patients]\nAnswer:\n\n###[ Which is the most common weight loss for patients]\nAnswer:\n\n###[ Which is the most common nausea for patients]\nAnswer:\n\n###[ Which is the most common vomiting for patients]\nAnswer:\n\n###[ Which is the most common diarrhea for patients]\nAnswer:\n\n###[ Which is the most common abdominal pain for patients]\nAnswer:\n\n###[ Which is the most common conjunctivitis for patients]\nAnswer:","7767":"\"\"\"\nimport json\nfrom elasticsearch import Elasticsearch\nes = Elasticsearch()\n\n\ndef get_data(index):\n    res = es.search(\n        index=index,\n        body={\n            \"size\": 10000,\n            \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\",\n                        \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\",\n                        \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\",\n                        \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLER","5086":"###[ Find the number of cases that the vaccine recipients had hemoglobin level test in the last 12 months.]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had hemoglobin level test in the last year.]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had hemoglobin level test in the last month.]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had hemoglobin level test in the last week.]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had hemoglobin level test in the last day.]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had hemoglobin level test in the last hour.]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had hemoglobin level test in the last","7499":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Amoxicillin\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"Amoxicillin\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Find any cases where the vaccine recipients had an allergy to amoxicillin trihydrate in the last year. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {","7018":"###[ How many patients are diagnosed with heart failure? ]\nAnswer:\n\n###[ How many patients have diabetes mellitus?]\nAnswer:\n\n###[ How many patients are diagnosed with hypertension?]\nAnswer:\n\n###[ How many patients are diagnosed with asthma?]\nAnswer:\n\n###[ How many patients are diagnosed with lung cancer?]\nAnswer:\n\n###[ How many patients are diagnosed with pneumonia?]\nAnswer:\n\n###[ How many patients are diagnosed with dementia?]\nAnswer:\n\n###[ How many patients are diagnosed with epilepsy?]\nAnswer:\n\n###[ How many patients are diagnosed with chronic kidney disease?]\nAnswer:\n\n###[ How many patients are diagnosed with stroke?]\nAnswer","9700":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"03\/04\/2021\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_condition(question","5512":"###[ Find the number of cases where the vaccine recipients had lo loesterin at the time of vaccination. ]\n\n{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"lo loesterin\"\n          }\n        },\n        {\n          \"range\": {\n            \"VAX_DATE\": {\n              \"gte\": \"2021-08-31\",\n              \"lte\": \"2021-09-01\"\n            }\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"term\": {\n            \"DIED\": \"N\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[ Find the number of cases where the vaccine recipients had lo loesterin at the time of vaccination. ]\n\n{\n  \"size\":","12781":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Anaemia\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"1\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"AGE_YRS\": {\n              \"gte\": 0,\n              \"lte\": 250\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[ Is there any person have Diabetes mellitus after vaccine? ]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Diabetes Mellitus\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"1\"\n          }\n        }","5023":"###[ Find the number of cases that the vaccine recipients had a positive PCR test in the last 14 days.]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a negative PCR test in the last 14 days.]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a positive rapid antigen (IgM) test in the last 14 days.]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a negative rapid antigen (IgM) test in the last 14 days.]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a positive RT-PCR test in the last 14 days.]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a negative RT-PCR test in the last 14 days.]\nAnswer:","5842":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"tizanidine\"\n          }\n        },\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 1609459200000,\n              \"lte\": 1635788800000\n            }\n          }\n        }\n      ],\n      \"filter\": [],\n      \"should\": [],\n      \"must_not\": []\n    }\n  }\n}\n\n###[Is there any patients who was taking cimetidine?]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"cimetidine\"\n          }\n        },\n        {\n          \"range\": {\n            \"RECVDATE\": {","9759":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"02\/11\/2021\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_condition(question","8992":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"USSA2022SA051715\"\n    }\n  },\n  \"size\": 10000\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n###","7556":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"guanfacine\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"yes\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Find any cases where the vaccine recipients had a history of asthma. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HISTORY\": \"asthma\"\n                    }\n                }\n            ],\n            \"filter","9492":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_NAME\": \"US0095075132201\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_NAME\": \"US005784\"\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Given a list of conditions\n    conditions = [\"US0095075132201\", \"US005784\"]\n\n    # When generate_elasticsearch_query function is called\n    elasticsearch_query = generate_elasticsearch_query(conditions)\n\n    # Then it should return an Elasticsearch query\n    assert (\n        elasticsearch_query == expected_elasticsearch_query\n    ), f\"{elasticsearch_query}\\n\\n!= \\n\\n{expected_elasticsearch_","11542":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"DTAP\"\n          }\n        },\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"IPV\"\n          }\n        }\n      ],\n      \"should\": [],\n      \"filter\": []\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Test case 1\n    print(\"Test Case 1\")\n    question = \"Search any vaccine recipients who had DTAP + IPV (QUADRACEL) shot.\"\n    expected_output = \"\"\"\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_","5524":"{\n    \"size\": 10000,\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"VAX_NAME\": \"Levothyroxine\"}},\n                {\"match\": {\"VAX_DOSE_SERIES\": \"800\"}}\n            ],\n            \"filter\": [{\"range\": {\"RECVDATE\": {\"gte\": \"2021-03-01\", \"lte\": \"2021-04-01\"}}}]\n        }\n    },\n    \"_source\": [\"STATE\"]\n}\n\n###[ Find the number of cases where the vaccine recipients had a combination of two different vaccines (e.g., Pfizer-BioNTech) at the same time]\nAnswer:\n\n{\n    \"size\": 10000,\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\":","1886":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"<NAME>\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 18,\n                            \"lte\": 90\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                },\n                {\n                    \"term\": {\n                        \"ER_VISIT\": \"Y\"\n                    }\n                },\n                {\n                    \"term\": {\n                        \"L_THREAT\": \"Y\"\n                    }\n                },\n                {\n                    \"term\": {\n                        \"HOSPITAL\": \"Y\"\n                    }\n                },\n                {\n                    \"term\": {\n                        \"DISABLE\": \"Y\"\n                    }\n                },\n                {\n                    \"term\": {\n                        \"CUR_ILL\": \"Y\"\n                    }\n                }","7474":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"neosporin\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"opthalamic\"\n                    }\n                }\n            ],\n            \"filter\": {\n                \"range\": {\n                    \"AGE_YRS\": {\n                        \"gte\": 18\n                    }\n                }\n            }\n        }\n    }\n}\n\n###[ Show me all the patients who has a history of diabetes. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HISTORY\": \"diabetes\"\n                    }\n                }\n            ],\n            \"filter\": {\n                \"range\": {\n                    \"AGE_YRS\": {\n                        \"gte\": 18\n                    }\n                }\n            }\n        }\n    }","3074":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"DIED\": \"Y\"}},\n                {\"match\": {\"HISTORY\": \"R\"}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef","7791":"\"\"\"\nimport json\nfrom elasticsearch import Elasticsearch\n\n\ndef get_es():\n    es = Elasticsearch(\n        hosts=[{'host': 'localhost', 'port': 9200}],\n        http_auth=('elastic', '<PASSWORD>'),\n        scheme=\"https\",\n        retry_on_timeout=True,\n        max_retries=10\n    )\n\n    return es\n\n\ndef search_by_field_name(es):\n    # Search by field name\n    body = {\n        \"query\": {\n            \"match\": {\"STATE\": \"TX\"}\n        }\n    }\n    res = es.search(index='vaersdata', doc_type='_doc', body=body)\n    print(\"Got %d Hits:\" % res['hits']['total'])\n    for hit in res['hits']['hits']:\n        print(\"%(timestamp)s %(author)s: %(text)s\" % hit[\"_source\"])\n\n\ndef search_by_condition_","6060":"###[ List all the patients who have been hospitalized in a hospital that has an ICD-10 code of 428.3 or 428.9. ]\nAnswer:\n\n###[ List all the patients who have not been hospitalized in a hospital that has an ICD-10 code of 428.3 or 428.9. ]\nAnswer:\n\n###[ List all the patients who have been hospitalized in a hospital that does not have an ICD-10 code of 428.3 or 428.9. ]\nAnswer:\n\n###[ List all the patients who have not been hospitalized in a hospital that does not have an ICD-10 code of 428.3 or 428.9. ]\nAnswer:\n\n###[ List all the patients who have been hospitalized in a hospital that has an","1668":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"SYMPTOM_TEXT\": \"Psychiatric evaluation normal\"}},\n                {\"range\": {\"VAX_DATE\": {\"gte\": \"2021-03-05\"}}}\n            ],\n            \"filter\": [{\"term\": {\"DIED\": \"N\"}}]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX","709":"###[Give me the VA which has the least number of records]\nAnswer:\n\n###[Give me the VA which has the highest death rate]\nAnswer:\n\n###[Give me the VA which has the lowest death rate]\nAnswer:\n\n###[Give me the VA which has the highest hospitalization rate]\nAnswer:\n\n###[Give me the VA which has the lowest hospitalization rate]\nAnswer:\n\n###[Give me the VA which has the highest vaccination rate]\nAnswer:\n\n###[Give me the VA which has the lowest vaccination rate]\nAnswer:\n\n###[Give me the VA which has the highest allergy rate]\nAnswer:\n\n###[Give me the VA which has the lowest allergy rate]\nAnswer:\n\n###[Give me the VA which has the highest death rate in 2019]\nAnswer:\n\n###[Give me","12950":"###[ what are the top 5 states that have the highest number of deaths among all states?]\nAnswer:\n\n###[ what are the top 3 symptoms that cause the most deaths in the US?]\nAnswer:\n\n###[ how many people were hospitalized due to COVID-19 in 2020?]\nAnswer:\n\n###[ what is the average age of a person who died from COVID-19?]\nAnswer:\n\n###[ what is the percentage of people who received at least one dose of Pfizer vaccine between January 1st, 2020 and December 31st, 2020?]\nAnswer:\n\n###[ what is the percentage of people who received at least two doses of Pfizer vaccine between January 1st, 2020 and December 31st, 202","1524":"###[How many patients are still in hospital today]\nAnswer:\n\n###[What is the average number of days a patient has been in hospital before being discharged?]\nAnswer:\n\n###[What is the average length of stay (in days) for COVID-19 positive patients who were admitted to the hospital?]\nAnswer:\n\n###[What is the average length of stay (in days) for COVID-19 positive patients who did not receive any care at all?]\nAnswer:\n\n###[What is the average length of stay (in days) for COVID-19 positive patients who received some level of care but no longer have symptoms?]\nAnswer:\n\n###[What is the average length of stay (in days) for COVID-19 positive patients who received moderately to severe level of care?]\nAnswer:\n\n###[What is the average length of stay (","11097":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"VAX_DOSE_SERIES\": \"7+\"}},\n            ],\n        },\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Test case 1\n    print(\"Test Case 1\")\n    print(\n        generate_elasticsearch_query(\n            prompt=TEST_PROMPT_CASE_1,\n            answer=TEST_ANSWER_CASE_1,\n            fields=[\"RECVDATE\", \"STATE\"],\n        )\n    )\n    assert (\n        generate_elasticsearch_query(\n            prompt=TEST_PROMPT_CASE_1,\n            answer=TEST_ANSWER_CASE_1,\n            fields=[\"RECVDATE\", \"STATE\"],\n        )\n        == TEST_ES_QUERY_CASE_1\n    )\n\n    # Test case 2\n    print(\"Test Case 2\")\n    print(\n        generate_elasticsearch_query(","337":"###[ How many patients' record are received before 1975-04-06]\nAnswer:\n\n###[ How many patients' record are received after 1975-04-06]\nAnswer:\n\n###[ How many patients' record are received in California]\nAnswer:\n\n###[ How many patients' record are received in New York]\nAnswer:\n\n###[ How many patients' record are received in Texas]\nAnswer:\n\n###[ How many patients' record are received in Florida]\nAnswer:\n\n###[ How many patients' record are received in Georgia]\nAnswer:\n\n###[ How many patients' record are received in Pennsylvania]\nAnswer:\n\n###[ How many patients' record are received in Ohio]\nAnswer:\n\n###[ How many patients' record are received in Michigan]","3261":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"01\/27\/2020\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME","7010":"###[ How many patients are not dignosed of barrett? ]\nAnswer:\n\n###[ How many patients have been vaccinated against measles?]\nAnswer:\n\n###[ How many patients have not been vaccinated against measles?]\nAnswer:\n\n###[ How many patients have been vaccinated against polio?]\nAnswer:\n\n###[ How many patients have not been vaccinated against polio?]\nAnswer:\n\n###[ How many patients have been vaccinated against rubella?]\nAnswer:\n\n###[ How many patients have not been vaccinated against rubella?]\nAnswer:\n\n###[ How many patients have been vaccinated against mumps?]\nAnswer:\n\n###[ How many patients have not been vaccinated against mumps?]\nAnswer:\n\n###[ How many patients have been vaccinated against Hepat","12127":"###[ How many people received DENGUE TETRAVALENT (DENGVAXIA) vaccine and HEP B (VAQTB) vaccine. ]\nAnswer:\n\n###[ How many people received DENGUE TETRAVALENT (DENGVAXIA) vaccine and HIB (HIB) vaccine. ]\nAnswer:\n\n###[ How many people received DENGUE TETRAVALENT (DENGVAXIA) vaccine and INFLUenza-like-illness (ILI) vaccine. ]\nAnswer:\n\n###[ How many people received DENGUE TETRAVALENT (DENGVAXIA) vaccine and MMR (MMRV) vaccine. ]\nAnswer:\n\n###[ How many people received DENGUE TETRAVALENT (DENGVAXIA) vaccine and Pneumococcal conjugate (PCV","456":"###[ Find the state that has the highest number of deaths among all states]\nAnswer:\n\n###[ Find the state that has the lowest number of deaths among all states]\nAnswer:\n\n###[ Find the state that has the highest number of hospitalization days among all states]\nAnswer:\n\n###[ Find the state that has the lowest number of hospitalization days among all states]\nAnswer:\n\n###[ Find the state that has the highest number of vaccine doses administered among all states]\nAnswer:\n\n###[ Find the state that has the lowest number of vaccine doses administered among all states]\nAnswer:\n\n###[ Find the state that has the highest number of patients who received at least one Pfizer vaccine dose among all states]\nAnswer:\n\n###[ Find the state that has the lowest number of patients who received at least one Pfizer vaccine","5885":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"high blood pressure\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 18,\n                            \"lte\": 90\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TO","8273":"###[How many patients were hospitalized after they received their first dose of Pfizer vaccine?]\nAnswer:\n\n###[What percentage of all patients who died in the United States had at least one comorbidity?]\nAnswer:\n\n###[What are the top 5 states that have the most deaths among all patients who died in the United States?]\nAnswer:\n\n###[What are the top 5 states that have the highest number of hospitalizations among all patients who died in the United States?]\nAnswer:\n\n###[What are the top 5 states that have the highest number of hospital days among all patients who died in the United States?]\nAnswer:\n\n###[What are the top 5 states that have the highest number of hospital days among all patients who died in the United States?]\nAnswer:\n\n###[What are the top 5","11675":"###[ How many people received COVISHIELD (CHAdS) vaccine. ]\nAnswer:\n\n###[ How many people received Pfizer-BioNTech (PFB) vaccine. ]\nAnswer:\n\n###[ How many people received Moderna (MRNA) vaccine. ]\nAnswer:\n\n###[ How many people received Oxford\/AstraZeneca (OXF) vaccine. ]\nAnswer:\n\n###[ How many people received Janssen (JANSSEN) vaccine. ]\nAnswer:\n\n###[ How many people received Sinovac (SINOPHARM) vaccine. ]\nAnswer:\n\n###[ How many people received BNT162b2 (BIONTECH) vaccine. ]\nAnswer:\n\n###[ How many people received mRNA COVID-19 vaccine. ]\nAnswer:\n\n###[ How many","4065":"{\n  \"size\": 10000,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"DIED\": \"Y\"\n          }\n        },\n        {\n          \"range\": {\n            \"ONSET_DT\": {\n              \"gte\": \"02\/20\/2022\",\n              \"lte\": \"02\/20\/2022\"\n            }\n          }\n        }\n      ],\n      \"filter\": [],\n      \"should\": [],\n      \"must_not\": []\n    }\n  }\n}\n\n###[ What is the number of cases where hospitalization date is 03\/05\/2022]\nAnswer:\n{\n  \"size\": 10000,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"HOSPITAL\": \"Y\"\n          }","13020":"###[ what are the top 5 states that have the highest number of deaths among all states?]\nAnswer:\n\n###[ what are the top 10 states that have the highest number of hospitalization days among all states?]\nAnswer:\n\n###[ what are the top 3 states that have the highest number of hospitalization days among all states in the US?]\nAnswer:\n\n###[ what are the top 2 states that have the highest number of hospitalization days among all states in the US excluding Washington state?]\nAnswer:\n\n###[ what are the top 5 states that have the lowest number of hospitalization days among all states?]\nAnswer:\n\n###[ what are the top 5 states that have the highest number of hospitalization days among all states in the US?]\nAnswer:\n\n###[ what are the top 5 states that have the highest number of hospitalization days","10955":"###[How many people have been injected with f m0698 in California]\nAnswer:\n\n###[How many people have been injected with f m0698 in California who died]\nAnswer:\n\n###[How many people have been injected with f m0698 in California who did not die]\nAnswer:\n\n###[How many people have been injected with f m0698 in California who were vaccinated]\nAnswer:\n\n###[How many people have been injected with f m0698 in California who were not vaccinated]\nAnswer:\n\n###[How many people have been injected with f m0698 in California who had a previous vaccine]\nAnswer:\n\n###[How many people have been injected with f m0698 in California who did not have a previous vaccine]\nAnswer:\n\n###[How many people have","4248":"{\n  \"query\": {\n    \"range\" : {\n      \"RECVDATE\" : {\n        \"gte\":\"2021-03-01\",\n        \"lte\":\"2021-05-01\",\n        \"format\":\"yyyy-MM-dd||epoch_millis\"\n      }\n    }\n  },\n  \"size\": 10000\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    For example, if the question was 'What is the condition value for this field?' it would return the answer to that question.\n    \"\"\"\n\n    # Split the question into words\n    split = question.split()\n    \n    # Get the index of the word 'is'\n    idx = split.index('is')\n    \n    # Return everything after the word 'is'\n    return''.join(split[(idx+1):])","8558":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Meningococcal\"\n          }\n        },\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Measles\"\n          }\n        }\n      ],\n      \"filter\": {\n        \"range\": {\n          \"RECVDATE\": {\n            \"gte\": 1583296000,\n            \"lte\": 1584728000\n          }\n        }\n      }\n    }\n  }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_","12218":"###[ Which state has the highest number of deaths among all states in the US]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in","1542":"###[How many patients are still in hospital today]\nAnswer:\n\n###[What is the average number of days a patient has been in hospital before being discharged?]\nAnswer:\n\n###[What is the average length of stay (in days) for COVID-19 positive patients who were admitted to the hospital?]\nAnswer:\n\n###[What is the average length of stay (in days) for COVID-19 positive patients who did not receive any care at all?]\nAnswer:\n\n###[What is the average length of stay (in days) for COVID-19 positive patients who received some level of care but no longer have symptoms?]\nAnswer:\n\n###[What is the average length of stay (in days) for COVID-19 positive patients who received moderately to severe level of care?]\nAnswer:\n\n###[What is the average length of stay (","7217":"###[ Which is the most common immune thrombocytopenia for patients.]\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### entify the filed name first, then extract the specific condition","7640":"###[ How many patients have died in the United States? ]\nAnswer:\n\n###[ How many patients were hospitalized in a U.S. hospital? ]\nAnswer:\n\n###[ How many patients had an emergency room visit in the past year? ]\nAnswer:\n\n###[ How many patients received at least one vaccine dose in the last year?]\nAnswer:\n\n###[ How many patients received at least two different types of vaccines in the last year?]\nAnswer:\n\n###[ How many patients received at least three different types of vaccines in the last year?]\nAnswer:\n\n###[ How many patients received at least four different types of vaccines in the last year?]\nAnswer:\n\n###[ How many patients received at least five different types of vaccines in the last year?]\nAnswer:\n\n###[ How many patients received at least","9877":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"04\/03\/2022\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ],\n            \"filter\": [{\"range\": {\"AGE_YRS\": {\"gte\": 18}}}]\n        }\n    },\n    \"_source\": [\"DIED\", \"HOSPITAL\"]\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string to parse\n    :return: Condition value as a string or None if no condition found\n    \"\"\"\n    # TODO: Implement me!\n    return None\n\n\ndef generate_elasticsearch_query(field_name, condition_value=None):\n    \"\"\"\n    Generates an Elasticsearch query given a field name and optional condition value\n\n    :param field_name: Field name of interest\n    :param condition_value:","10147":"###[ How many people has not got PNC15? ]\nAnswer:\n\n###[ How many people has got PNC20? ]\nAnswer:\n\n###[ How many people has not got PNC20? ]\nAnswer:\n\n###[ How many people has got PNC25? ]\nAnswer:\n\n###[ How many people has not got PNC25? ]\nAnswer:\n\n###[ How many people has got PNC30? ]\nAnswer:\n\n###[ How many people has not got PNC30? ]\nAnswer:\n\n###[ How many people has got PNC35? ]\nAnswer:\n\n###[ How many people has not got PNC35? ]\nAnswer:\n\n###[ How many people has got PNC40? ]\nAnswer:\n\n###[ How many people has not got PNC40? ]","6008":"###[ List all the patients who have received a flu vaccine in 2018. ]\nAnswer:\n\n###[ List all the patients who have not been hospitalized for any reason. ]\nAnswer:\n\n###[ List all the patients who have not been disabilited. ]\nAnswer:\n\n###[ List all the patients who have not had an emergency room visit. ]\nAnswer:\n\n###[ List all the patients who have not had a lab test done. ]\nAnswer:\n\n###[ List all the patients who have not had a flu shot. ]\nAnswer:\n\n###[ List all the patients who have not had a pneumonia vaccine. ]\nAnswer:\n\n###[ List all the patients who have not had a seasonal influenza vaccine. ]\nAnswer:\n\n###[ List all the patients who have not had a typhoid vaccine. ]","630":"###[ How many patients are from CA? ]\nAnswer:\n\n###[ How many patients are from IL? ]\nAnswer:\n\n###[ How many patients are from NY? ]\nAnswer:\n\n###[ How many patients are from TX? ]\nAnswer:\n\n###[ How many patients are from OH? ]\nAnswer:\n\n###[ How many patients are from FL? ]\nAnswer:\n\n###[ How many patients are from GA? ]\nAnswer:\n\n###[ How many patients are from PA? ]\nAnswer:\n\n###[ How many patients are from MI? ]\nAnswer:\n\n###[ How many patients are from NC? ]\nAnswer:\n\n###[ How many patients are from WI? ]\nAnswer:\n\n###[ How many patients are from NJ? ]\nAnswer:\n\n###[ How many patients are from AL? ]\nAnswer:\n\n###","6406":"###[ What is the number of vaccine recipients that had january 15th when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had january 20th when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had january 31st when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had february when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had february 14th when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had february 28th when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had march when they took the shot?","8619":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"SYMPTOM_TEXT\": \"MEASLES\"}},\n                {\"match\": {\"SYMPTOM_TEXT\": \"JAPANESE ENCEPHALITIS\"}}\n            ],\n            \"filter\": [{\"range\": {\"RECVDATE\": {\"gte\": 20180101}}}]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\"]\n}\n\n###[ List all the patients who died in the United States after Jan 1st, 2018]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [{\"match\": {\"DIED\": \"Y\"}}],\n            \"filter\": [\n                {\"term\": {\"STATE\": \"US\"}},\n                {\"range\": {\"RECVDATE\": {\"gte\": 20180101}}}\n            ]\n        }","1461":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"01\/26\/2021\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ],\n            \"filter\": [{\"range\": {\"AGE_YRS\": {\"gte\": 0}}}]\n        }\n    },\n    \"_source\": [\"*\"]\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string to parse\n    :return: Condition value as a string or None if no condition was found\n    \"\"\"\n    # TODO: Implement this function!\n    return None\n\n\ndef generate_elasticsearch_query(field_name, condition_value=None):\n    \"\"\"\n    Generates an Elasticsearch query given a field name and optional condition value\n\n    :param field_name: Field name of interest (e.g., 'DIED')\n    :param","10607":"{\n    \"query\": {\n        \"match\": {\n            \"VAX_NAME\": \"PF2509\"\n        }\n    }\n}\n\nPrompt: ###[Give me all the patients who are 60 years old or older]\n### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### entify the filed name first, then extract the specific condition values from the question for this field. Generate the Elasticsearch query based on the filed name and condition value.\nClinical Notes: ###[Give me all the patients who are 60 years old or older]\nAnswer:\n{\n    \"query\": {\n        \"range\": {\n            \"AGE_YRS\": {\n                \"gte\": 60\n            }\n        }\n    }\n}\n\nPrompt: ###[Give me all the patients who have died in hospital.]\n###","3647":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"RECVDATE\": \"11\/01\/2008\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"11\/01\/2008\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[How many patients were vaccinated before 1975?]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"VAX_DATE\": {\n                            \"lte\": \"1975-01-01T00:00:00Z\",\n                            \"format\": \"yyyy-MM-dd'T'HH:mm:ss'Z'\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}","1452":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"01\/04\/2022\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ],\n            \"filter\": [{\"range\": {\"AGE_YRS\": {\"gte\": 0}}}]\n        }\n    },\n    \"_source\": [\"DIED\", \"HOSPITAL\"]\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string to parse\n    :return: Condition value as a string or None if no condition was found\n    \"\"\"\n    # TODO: Implement this function!\n    return None\n\n\ndef generate_elasticsearch_query(field_name, condition_value=None):\n    \"\"\"\n    Generates an Elasticsearch query given a field name and optional condition value\n\n    :param field_name: Field name of interest (e.g., '","7095":"###[ What is the average age of a patient who died in hospital? ]\nAnswer:\n\n###[ What is the percentage of patients who received at least one vaccine dose?]\nAnswer:\n\n###[ What is the percentage of patients who received all doses prescribed by the FDA?]\nAnswer:\n\n###[ What is the percentage of patients who received all doses prescribed by the CDC?]\nAnswer:\n\n###[ What is the percentage of patients who received all doses prescribed by the WHO?]\nAnswer:\n\n###[ What is the percentage of patients who received all doses prescribed by the US Food and Drug Administration (FDA)?]\nAnswer:\n\n###[ What is the percentage of patients who received all doses prescribed by the Centers for Disease Control and Prevention (CDC)?]\nAnswer:\n\n###[ What is the percentage","5764":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"gabapentine\"\n          }\n        },\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 1583296000,\n              \"lte\": 1584728000\n            }\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"term\": {\n            \"DIED\": false\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[Is there any patients who was taking gabapentine in California?]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"gabapentine\"\n          }\n        },\n        {\n          \"range\": {\n            \"RECV","12961":"###[ what are the top 5 states that have the highest number of deaths among all the states in the US?]\nAnswer:\n\n###[ how many people were hospitalized between 2018-01-01 to 2019-01-01?]\nAnswer:\n\n###[ what is the average age of a person who received at least one dose of Pfizer vaccine?]\nAnswer:\n\n###[ what is the percentage of patients who died within 30 days of receiving their second dose of a COVID-19 vaccine?]\nAnswer:\n\n###[ what is the average number of days a patient was hospitalized before receiving their first dose of a COVID-19 vaccine?]\nAnswer:\n\n###[ what is the average number of days a patient spent in the hospital before receiving their first dose of a COVID-19","11921":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"INFLUENZA (SEASONAL) (FLUCELVAX)\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"HEP B (RECOMBIVAX HB)\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ List all the patients who got INFLUENZA (SEASONAL) (FLUCELVAX) vaccine and HEP B (RECOMBIVAX HB) vaccine in 2019]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"INFLUENZA (SEASONAL) (FLUCELVAX)\"\n                    }\n                },\n                {\n                    \"match\": {","11173":"###[How many people got vaccine in AL?]\nAnswer:\n\n###[How many people got vaccine in FL?]\nAnswer:\n\n###[How many people got vaccine in GA?]\nAnswer:\n\n###[How many people got vaccine in NC?]\nAnswer:\n\n###[How many people got vaccine in SC?]\nAnswer:\n\n###[How many people got vaccine in PA?]\nAnswer:\n\n###[How many people got vaccine in MS?]\nAnswer:\n\n###[How many people got vaccine in LA?]\nAnswer:\n\n###[How many people got vaccine in TX?]\nAnswer:\n\n###[How many people got vaccine in NY?]\nAnswer:\n\n###[How many people got vaccine in CA?]\nAnswer:\n\n###[How many people got vaccine in IL?]","9172":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"USPFIZER INC\"\n    }\n  },\n  \"size\": 10000\n}\n\n###[ Search for any cases where the vaccine recipient got a Pfizer-BioNTech vaccine in Janssen series. ]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"Pfizer-BioNTech\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_LOT\": \"Janssen\"\n          }\n        }\n      ]\n    }\n  },\n  \"size\": 10000\n}\n\n###[ Search for any cases where the vaccine recipient got a Pfizer-BioNTech vaccine in Janssen series that was given as a single dose. ]","771":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 39.0}}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_","10235":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"VAX_NAME\": \"IPV\"}},\n                {\"range\": {\"TODAYS_DATE\": {\"gte\": \"2021-08-31\", \"lte\": \"2021-09-01\"}}}\n            ],\n            \"filter\": [{\"term\": {\"DIED\": \"N\"}}]\n        }\n    },\n    \"_source\": [\"RECVDATE\",\"STATE\",\"AGE_YRS\",\"VAERS_ID\",\"SEX\",\"SYMPTOM_TEXT\",\"DIED\",\"ER_VISIT\",\"L_THREAT\",\"HOSPITAL\",\"HOSPDAYS\",\"DISABLE\",\"VAX_DATE\",\"LAB_DATA\",\"OTHER_MEDS\",\"CUR_ILL\",\"HISTORY\",\"PRIOR_VAX\",\"TODAYS_DATE\",\"OFC_VISIT\",\"VAX_TYPE\",\"VAX_MANU\",\"VAX_LOT\",\"VAX_","5202":"###[How many patients has a extreme low blood pressure after vaccination.]\nAnswer:\n\n###[What is the average age of all patients who received at least one dose of COVID-19 vaccine in the United States?]\nAnswer:\n\n###[What is the percentage of people who have died because of covid 19 after receiving at least one dose of COVID-19 vaccine?]\nAnswer:\n\n###[What is the percentage of people who are hospitalized because of covid 19 after receiving at least one dose of COVID-19 vaccine?]\nAnswer:\n\n###[What is the percentage of people who are disbled because of covid 19 after receiving at least one dose of COVID-19 vaccine?]\nAnswer:\n\n###[What is the percentage of people who are currently sick because of covid 19 after receiving","4367":"'''\n\ndef get_condition(field):\n    if field == 'RECVDATE':\n        return ['2021-03-05']\n    elif field == 'STATE':\n        return ['VA', 'DC']\n    elif field == 'AGE_YRS':\n        return ['>89']\n    elif field == 'VAERS_ID':\n        return ['123456789']\n    elif field == 'SEX':\n        return ['F']\n    elif field == 'SYMPTOM_TEXT':\n        return ['fever']\n    elif field == 'DIED':\n        return ['Y']\n    elif field == 'ER_VISIT':\n        return ['Y']\n    elif field == 'L_THREAT':\n        return ['Y']\n    elif field == 'HOSPITAL':\n        return ['Y']\n    elif field == 'HOSPDAYS':\n        return ['<16']\n    elif field == 'DISABLE':","6754":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"trigger finger\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"1\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 0,\n                            \"lte\": 25\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n    \"\"\"Test generate_elasticsearch_query function.\"\"\"\n\n    # Test case 1\n    assert (\n        generate_elasticsearch_query(\n            \"RECVDATE\", [\"trigger finger\"], {\"DIED\": \"1\"}, {\"AGE_YRS\": {\"gte\": 0, \"lte\": 25}}\n        )\n        == expected_result_case_1\n    )\n\n    # Test case","5219":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_MANU\": \"PHM\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]","6556":"###[ Which state has the highest number of deaths among all states?]\nAnswer:\n\n###[ How many patients were diagnosed with COVID-19 in 2020?]\nAnswer:\n\n###[ What are the top three symptoms reported by patients who died after being tested positive for COVID-19?]\nAnswer:\n\n###[ What is the average age of a patient who tested positive for COVID-19?]\nAnswer:\n\n###[ What is the percentage of male patients who tested positive for COVID-19?]\nAnswer:\n\n###[ What is the percentage of female patients who tested positive for COVID-19?]\nAnswer:\n\n###[ What is the average hospitalization days of patients who tested positive for COVID-19?]\nAnswer:\n\n###[ What is the average length of stay (in days) of patients who tested positive for COVID-","5959":"{\n    \"query\": {\n        \"match\": {\n            \"SYMPTOM_TEXT\": \"hypothyroid\"\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### ent","6348":"###[ How many vaccine recipients have diabetes mellitus at the time of vaccination? ]\nAnswer:\n\n###[ How many vaccine recipients have chronic heart disease at the time of vaccination? ]\nAnswer:\n\n###[ How many vaccine recipients have cancer at the time of vaccination? ]\nAnswer:\n\n###[ How many vaccine recipients have a history of stroke at the time of vaccination? ]\nAnswer:\n\n###[ How many vaccine recipients have a history of dementia at the time of vaccination? ]\nAnswer:\n\n###[ How many vaccine recipients have had a prior positive test for Hepatitis B or C at the time of vaccination? ]\nAnswer:\n\n###[ How many vaccine recipients have been diagnosed with Alzheimer's Disease at the time of vaccination? ]","6398":"###[ What is the number of vaccine recipients that had pneumonia when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had diabetes when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had asthma when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had COPD (Chronic Obstructive Pulmonary Disease) when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had dementia when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had chicken pox when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had GERD (Gastrointestinal E","3152":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"12\/01\/2018\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME","11214":"###[What are the top 5 states that have the most number of deaths among all the states]\nAnswer:\n\n###[What are the top 10 states that have the least number of deaths among all the states]\nAnswer:\n\n###[What are the top 3 states that have the highest percentage of deaths among all the states]\nAnswer:\n\n###[What are the top 3 states that have the lowest percentage of deaths among all the states]\nAnswer:\n\n###[What are the top 5 states that have the highest number of hospitalization days among all the states]\nAnswer:\n\n###[What are the top 5 states that have the lowest number of hospitalization days among all the states]\nAnswer:\n\n###[What are the top 3 states that have the highest percentage of hospitalization days among all the states]\nAnswer:\n\n###[What are the top","2634":"###[ How many patients are still alive on 04\/12\/2022. ]\nAnswer:\n\n###[ What is the average age of all patients who died in hospital on 04\/12\/2022. ]\nAnswer:\n\n###[ What is the average age of all patients who are still alive in hospital on 04\/12\/2022. ]\nAnswer:\n\n###[ What is the total number of deaths that occurred in the United States on 04\/12\/2022. ]\nAnswer:\n\n###[ What is the total number of patients who have ever been hospitalized in the United States on 04\/12\/2022. ]\nAnswer:\n\n###[ What is the percentage of deaths among all patients who were hospitalized in the United States on 04\/12\/20","6495":"###[ Which is the least common cmt for patients.]\nAnswer:\n\n###[ How many different types of cmt are there in total?]\nAnswer:\n\n###[ How many different types of cmt are there per state?]\nAnswer:\n\n###[ Which states have the highest number of unique cmts?]\nAnswer:\n\n###[ Which states have the lowest number of unique cmts?]\nAnswer:\n\n###[ Which states have the highest number of unique cmts per hospital?]\nAnswer:\n\n###[ Which states have the lowest number of unique cmts per hospital?]\nAnswer:\n\n###[ Which states have the highest number of unique cmts per hospital per vax type?]\nAnswer:\n\n###[ Which states have the lowest number of unique cmts per hospital per vax type?]\nAnswer:\n\n###[ Which states have the highest number of unique cmts","11620":"###[ How many people received PNEUMOVAC (NO BRAND NAME) shot. ]\nAnswer:\n\n###[ How many people received POLIOVAC (NO BRAND NAME) shot. ]\nAnswer:\n\n###[ How many people received TETANUS (NO BRAND NAME) shot. ]\nAnswer:\n\n###[ How many people received YELLOW FEVER (NO BRAND NAME) shot. ]\nAnswer:\n\n###[ How many people received ROTAVIRUS (NO BRAND NAME) shot. ]\nAnswer:\n\n###[ How many people received MODERNA (NO BRAND NAME) shot. ]\nAnswer:\n\n###[ How many people received COVISHIELD (NO BRAND NAME) shot. ]\nAnswer:\n\n###[ How many people received JOHNSON & JOHNSON (NO BRAND NAME) shot. ]\nAnswer:\n\n###[","58":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"RECVDATE\": \"01\/28\/2022\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES","2124":"###[ How many patients have Pap smears after vaccination? ]\nAnswer:\n\n###[ How many patients have Hepatitis B surface antigen (HBsAg) after vaccination? ]\nAnswer:\n\n###[ How many patients have Hepatitis C after vaccination? ]\nAnswer:\n\n###[ How many patients have Influenza after vaccination? ]\nAnswer:\n\n###[ How many patients have Meningococcal C conjugate after vaccination? ]\nAnswer:\n\n###[ How many patients have Polio after vaccination? ]\nAnswer:\n\n###[ How many patients have Tetanus after vaccination? ]\nAnswer:\n\n###[ How many patients have Diphtheria after vaccination? ]\nAnswer:\n\n###[ How many patients have Whooping cough after vaccination? ]","9736":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"03\/28\/2022\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_condition(question","4912":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Rapid Heartbeat\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401\n                        }\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ Provide all records that are male patients who received a Pfizer vaccine in Jan 2018. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"term\": {\n                        \"SEX\": \"Male\"\n                    }\n                },\n                {\n                    \"term\": {\n                        \"VAX_NAME\": \"<NAME>\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"VAX","3169":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"07\/01\/2018\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME","7135":"###[ Which state has the highest number of deaths among all states?]\nAnswer:\n\n###[ How many patients were diagnosed with lung cancer in 2018?]\nAnswer:\n\n###[ What are the top three symptoms that occur the most frequently among all patients who died?]\nAnswer:\n\n###[ What is the average age of a patient who died?]\nAnswer:\n\n###[ What is the average hospital days of a patient who died?]\nAnswer:\n\n###[ What is the percentage of patients who received at least one vaccine dose in their lifetime?]\nAnswer:\n\n###[ What is the percentage of patients who received at least two vaccine doses in their lifetime?]\nAnswer:\n\n###[ What is the percentage of patients who received at least three vaccine doses in their lifetime?]\nAnswer:\n\n###[","9886":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"04\/21\/2021\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ],\n            \"filter\": [{\"range\": {\"AGE_YRS\": {\"gte\": 50}}}]\n        }\n    },\n    \"_source\": [\"DIED\", \"HOSPITAL\"]\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string to parse\n    :return: Condition value as a string or None if no condition found\n    \"\"\"\n    # TODO: Implement me!\n    return None\n\n\ndef generate_elasticsearch_query(field_name, condition_value=None):\n    \"\"\"\n    Generates an Elasticsearch query given a field name and optional condition value\n\n    :param field_name: Field name of interest\n    :param condition_value:","879":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 48.0}}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_","7950":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"02\/28\/21\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_TYPE\": \"COMBO\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE","1750":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Urine sodium increased\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1609459200,\n                            \"lte\": 1637814400\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER","569":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"STATE\": \"MT\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Give me all the patients who has died in hospital.]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"term\": {\n                        \"DIED\": true\n                    }\n                },\n                {\n                    \"exists\": {\n                        \"field\": \"HOSPITAL\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Give me all the patients who has not been vaccinated]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"term\": {\n                        \"CUR_ILL\": false\n                    }\n                },\n                {\n                    \"term\": {\n                        \"PRIOR_VAX\": false\n                    }\n                }\n            ]","7549":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"methylphenidate\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"methylphenidate\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Find any cases where the vaccine recipients had a history of diabetes mellitus. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HISTORY\": \"diabetes me","9785":"###[ How many people are in the state of Washington who died after being vaccinated? ]\nAnswer:\n\n###[ What is the average age of all patients who received a Pfizer vaccine in the state of Washington?]\nAnswer:\n\n###[ What is the average age of all patients who received a Moderna vaccine in the state of Washington?]\nAnswer:\n\n###[ What is the average age of all patients who received an Oxford vaccine in the state of Washington?]\nAnswer:\n\n###[ What percentage of patients who received a Pfizer vaccine in the state of Washington died?]\nAnswer:\n\n###[ What percentage of patients who received a Moderna vaccine in the state of Washington died?]\nAnswer:\n\n###[ What percentage of patients who received an Oxford vaccine in the state of Washington died?","8727":"###[ List all the recipients who took POLIO VIRUS, INACT. and DENGUE TETRAVALENT after 2018-09-30]\nAnswer:\n\n###[ List all the recipients who took POLIO VIRUS, INACT. and DENGUE TETRAVALENT between 2018-09-30 to 2018-10-31]\nAnswer:\n\n###[ List all the recipients who took POLIO VIRUS, INACT. and DENGUE TETRAVALENT before 2018-09-30]\nAnswer:\n\n###[ List all the recipients who took POLIO VIRUS, INACT. and DENGUE TETRAVALENT after or equal to 2018-09-30]\nAnswer:\n\n###[ List all","9525":"{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"USJNJFOC20220104603\"\n          }\n        },\n        {\n          \"range\": {\n            \"TODAYS_DATE\": {\n              \"gte\": \"2022-01-01\",\n              \"lte\": \"2022-01-05\",\n              \"format\": \"yyyy-MM-dd\"\n            }\n          }\n        }\n      ],\n      \"filter\": []\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Pfizer-BioNTech?]\nAnswer:\n{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU","12306":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Pericardial effusion\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_NAME\": \"COVID-19 mRNA (nucleoside modified) Vaccine Moderna COVID-19 Vaccine Janssen (JANSSEN-CILAG)\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 20210305,\n              \"lte\": 20210405,\n              \"format\": \"yyyyMMdd\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.","7599":"###[ How many patients have died in the past year? ]\nAnswer:\n\n###[ How many patients have been hospitalized in the past 12 months? ]\nAnswer:\n\n###[ How many patients have had a visit with an Emergency Room doctor in the past 30 days?]\nAnswer:\n\n###[ How many patients have had a visit with a Hospital doctor in the past 30 days?]\nAnswer:\n\n###[ How many patients have not received any vaccines in the past 12 months?]\nAnswer:\n\n###[ How many patients have not received any vaccines in the past 6 months?]\nAnswer:\n\n###[ How many patients have not received any vaccines in the past 3 months?]\nAnswer:\n\n###[ How many patients have not received any vaccines in the past month?]\nAnswer:\n\n###","5017":"###[ Find the number of cases that the vaccine recipients had cbc test in 2018. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had cbc test in 2019. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had cbc test in 2020. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had cbc test in 2021. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had cbc test in 2022. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had cbc test in 2023. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had cbc test in 2024. ]","4116":"###[ What is the number of cases where onset date of adverse event symptom is before 03\/04\/2022. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is after 03\/04\/2022. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is between 03\/04\/2022 and 05\/04\/2022. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is not equal to 03\/04\/2022. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is less than or equal to 03\/04\/20","552":"{\n    \"query\": {\n        \"match\": {\n            \"STATE\": \"ME\"\n        }\n    }\n}\n\n###[ Give me all the patients who has died in the hospital. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"term\": {\n                        \"DIED\": true\n                    }\n                },\n                {\n                    \"exists\": {\n                        \"field\": \"HOSPITAL\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Give me all the patients who has not been vaccinated. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must_not\": {\n                \"exists\": {\n                    \"field\": \"VAX_DATE\"\n                }\n            }\n        }\n    }\n}\n\n###[ Give me all the patients who has not been vaccinated but received a Pfizer vaccine. ]\nAnswer","11726":"###[ What is the number of the cases where the vaccine recipient had Pfizer Combivax vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had Moderna vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had Janssen Combivax vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had a Pfizer-BioNTech vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had a Oxford\/AstraZeneca vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had a Sinovac vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had a Cov","11874":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"MENINGOCOCCAL\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"INFLUENZA\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES","8938":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"USPFIZER INC\"\n    }\n  },\n  \"size\": 10000\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field","6072":"###[ List all the patients who have died in hospital. ]\nAnswer:\n\n###[ List all the patients who have been vaccinated. ]\nAnswer:\n\n###[ List all the patients who have not been vaccinated. ]\nAnswer:\n\n###[ List all the patients who have had a flu shot. ]\nAnswer:\n\n###[ List all the patients who have not had a flu shot. ]\nAnswer:\n\n###[ List all the patients who have had a COVID-19 test. ]\nAnswer:\n\n###[ List all the patients who have not had a COVID-19 test. ]\nAnswer:\n\n###[ List all the patients who have had a PCR test. ]\nAnswer:\n\n###[ List all the patients who have not had a PCR test. ]\nAnswer:\n\n###[ List all the patients who have had a blood test. ]","7921":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"01\/28\/2021\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_TYPE\": \"COMBO\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: str\n    :return: list\n    \"\"\"\n\n    # TODO: Write your code here to extract the condition value from the question string.\n    return ['']\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    This function generates an Elasticsearch query given a field name and its corresponding condition value.\n    :param field_name: str\n    :param condition_value: str or int","11372":"'''\n\ndef get_condition(question):\n    '''\n    This function takes a question as input and returns the condition value of the field.\n    '''\n    if 'UN' in question or 'un' in question:\n        return ['UN']\n    elif 'OT' in question or 'ot' in question:\n        return ['OT']\n    else:\n        print('Please check your question.')\n\n\ndef generate_query(field_name, condition_value):\n    '''\n    This function generates an Elasticsearch query based on the field name and condition value.\n    '''\n    # Define the base query\n    query = {\n        \"size\": 10000,\n        \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\",\n                    \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE","5966":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"lyphodema diabetes\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"0\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 1583296000,\n              \"lte\": 1584728000\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: str\n    :return: list\n    \"\"\"\n\n    # TODO: Write your code here to extract the condition value from the question string.\n    return []\n\n\ndef generate_elasticsearch_","1072":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 92}}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\n###[ List all patients who have","3811":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"2021-10-16\",\n                            \"lte\": \"2021-10-16\"\n                        }\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"10\/16\/2021\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX","10609":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"#EW0191\"\n    }\n  },\n  \"size\": 25\n}\n\"\"\"\n\n\ndef get_field(question):\n    \"\"\"\n    Extracts the field name from a question string\n\n    :param question: String containing the question to be parsed\n    :return: Field name as a string\n    \"\"\"\n    return re.search(\"What is the (.*?) \", question).group(1)\n\n\ndef get_condition_value(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: String containing the question to be parsed\n    :return: Condition value as a string\n    \"\"\"\n    return re.search(\"The condition value for this field is(.*)\", question).group(\n        1\n    ).strip()\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    Generates an Elasticsearch query given","3445":"###[ How many patients are there in the dataset who have died after receiving a COVID-19 vaccine?]\nAnswer:\n\n###[ How many patients are there in the dataset who received at least one dose of Pfizer vaccine?]\nAnswer:\n\n###[ How many patients are there in the dataset who received at least two doses of Pfizer vaccine?]\nAnswer:\n\n###[ How many patients are there in the dataset who received at least three doses of Pfizer vaccine?]\nAnswer:\n\n###[ How many patients are there in the dataset who received at least four doses of Pfizer vaccine?]\nAnswer:\n\n###[ How many patients are there in the dataset who received at least five doses of Pfizer vaccine?]\nAnswer:\n\n###[ How many patients are there in the dataset who received at least six doses of P","6401":"###[ What is the number of vaccine recipients that died after receiving the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients who were hospitalized after receiving the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients who received a vaccination prior to the current one?]\nAnswer:\n\n###[ What is the number of vaccine recipients who received a second dose of the same vaccine before the current one?]\nAnswer:\n\n###[ What is the number of vaccine recipients who received a booster dose of the same vaccine before the current one?]\nAnswer:\n\n###[ What is the number of vaccine recipients who received a jab (without a previous vaccine)?]\nAnswer:\n\n###[ What is the number of vaccine recipients who received a jab (with a previous vaccine)?]\nAnswer:\n\n###","5439":"'''\n\ndef get_condition(question):\n    '''\n    This function takes in a question string and returns the condition value\n\n    Parameters\n    ----------\n    question : str\n        Question string that needs to be parsed\n\n    Returns\n    -------\n    condition : str\n        Condition value extracted from the question string\n\n    '''\n    \n    # Split the question into words\n    words = question.split()\n    \n    # Find the index where 'is' occurs\n    idx = words.index('is')\n    \n    # Get the condition value by slicing the list starting from the word after 'is'\n    condition = \" \".join(words[(idx+1):])\n    \n    return condition\n\n\ndef generate_query(field_name, condition):\n    '''\n    This function generates an Elasticsearch query given a field name and its corresponding condition value\n\n    Parameters\n    ----------\n    field_name : str\n        Field name whose condition value will be used to construct the Elasticsearch query\n    condition : str\n        Condition value that will be used to construct the Elasticsearch query","6031":"###[ List all the patients who have been diagnosed with cancer. ]\nAnswer:\n\n###[ List all the patients who have been diagnosed with heart disease. ]\nAnswer:\n\n###[ List all the patients who have been diagnosed with stroke. ]\nAnswer:\n\n###[ List all the patients who have been diagnosed with dementia. ]\nAnswer:\n\n###[ List all the patients who have been diagnosed with Alzheimer's Disease. ]\nAnswer:\n\n###[ List all the patients who have been diagnosed with Parkinson's Disease. ]\nAnswer:\n\n###[ List all the patients who have been diagnosed with HIV\/AIDS. ]\nAnswer:\n\n###[ List all the patients who have been diagnosed with Suicide. ]\nAnswer:\n\n###[ List all the patients who have been diag","6326":"###[ What type of vaccine was given to these patients? ]\nAnswer:\n\n###[ Which state has the most number of deaths due to COVID-19? ]\nAnswer:\n\n###[ Which state has the highest number of hospitalizations due to COVID-19? ]\nAnswer:\n\n###[ Which state has the highest number of cases due to COVID-19? ]\nAnswer:\n\n###[ Which state has the highest number of new cases due to COVID-19 in the last 2 weeks? ]\nAnswer:\n\n###[ Which state has the highest number of new deaths due to COVID-19 in the last 2 weeks? ]\nAnswer:\n\n###[ Which state has the highest number of new hospitalizations due to COVID-19 in the last 2 weeks? ]\nAnswer:\n\n###[ Which state has the lowest number of new cases due to COVID-19","1840":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Cardiomyopathy acute\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"VAX_DATE\": {\n                            \"gte\": 1609459200000,\n                            \"lte\": 1638771200000\n                        }\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR","10832":"###[ List all the records where they took their shot in u022722. ]\n\n###[ List all the records where they took their shot in u022722. ]\n\n###[ List all the records where they took their shot in u022722. ]\n\n###[ List all the records where they took their shot in u022722. ]\n\n###[ List all the records where they took their shot in u022722. ]\n\n###[ List all the records where they took their shot in u022722. ]\n\n###[ List all the records where they took their shot in u022722. ]\n\n###[ List all the records where they took their shot in u022722. ]\n\n###[ List all the records where they took their shot in u02","3857":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"2021-12-01\"\n                        }\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"12\/01\/2021\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU","1941":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Tissue Injury\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"0\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 20190301,\n              \"lte\": 20190401,\n              \"format\": \"yyyyMMdd\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string to parse\n    :return: Condition value extracted from the question string\n    \"\"\"\n    # TODO: Implement this function!\n    return None\n\n\ndef generate_elasticsearch_query(field_","4424":"'''\n\ndef get_condition(field):\n    if field == 'RECVDATE':\n        return ['>=', '2021-08-01']\n    elif field == 'STATE':\n        return ['=', 'VA']\n    elif field == 'AGE_YRS':\n        return ['>', 59]\n    elif field == 'VAERS_ID':\n        return ['!=', '']\n    elif field == 'SEX':\n        return ['=', 'F']\n    elif field == 'SYMPTOM_TEXT':\n        return ['!=', '']\n    elif field == 'DIED':\n        return ['=','']\n    elif field == 'ER_VISIT':\n        return ['=','']\n    elif field == 'L_THREAT':\n        return ['=','']\n    elif field == 'HOSPITAL':\n        return ['=','']\n    elif field == 'HOSPDAYS':\n        return ['=','']\n    elif field == '","10829":"###[ List all the records where they did not take their shot in E13247. ]\nAnswer:\n\n###[ List all the records where they took their shot in E13247 but did not die. ]\nAnswer:\n\n###[ List all the records where they took their shot in E13247 but died. ]\nAnswer:\n\n###[ List all the records where they did not take their shot in E13247 but died. ]\nAnswer:\n\n###[ List all the records where they did not take their shot in E13247 but did not die. ]\nAnswer:\n\n###[ List all the records where they took their shot in E13247 but did not die or died. ]\nAnswer:\n\n###[ List all the records where they did not take their shot in E13247 but did","4153":"###[ What is the number of cases where onset date of adverse event symptom is greater than or equal to 07\/28\/2021. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is less than or equal to 07\/28\/2021. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is between 07\/28\/2021 and 07\/30\/2021 (inclusive).]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is not between 07\/28\/2021 and 07\/30\/2021 (inclusive).]\nAnswer:\n\n###[ What is the number of cases where on","1627":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"eyelid\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1609459200\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TO","11654":"###[ How many people received INFLUENZA (SEASONAL) (NO BRAND NAME) shot in 2019?]\nAnswer:\n\n###[ How many people received INFLUENZA (SEASONAL) (NO BRAND NAME) shot in 2018?]\nAnswer:\n\n###[ How many people received INFLUENZA (SEASONAL) (NO BRAND NAME) shot in 2017?]\nAnswer:\n\n###[ How many people received INFLUENZA (SEASONAL) (NO BRAND NAME) shot in 2016?]\nAnswer:\n\n###[ How many people received INFLUENZA (SEASONAL) (NO BRAND NAME) shot in 2015?]\nAnswer:\n\n###[ How many people received INFLUENZA (SEASONAL) (NO B","1194":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 107.0}}}\n            ],\n            \"filter\": [\n                {\"term\": {\"DIED\": \"N\"}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"V","9636":"{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"USPFIZER INC\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_LOT\": \"2021535457\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Pfizer Inc?]\nAnswer:\n{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"Pfizer Inc\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Moderna Inc?]\nAnswer:\n{\n  \"size\": 0,","11878":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"INFLUENZA (SEASONAL) (FLUZONE HIGH-DOSE)\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"POLIO VIRUS, INACT. (IPOL)\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: str\n    :return:","8916":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"USPFIZER INC\"\n    }\n  },\n  \"size\": 10000\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field","163":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"03\/31\/2022\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_condition(question","1833":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Selective IgG\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"VAX_DATE\": {\n                            \"gte\": 20190830\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TO","7393":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"natural rubber\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"allergy\"\n                    }\n                }\n            ],\n            \"filter\": {\n                \"range\": {\n                    \"AGE_YRS\": {\n                        \"gte\": 18\n                    }\n                }\n            }\n        }\n    }\n}\n\n###[ Show me all the patients who has a history of diabetes. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HISTORY\": \"diabetes\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 18\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[","3913":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"08\/27\/2000\"\n                        }\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"08\/27\/2000\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Give me all the patients who were diagnosed with cancer in 2015. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"DIAGNOSIS_DATE\": {\n                            \"gte\": \"01\/01\/2015\",\n                            \"lte\": \"12\/31\/2015\"\n                        }\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DI","8638":"###[ List all the patients who died in hospital after receiving a COVID vaccine. ]\nAnswer:\n\n###[ List all the patients who are 60 years old or older and have had at least one of these conditions: Diabetes, Heart Disease, Chronic Kidney Disease, Asthma, Obesity, Pneumonia, Lung Cancer, Rheumatoid Arthritis, Migraine Headaches, Gout, Stroke, Immunodeficiency, Cancer, Alzheimers, Epilepsy, HIV\/AIDS, Tuberculosis, Emphysema, Ulcerative Colitis, Bipolar Disorder, Pancreatitis, Osteoporosis, Anemia, Acute Myocardial Infarction, Renal Failure, Thyroid Disease, Herpes, Chickenpox, Ty","11100":"{\n    \"query\": {\n        \"match\": {\n            \"VAX_DOSE_SERIES\": \"UNK\"\n        }\n    },\n    \"size\": 10000\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: String containing the question to be parsed.\n    :return: Condition value of the question.\n    \"\"\"\n\n    # Split the question into words using space as delimiter.\n    split = question.split(\" \")\n\n    # Find the index of the word 'is'.\n    idx = split.index('is') + 1\n\n    # Get the condition value by slicing the list after the index of 'is' plus one (to remove the word 'is').\n    cond_val = split[idx:]\n\n    # Join the condition value back together with spaces.\n    cond_val = \" \".join(cond_val)","1581":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Perfume\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1609459200,\n                            \"lte\": 1637814400\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS","4706":"###[How many patients are there in total?]\nAnswer:\n\n###[What percentage of all patients are eligible for a COVID-19 vaccine?]\nAnswer:\n\n###[What percentage of all patients who received at least one dose of COVID-19 vaccine were eligible for a second dose?]\nAnswer:\n\n###[What percentage of all patients who received at least two doses of COVID-19 vaccine were eligible for a third dose?]\nAnswer:\n\n###[What percentage of all patients who received at least three doses of COVID-19 vaccine were eligible for a fourth dose?]\nAnswer:\n\n###[What percentage of all patients who received at least four doses of COVID-19 vaccine were eligible for a fifth dose?]\nAnswer:\n\n###[What percentage of all patients who received at least five do","10253":"\"\"\"\nimport json\nfrom elasticsearch import Elasticsearch\n\n\ndef get_es():\n    es = Elasticsearch(\n        hosts=[{'host': 'localhost', 'port': 9200}],\n        http_auth=('elastic', '<PASSWORD>'),\n        scheme=\"https\",\n        retry_on_timeout=True,\n        max_retries=10\n    )\n\n    return es\n\n\ndef search_by_field_name(es):\n    # Search by field name\n    body = {\n        \"query\": {\n            \"match\": {\"STATE\": \"TX\"}\n        }\n    }\n    res = es.search(index='vaersdata', doc_type='_doc', body=body)\n    print(\"Got %d Hits:\" % res['hits']['total'])\n    for hit in res['hits']['hits']:\n        print(\"%(timestamp)s %(author)s: %(text)s\" % hit[\"_source\"])\n\n\ndef search_by_condition_","6321":"###[ How many vaccine recipients have a history of asthma at the time of vaccination? ]\nAnswer:\n\n###[ How many vaccine recipients have a history of diabetes mellitus at the time of vaccination? ]\nAnswer:\n\n###[ How many vaccine recipients have a history of heart disease at the time of vaccination? ]\nAnswer:\n\n###[ How many vaccine recipients have a history of hypertension at the time of vaccination? ]\nAnswer:\n\n###[ How many vaccine recipients have a history of obesity at the time of vaccination? ]\nAnswer:\n\n###[ How many vaccine recipients have a history of pneumonia at the time of vaccination? ]\nAnswer:\n\n###[ How many vaccine recipients have a history of sickle cell anemia at the time of vaccination? ]","6053":"###[ List all the patients who have diabetes mellitus. ]\nAnswer:\n\n###[ List all the patients who have asthma. ]\nAnswer:\n\n###[ List all the patients who have heart disease. ]\nAnswer:\n\n###[ List all the patients who have cancer. ]\nAnswer:\n\n###[ List all the patients who have chronic lung disease. ]\nAnswer:\n\n###[ List all the patients who have kidney disease. ]\nAnswer:\n\n###[ List all the patients who have liver disease. ]\nAnswer:\n\n###[ List all the patients who have dementia. ]\nAnswer:\n\n###[ List all the patients who have epilepsy. ]\nAnswer:\n\n###[ List all the patients who have stroke. ]\nAnswer:\n\n###[ List all the patients who have a respiratory illness. ]","9215":"###[ What is the number of records that the vaccine recipient did not get any vaccines. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient was hospitalized in a medical facility. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient died after getting the vaccine. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient had an emergency room visit. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient received a COVID-19 test result of \u201cpositive\u201d or \u201cnegative\u201d. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient has a history of cancer. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient has a history of heart disease. ]\nAnswer:\n\n###[ What is the","6294":"###[ How many vaccine recipients have died after receiving the vaccine? ]\nAnswer:\n\n###[ How many vaccine recipients received a Pfizer-BioNTech vaccine in the last 30 days? ]\nAnswer:\n\n###[ How many vaccine recipients received a Moderna vaccine in the last 30 days? ]\nAnswer:\n\n###[ How many vaccine recipients received an Oxford\/AstraZeneca vaccine in the last 30 days? ]\nAnswer:\n\n###[ How many vaccine recipients received a Janssen vaccine in the last 30 days? ]\nAnswer:\n\n###[ How many vaccine recipients received a Covaxin vaccine in the last 30 days? ]\nAnswer:\n\n###[ How many vaccine recipients received a Sinovac vaccine in the last 30 days? ]\nAnswer:","1135":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 89}}}\n            ],\n            \"filter\": [\n                {\"term\": {\"DIED\": \"N\"}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME","6840":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"arterial stent\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 18,\n                            \"lte\": 90\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n    \"\"\"Test generate_elasticsearch_query function.\"\"\"\n\n    # Test case 1\n    assert (\n        generate_elasticsearch_query(\n            \"RECVDATE\", [\"arterial stent\"], {\"DIED\": \"0\"}, {\"AGE_YRS\": {\"gte\": 18, \"lte\": 90}}\n        )\n        == expected_result_case_1","1013":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 103}}},\n                {\"match\": {\"DIED\": \"Y\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ],\n            \"filter\": [{\"term\": {\"VAX_TYPE\": \"JANSSEN\/JEFFERSON (INACTIVATED)\"}}],\n            \"should\": [],\n            \"must_not\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS","1604":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Muscle Fatigue\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1609459200,\n                            \"lte\": 1635788800\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA","4983":"###[ Find the number of cases that the vaccine recipients had a negative test result. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients were hospitalized. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients died. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients received a second dose of the vaccine. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients received a booster shot. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients received a jab (without a booster).]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients received a single-dose vaccine. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients received a two-dose vaccine. ]\nAnswer:","11070":"###[How many people have been injected with 2102142 in California]\nAnswer:\n\n###[How many people have been injected with 2102142 in California who died]\nAnswer:\n\n###[How many people have been injected with 2102142 in California who did not die]\nAnswer:\n\n###[How many people have been injected with 2102142 in California who were hospitalized]\nAnswer:\n\n###[How many people have been injected with 2102142 in California who were not hospitalized]\nAnswer:\n\n###[How many people have been injected with 2102142 in California who had a vaccine administered by CVS Pharmacy]\nAnswer:\n\n###[How many people have been injected with 2102142 in California","6735":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Mastectomy\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"1\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ Search all the patients who have died in hospital after receiving a vaccine. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": 1\n                    }\n                },\n                {\n                    \"range\": {\n                        \"HOSPDAYS\": {\n                            \"gt\": 0\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Search all the patients who have been diagnosed with cancer. ]\nAnswer:\n{\n    \"query\":","6811":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"nerve\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"1\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 0,\n                            \"lte\": 25\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Search all the patients who have died in hospital. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HOSPITAL\": \"1\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"1\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"AGE","12014":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"VAX_NAME\": \"Zoster\"}},\n                {\"match\": {\"VAX_NAME\": \"Acthib\"}}\n            ]\n        }\n    },\n    \"_source\": [\"VAERS_ID\"]\n}\n\n###[ List all the patients who got at least one of these two vaccines: Pfizer-BioNTech or Moderna]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"should\": [\n                {\"match\": {\"VAX_NAME\": \"Pfizer-BioNTech\"}},\n                {\"match\": {\"VAX_NAME\": \"Moderna\"}}\n            ]\n        }\n    },\n    \"_source\": [\"VAERS_ID\"]\n}\n\n###[ List all the patients who got both Pfizer-BioNTech and Moderna vaccines.]\nAnswer:\n{\n    \"query\": {\n        \"","6601":"###[ Which is the most common autoimmune hepatitis for patients.]\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### entify the filed name first, then extract the specific condition values from the question","89":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"RECVDATE\": \"05\/24\/2022\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES","11649":"###[ How many people received INFLUENZA (SEASONAL) (FLUZONE) shot in 2019?]\nAnswer:\n\n###[ How many people received INFLUENZA (SEASONAL) (FLUZONE) shot in 2018?]\nAnswer:\n\n###[ How many people received INFLUENZA (SEASONAL) (FLUZONE) shot in 2017?]\nAnswer:\n\n###[ How many people received INFLUENZA (SEASONAL) (FLUZONE) shot in 2016?]\nAnswer:\n\n###[ How many people received INFLUENZA (SEASONAL) (FLUZONE) shot in 2015?]\nAnswer:\n\n###[ How many people received INFLUENZA (SEASONAL) (FLUZONE) shot in","9507":"{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"USPFIZER INC\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_LOT\": \"2021620510\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Pfizer Inc?]\nAnswer:\n{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"Pfizer Inc\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Moderna Inc?]\nAnswer:\n{\n  \"size\": 0,","12018":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"MENINGOCOCCAL CONJUGATE\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"DTAP + IPV\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ List all the patients who got PNEUMOVAX (PNEUMOVAX-1) vaccine and DTAP + IPV (QUADRACEL) vaccine. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"PNEUMOVAX-1\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"DTAP + IPV\"\n                    }\n                }\n            ]\n        }\n    }","9579":"{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"USPFIZER INC\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_LOT\": \"2021612504\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Pfizer Inc?]\nAnswer:\n{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"Pfizer Inc\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Moderna Inc?]\nAnswer:\n{\n  \"size\": 0,","5084":"###[ Find the number of cases that the vaccine recipients had lipase test in California. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had lipase test in California who died. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had lipase test in California who did not die. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had lipase test in California who were hospitalized. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had lipase test in California who were not hospitalized. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had lipase test in California who received a Pfizer vaccine. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had lipase test in California","10224":"{\n    \"query\": {\n        \"match\": {\n            \"VAX_NAME\": \"DTAPIPVHIB\"\n        }\n    }\n}\n\n###[ Return all the cases where the vaccine recipient did not get DTAPSVHIB. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must_not\": {\n                \"match\": {\n                    \"VAX_NAME\": \"DTAPSVHIB\"\n                }\n            }\n        }\n    }\n}\n\n###[ Return all the cases where the vaccine recipient got DTAPSVHIB or DTAPIPVHIB. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"should\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"DTAPSVHIB\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"DTAPIPVHIB\"\n                    }\n                }\n            ]\n        }","3853":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": \"06\/01\/2016\"\n            }\n          }\n        },\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"06\/01\/2016\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[ Give me all the patients who were diagnosed with cancer in 2017. ]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"range\": {\n            \"DIAGNOSIS_DATE\": {\n              \"gte\": \"01\/01\/2017\",\n              \"lte\": \"31\/12\/2017\"\n            }\n          }\n        },\n        {\n          \"match\": {\n            \"DI","905":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 66.0}}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_","3346":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"06\/19\/2021\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME","1435":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"02\/15\/2022\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ],\n            \"filter\": [{\"range\": {\"AGE_YRS\": {\"gte\": 0}}}]\n        }\n    },\n    \"_source\": [\"*\"]\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string to parse\n    :return: Condition value as a string or None if no condition found\n    \"\"\"\n    # TODO: Implement this function!\n    return None\n\n\ndef generate_elasticsearch_query(field_name, condition_value=None):\n    \"\"\"\n    Generates an Elasticsearch query given a field name and optional condition value\n\n    :param field_name: Field name of interest\n    :param condition_value: Optional condition value (if any","11870":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"VAX_NAME\": \"HPV (GARDASIL)\"}},\n                {\"match\": {\"VAX_NAME\": \"VACCINE NOT SPECIFIED (NO BRAND NAME)\"}}\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Given a list of conditions\n    conditions = [\"HPV (GARDASIL)\", \"VACCINE NOT SPECIFIED (NO BRAND NAME)\"]\n\n    # When generate_elasticsearch_query function is called\n    elasticsearch_query = generate_elasticsearch_query(conditions)\n\n    # Then it should return an Elasticsearch query\n    assert elasticsearch_query == expected_elasticsearch_query","12555":"###[ What are the top 5 states in terms of number of deaths due to COVID-19? ]\nAnswer:\n\n###[ Which state has the highest number of deaths due to COVID-19? ]\nAnswer:\n\n###[ Which state has the lowest number of deaths due to COVID-19? ]\nAnswer:\n\n###[ Which state has the highest number of cases due to COVID-19? ]\nAnswer:\n\n###[ Which state has the lowest number of cases due to COVID-19? ]\nAnswer:\n\n###[ Which state has the highest number of hospitalizations due to COVID-19? ]\nAnswer:\n\n###[ Which state has the lowest number of hospitalizations due to COVID-19? ]\nAnswer:\n\n###[ Which state has the highest number of tests done due to COVID-19? ]\nAnswer:\n\n###[ Which state","8605":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"ADENOVIRUS TYPES 4 & 7\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"LIVE\"\n          }\n        },\n        {\n          \"match\": {\n            \"TODAYS_DATE\": \"ORAL\"\n          }\n        },\n        {\n          \"match\": {\n            \"OTHER_MEDS\": \"INFLUENZA\"\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Given a list of conditions\n    conditions = [\"ADENOVIRUS TYPES 4 & 7\",\n                  \"LIVE\",\n                  \"ORAL\",\n                  \"INFLUENZA\"]\n\n    # When I generate an elasticsearch query\n    es_query = generate_elasticsearch_query(conditions)","12911":"###[ what are the top 5 states that have the highest number of deaths among all patients who received at least one dose of Pfizer-BioNTech vaccine in the United States?]\nAnswer:\n\n###[ how many patients were there in each state?]\nAnswer:\n\n###[ what is the average age of a patient who received at least one dose of Pfizer-BioNTech vaccine in the United States?]\nAnswer:\n\n###[ what is the average age of a patient who received at least one dose of Moderna vaccine in the United States?]\nAnswer:\n\n###[ what is the average age of a patient who received at least one dose of Janssen vaccine in the United States?]\nAnswer:\n\n###[ what is the average age of a patient who received at least two doses of any vaccine in the United States?]\nAnswer:","5610":"###[ Find the number of cases where the vaccine recipients had fentanyl at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had oxycodone at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had percocet at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had tobramycin at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had zanamivir at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had amoxicillin at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the","1012":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 22, \"lte\": 22}}},\n                {\"match\": {\"DIED\": \"Y\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DO","3717":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"ONSET_DT\": \"11\/01\/2014\"\n          }\n        },\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"11\/01\/2014\"\n          }\n        }\n      ]\n    }\n  }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT","2254":"###[ what are the top 5 states that have the highest number of deaths among all states in the US]\nAnswer:\n\n###[ what are the top 10 states that have the highest number of deaths among all states in the US]\nAnswer:\n\n###[ what are the top 3 states that have the lowest number of deaths among all states in the US]\nAnswer:\n\n###[ what are the top 5 states that have the lowest number of deaths among all states in the US]\nAnswer:\n\n###[ what are the top 10 states that have the highest number of hospitalization days among all states in the US]\nAnswer:\n\n###[ what are the top 20 states that have the highest number of hospitalization days among all states in the US]\nAnswer:\n\n###[ what are the top 10 states that have the lowest number of hospitalization days among","6203":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"alcoholic cirrhosis-\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"1\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 20200301,\n              \"lte\": 20200401,\n              \"format\": \"yyyyMMdd\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: String containing the question to be parsed.\n    :return: Condition value of the question as a string.\n    \"\"\"\n\n    # Split the question into words","8510":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"INFLUENZA\"\n          }\n        },\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"DTAP\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 1583296000,\n              \"lte\": 1584728000\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_","3917":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"05\/29\/2021\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"N\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": \"2021-04-30\",\n              \"lte\": \"2021-06-07T00:00:00Z\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    For example, if the question was 'What are the conditions for receiving an influenza vaccine?'\n    Then it would return ['","380":"###[ Find the state that has the highest number of deaths among all states]\nAnswer:\n\n###[ Find the state that has the lowest number of deaths among all states]\nAnswer:\n\n###[ Find the state that has the highest number of hospitalization days among all states]\nAnswer:\n\n###[ Find the state that has the lowest number of hospitalization days among all states]\nAnswer:\n\n###[ Find the state that has the highest number of vaccine doses given out among all states]\nAnswer:\n\n###[ Find the state that has the lowest number of vaccine doses given out among all states]\nAnswer:\n\n###[ Find the state that has the highest number of patients who received at least one Pfizer vaccine in Jan-2022]\nAnswer:\n\n###[ Find the state that has the highest number of patients who received at least two Pfizer vacc","357":"###[ How many patients' record are received before 1985-01-01]\nAnswer:\n\n###[ How many patients' record are received after 2020-01-01]\nAnswer:\n\n###[ How many patients' record are received in California]\nAnswer:\n\n###[ How many patients' record are received in New York]\nAnswer:\n\n###[ How many patients' record are received in Texas]\nAnswer:\n\n###[ How many patients' record are received in Florida]\nAnswer:\n\n###[ How many patients' record are received in Georgia]\nAnswer:\n\n###[ How many patients' record are received in Pennsylvania]\nAnswer:\n\n###[ How many patients' record are received in Ohio]\nAnswer:\n\n###[ How many patients' record are received in Michigan]","12185":"###[ How many people received DTAP + IPV (KINRIX) vaccine and ROTAVIRUS (ROTARIX) vaccine in 2019. ]\nAnswer:\n\n###[ How many people received DTAP + IPV (KINRIX) vaccine and ROTAVIRUS (ROTARIX) vaccine in 2018. ]\nAnswer:\n\n###[ How many people received DTAP + IPV (KINRIX) vaccine and ROTAVIRUS (ROTARIX) vaccine in 2017. ]\nAnswer:\n\n###[ How many people received DTAP + IPV (KINRIX) vaccine and ROTAVIRUS (ROTARIX) vaccine in 2016. ]\nAnswer:\n\n###[ How many people received DTAP + IPV (KINRIX) vaccine and ROTAVIRUS (ROTARIX","6990":"###[ How many patients have diabetes?]\nAnswer:\n\n###[ How many patients are over 60 years old?]\nAnswer:\n\n###[ How many patients are male?]\nAnswer:\n\n###[ How many patients are female?]\nAnswer:\n\n###[ How many patients are not reported to have diabetes?]\nAnswer:\n\n###[ How many patients are not reported to have heart disease?]\nAnswer:\n\n###[ How many patients are not reported to have lung disease?]\nAnswer:\n\n###[ How many patients are not reported to have cancer?]\nAnswer:\n\n###[ How many patients are not reported to have kidney disease?]\nAnswer:\n\n###[ How many patients are not reported to have liver disease?]\nAnswer:\n\n###[ How many patients are not reported to have stroke?]\nAnswer:","2909":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"DIED\": \"1\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"HOSPDAYS\": {\n                            \"gte\": 55.0,\n                            \"lte\": 55.0\n                        }\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ List all the vaccine recipients who died in a hospital between 2019-08-30 to 2019-09-04]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"DIED\": \"1\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"2019-08-30\",\n                            \"lte","6658":"{\n    \"query\": {\n        \"match\": {\n            \"SYMPTOM_TEXT\": \"contraception\"\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### entify","5288":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"larin\"\n          }\n        },\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"fe\"\n          }\n        },\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"1\/20\"\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_parse_question():\n    assert parse_question(QUESTION) == EXPECTED_RESULT","7666":"###[ How many patients are allergic to aspirin? ]\nAnswer:\n\n###[ How many patients have died in the past year? ]\nAnswer:\n\n###[ How many patients have had an emergency room visit in the last 12 months? ]\nAnswer:\n\n###[ How many patients have received a flu vaccine in the past year? ]\nAnswer:\n\n###[ How many patients have received a flu vaccine in the past year? ]\nAnswer:\n\n###[ How many patients have received a flu vaccine in the past year? ]\nAnswer:\n\n###[ How many patients have received a flu vaccine in the past year? ]\nAnswer:\n\n###[ How many patients have received a flu vaccine in the past year? ]\nAnswer:\n\n###[ How many patients have received a flu vaccine in the past year? ]","7184":"###[ Which is the most common fibrocystic breast for patients.]\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### entify the filed name first, then extract the specific condition values from the question","3732":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"RECVDATE\": \"08\/15\/2019\"\n          }\n        },\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"onset date of adverse event symptoms\"\n          }\n        }\n      ]\n    }\n  }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, V","1093":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 4.0}}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\n###[ List all patients who","9664":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"02\/23\/2022\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_field(question","6117":"{\n    \"query\": {\n        \"match\": {\n            \"SYMPTOM_TEXT\": \"arthritis\"\n        }\n    }\n}\n\n###[ Return all the cases where the vaccine recipients was reported diabetes. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"SYMPTOM_TEXT\": \"diabetes\"\n        }\n    }\n}\n\n###[ Return all the cases where the vaccine recipients was reported asthma. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"SYMPTOM_TEXT\": \"asthma\"\n        }\n    }\n}\n\n###[ Return all the cases where the vaccine recipients was reported heart attack. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"SYMPTOM_TEXT\": \"heart attack\"\n        }\n    }\n}\n\n###[ Return all the cases where the","38":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"RECVDATE\": \"01\/08\/2022\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES","5846":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"CLINICAL_NOTES\": \"cyanocobalamino\"\n          }\n        },\n        {\n          \"match\": {\n            \"CLINICAL_NOTES\": \"injection\"\n          }\n        },\n        {\n          \"match\": {\n            \"CLINICAL_NOTES\": \"1\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[Is there any patients who was taking 20mg of cefepime (tablet) in the past year?]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"range\": {\n            \"PRIOR_VAX\": {\n              \"gte\": \"now-1y\",\n              \"lte\": \"now\"\n            }\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_NAME\": \"cefep","175":"{\n    \"query\": {\n        \"match\": {\n            \"RECVDATE\": \"04\/13\/2022\"\n        }\n    }\n}\n\n###[ Find all cases that are male. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"SEX\": \"Male\"\n        }\n    }\n}\n\n###[ Find all cases that have died. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"DIED\": \"Yes\"\n        }\n    }\n}\n\n###[ Find all cases that were hospitalized. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"HOSPITAL\": \"Yes\"\n        }\n    }\n}\n\n###[ Find all cases that received a flu vaccine. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"VAX_NAME\": \"","7684":"###[ How many patients are allergic to atenolol? ]\nAnswer:\n\n###[ How many patients are allergic to acetaminophen? ]\nAnswer:\n\n###[ How many patients are allergic to albuterol? ]\nAnswer:\n\n###[ How many patients are allergic to buprenorphine? ]\nAnswer:\n\n###[ How many patients are allergic to citalopram? ]\nAnswer:\n\n###[ How many patients are allergic to diltiazem? ]\nAnswer:\n\n###[ How many patients are allergic to levorphanol? ]\nAnswer:\n\n###[ How many patients are allergic to metoprolol? ]\nAnswer:\n\n###[ How many patients are allergic to phenylephrine? ]\nAnswer:\n\n###[ How many patients are allerg","5534":"###[ Find the number of cases where the vaccine recipients had flu at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had pneumonia at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had diabetes mellitus at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had cancer at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had heart disease at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had lung disease at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had kidney disease at","965":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 39}}},\n                {\"match\": {\"DIED\": \"Y\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"V","7835":"\"\"\"\nimport json\nfrom elasticsearch import Elasticsearch\nes = Elasticsearch()\n\n\ndef get_all_fields(index):\n    \"\"\"\n    This function returns a list of fields in the index\n    :param index: Index name\n    :return: List of fields\n    \"\"\"\n\n    # Get mapping\n    res = es.indices.get_mapping(index=index)\n    mappings = res[list(res.keys())[0]]['mappings']\n    return list(mappings.keys())\n\n\ndef get_field_name(question):\n    \"\"\"\n    This function returns the field name mentioned in the question\n    :param question: Question string\n    :return: Field name\n    \"\"\"\n    if 'What' not in question or 'is' not in question:\n        raise Exception('Question format incorrect')\n    start = question.find('What') + 4\n    end = question.find('is') - 1\n    return question[start:end].strip().lower()\n\n\ndef","3334":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"01\/13\/2022\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_TYPE\": \"JANSSEN\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string to parse\n    :return: Condition value extracted from the question string\n    \"\"\"\n    # TODO: Implement this function!\n    return None\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    Generates an Elasticsearch query given a field name and its corresponding condition value\n\n    :param field_name: Field name of interest\n    :param condition_value: Condition value associated with the field name\n    :return","8014":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"10\/4\/21\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"STATE\": \"VA\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ List all the records who was vaccinated on 10\/4\/21 in VA state. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"10\/4\/21\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"STATE\": \"VA\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ List all the records who was vaccinated on 10\/4\/2","4715":"###[How many patients are there in each state?]\nAnswer:\n\n###[What is the average age of all patients who received at least one dose of Pfizer-BioNTech vaccine?]\nAnswer:\n\n###[What percentage of patients who received at least one dose of Pfizer-BioNTech vaccine died within 1 year after receiving their second dose?]\nAnswer:\n\n###[What percentage of patients who received at least two doses of Pfizer-BioNTech vaccine died within 1 year after receiving their second dose?]\nAnswer:\n\n###[What percentage of patients who received at least three doses of Pfizer-BioNTech vaccine died within 1 year after receiving their third dose?]\nAnswer:\n\n###[What percentage of patients who received at least four doses of Pfizer-BioNTech v","9003":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"USJNJFOC20220201352\"\n    }\n  },\n  \"size\": 10000\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    For example, if the question was 'What are the symptoms?', it would return ['symptom']\n    If the question was 'How many people have died?' it would return ['died', 'death']\n    :param question: str\n        Question to be parsed into conditions\n    :return: list\n        List of strings containing the conditions extracted from the question\n    \"\"\"\n\n    # TODO: Write your code here\n    pass\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    This function generates an Elasticsearch query given a field name and its","9639":"{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"USPFIZER INC\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_LOT\": \"202101449244\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Pfizer Inc?]\nAnswer:\n{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"Pfizer Inc\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Moderna Inc?]\nAnswer:\n{\n  \"size\": 0","6274":"###[ How many vaccine recipients have died after receiving their second dose of a Pfizer-BioNTech vaccine? ]\nAnswer:\n\n###[ How many vaccine recipients have died after receiving their second dose of a Moderna vaccine? ]\nAnswer:\n\n###[ How many vaccine recipients have died after receiving their second dose of a Janssen vaccine? ]\nAnswer:\n\n###[ How many vaccine recipients have died after receiving their second dose of a Covaxin vaccine? ]\nAnswer:\n\n###[ How many vaccine recipients have died after receiving their second dose of a Sinovac vaccine? ]\nAnswer:\n\n###[ How many vaccine recipients have died after receiving their second dose of a AstraZeneca vaccine? ]\nAnswer:\n\n###[ How many vaccine recipients have died after receiving their second","9149":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"USPFIZER INC\"\n    }\n  },\n  \"size\": 5000\n}\n\n###[ Search for any cases where the vaccine recipient got a Pfizer-BioNTech vaccine. ]\nAnswer:\n{\n  \"query\": {\n    \"match\": {\n      \"VAX_NAME\": \"<NAME>\"\n    }\n  },\n  \"size\": 5000\n}\n\n###[ Search for any cases where the vaccine recipient got a Moderna vaccine. ]\nAnswer:\n{\n  \"query\": {\n    \"match\": {\n      \"VAX_NAME\": \"Moderna\"\n    }\n  },\n  \"size\": 5000\n}\n\n###[ Search for any cases where the vaccine recipient got a Janssen vaccine. ]\nAnswer:\n{\n  \"query\":","10692":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"STATE\": \"03\"\n          }\n        },\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"037FZ1A\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": \"2021-08-09\",\n              \"lte\": \"2021-08-09\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Given a list of conditions\n    conditions = [\"STATE == '03'\", \"SYMPTOM_TEXT == '037FZ1A'\"]\n\n    # When generate_elasticsearch_query() is called\n    elasticsearch_query = generate_elasticsearch_query(conditions)","11758":"###[ What is the number of the cases where the vaccine recipient had PNEUMOVAX vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had COVISHIELD vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had MODERNA vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had JANSSEN vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had CDC vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had NOVELLA vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had AZD1222 vaccine. ]\nAnswer:\n\n###[ What is","535":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"STATE\": \"WV\"}},\n            ],\n        }\n    },\n}\n\n###[ Give me all the patients who has died in the hospital. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"term\": {\"DIED\": True}},\n            ],\n        }\n    },\n}\n\n###[ Give me all the patients who has not been vaccinated against COVID-19. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"term\": {\"CUR_ILL\": False}},\n            ],\n        }\n    },\n}\n\n###[ Give me all the patients who has not been vaccinated against COVID-19 but was vaccinated before 2021-01-01]\nAnswer:\n{\n    \"query\":","8707":"'''\n\ndef get_condition(question):\n    '''\n    This function takes in a question string and returns the condition value of that question.\n    For example, if the input is \"What are the conditions for receiving DTaP?\"\n    Then it will return [\"DTaP\", \"INACTIVATED\"]\n    '''\n\n    # TODO: Write your code here to extract the condition value from the question string.\n    # Hint: You can use regular expressions to find the condition value.\n    #       Use the following website to test your regex pattern.\n    #       https:\/\/regexr.com\/\n    #       Note that you may need to add \\b in front or behind some words to make sure they are at the beginning or end of the word.\n    #       For example, if the condition value is \"inactivated\", you should change it to \"\\binactivated\\b\" so that it matches only when the whole word is \"inactivated\".\n    #       If you don","7967":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"RECVDATE\": \"9\/24\/2021\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"9\/24\/2021\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_","2350":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"DIED\": \"Yes\"}},\n                {\"range\": {\"RECVDATE\": {\"gte\": \"05\/08\/2022\", \"lte\": \"05\/08\/2022\"}}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\",\"AGE_YRS\",\"VAERS_ID\",\"SEX\",\"SYMPTOM_TEXT\",\"DIED\",\"ER_VISIT\",\"L_THREAT\",\"HOSPITAL\",\"HOSPDAYS\",\"DISABLE\",\"VAX_DATE\",\"LAB_DATA\",\"OTHER_MEDS\",\"CUR_ILL\",\"HISTORY\",\"PRIOR_VAX\",\"TODAYS_DATE\",\"OFC_VISIT\",\"VAX_TYPE\",\"VAX_MANU\",\"VAX_LOT\",\"VAX_DOSE_SERIES\",\"VAX_NAME\",\"ALLERGIES\"]\n}\n\"\"\"","7996":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"07-14-21\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"STATE\": \"VA\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ List all the records who was vaccinated on 7\/14\/21 in VA state. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"07-14-21\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"STATE\": \"VA\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ List all the records who was vaccinated on 7\/14","7529":"###[ Find any cases where the vaccine recipients were allergic to penicillin. ]\nAnswer:\n\n###[ Find any cases where the vaccine recipients were allergic to amoxicillin. ]\nAnswer:\n\n###[ Find any cases where the vaccine recipients were allergic to chloramphenicol. ]\nAnswer:\n\n###[ Find any cases where the vaccine recipients were allergic to tetracycline. ]\nAnswer:\n\n###[ Find any cases where the vaccine recipients were allergic to trimethoprim. ]\nAnswer:\n\n###[ Find any cases where the vaccine recipients were allergic to vancomycin. ]\nAnswer:\n\n###[ Find any cases where the vaccine recipients were allergic to nitrofurantoin. ]\nAnswer:\n\n###[ Find any cases where the vaccine recipients were all","8424":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"ANTHRAX\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190430\n                        }\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ Find all records who got PNEUMONIA symptom in 2018. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"PNEUMONIA\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20180101,","9357":"###[ What is the number of records that the vaccine recipient did not get any vaccines. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient was hospitalized in a medical facility. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient died after getting the vaccine. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient had an emergency room visit. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient received a COVID-19 test result of \u201cpositive\u201d or \u201cnegative\u201d. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient has been exposed to a live animal before receiving the vaccine. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient has been exposed to a human before receiving the vaccine.","12739":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"LAB_DATA\": \"Carbonic anhydrase gene mutation assay\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_TYPE\": \"mRNA\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ List all patients who received at least one Pfizer-BioNTech mRNA vaccine in 2018. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"VAX_DATE\": {\n                            \"gte\": \"2018-01-01\",\n                            \"lte\": \"2019-01-01\"\n                        }\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_TYPE\": \"mRNA\"\n                    }","7197":"###[ Which is the most common type of cancer that people get treated for in their hospital?]\nAnswer:\n\n###[ Which is the most common type of cancer that people get treated for at a local office?]\nAnswer:\n\n###[ Which is the most common type of cancer that people get treated for at a hospital or clinic?]\nAnswer:\n\n###[ Which is the most common type of cancer that people get treated for at an ER?]\nAnswer:\n\n###[ Which is the most common type of cancer that people get treated for in a rehabilitation center?]\nAnswer:\n\n###[ Which is the most common type of cancer that people get treated for in a psychiatric facility?]\nAnswer:\n\n###[ Which is the most common type of cancer that people get treated for in a long term care facility?]\nAnswer:\n\n###[","5093":"###[ Find the number of cases that the vaccine recipients had a PCR test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a blood culture test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a serology test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a RTPCR test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a ELISA test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a Hepatitis B test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a Hepatitis C test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a Syphilis test. ]\nAnswer:","5381":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"mvi\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 20210305,\n                            \"lte\": 20210405\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns a list of conditions that are present within it.\n\n    Parameters\n    ----------\n    question : str\n        Question to be parsed into conditions\n\n    Returns\n    -------\n    conditions : List[str]\n        List of conditions extracted from the question\n    \"\"\"\n    # TODO: Fill out your code here","1914":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Sedative\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Provide all the patients who are between 50 to 60 years of age. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 50,\n                            \"lte\": 60\n                        }\n                    }\n                },","9584":"{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"USPFIZER INC\"\n          }\n        },\n        {\n          \"range\": {\n            \"VAX_DATE\": {\n              \"gte\": \"2021-01-30\",\n              \"lte\": \"2021-01-30\"\n            }\n          }\n        }\n      ],\n      \"filter\": []\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Pfizer Inc in Jan 2021?]\nAnswer:\n{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"Pfizer Inc\"\n          }\n        },\n        {\n          \"range\":","5827":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"estragon\"\n          }\n        },\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 1583296000,\n              \"lte\": 1584728000\n            }\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"term\": {\n            \"DIED\": false\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[Is there any patients who was taking estragon in California?]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"estragon\"\n          }\n        },\n        {\n          \"range\": {\n            \"RECVDATE\": {","9520":"{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"USPFIZER INC\"\n          }\n        },\n        {\n          \"range\": {\n            \"VAX_DATE\": {\n              \"gte\": \"2021-01-03\",\n              \"lte\": \"2021-01-03\"\n            }\n          }\n        }\n      ],\n      \"filter\": []\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Pfizer Inc in Jan 2021?]\nAnswer:\n{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"Pfizer Inc\"\n          }\n        },\n        {\n          \"range\":","7058":"###[ What is the average age of a patient who died in hospital? ]\nAnswer:\n\n###[ What is the average number of days a patient stayed in hospital before being discharged?]\nAnswer:\n\n###[ What is the average number of days a patient stayed in hospital after being admitted?]\nAnswer:\n\n###[ What is the average number of days a patient stayed in hospital after being discharged?]\nAnswer:\n\n###[ What is the average number of days a patient stayed in hospital before being admitted?]\nAnswer:\n\n###[ What is the average number of days a patient stayed in hospital after being admitted to the emergency department?]\nAnswer:\n\n###[ What is the average number of days a patient stayed in hospital after being discharged from the emergency department?]\nAnswer:\n\n###[ What is the average number of","10130":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"FLUA4\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190531,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_","830":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 23.0}}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_","3253":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"11\/12\/2021\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME","4764":"{\n    \"query\": {\n        \"match\": {\n            \"clinicalNotes\": \"ct scan head\"\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### entify the filed","2438":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"DIED\": \"Yes\"}},\n                {\"range\": {\"RECVDATE\": {\"gte\": \"2021-12-31\", \"lte\": \"2021-12-31\"}}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\",\"AGE_YRS\",\"VAERS_ID\",\"SEX\",\"SYMPTOM_TEXT\",\"DIED\",\"ER_VISIT\",\"L_THREAT\",\"HOSPITAL\",\"HOSPDAYS\",\"DISABLE\",\"VAX_DATE\",\"LAB_DATA\",\"OTHER_MEDS\",\"CUR_ILL\",\"HISTORY\",\"PRIOR_VAX\",\"TODAYS_DATE\",\"OFC_VISIT\",\"VAX_TYPE\",\"VAX_MANU\",\"VAX_LOT\",\"VAX_DOSE_SERIES\",\"VAX_NAME\"]\n}\n\"\"\"\n\ndef get_condition(","11686":"###[ How many people received Pfizer-BioNTech (PFB) shot. ]\nAnswer:\n\n###[ How many people received Moderna (MRNA) shot. ]\nAnswer:\n\n###[ How many people received Oxford\/AstraZeneca (OXF) shot. ]\nAnswer:\n\n###[ How many people received Janssen (JANSSEN) shot. ]\nAnswer:\n\n###[ How many people received Sinovac (SINOVAC) shot. ]\nAnswer:\n\n###[ How many people received a COVID-19 vaccine. ]\nAnswer:\n\n###[ How many people have died because of COVID-19. ]\nAnswer:\n\n###[ How many people are hospitalized due to COVID-19. ]\nAnswer:\n\n###[ How many days did they stay in the hospital due to COVID-19. ]\nAnswer","10148":"###[ How many people has not got FLU3? ]\nAnswer:\n\n###[ How many people has got FLU2? ]\nAnswer:\n\n###[ How many people has not got FLU2? ]\nAnswer:\n\n###[ How many people has got FLU1? ]\nAnswer:\n\n###[ How many people has not got FLU1? ]\nAnswer:\n\n###[ How many people has got FLU0? ]\nAnswer:\n\n###[ How many people has not got FLU0? ]\nAnswer:\n\n###[ How many people has got FLU9? ]\nAnswer:\n\n###[ How many people has not got FLU9? ]\nAnswer:\n\n###[ How many people has got FLU8? ]\nAnswer:\n\n###[ How many people has not got FLU8? ]\nAnswer:\n\n###[ How many people has","11724":"###[ What is the number of the cases where the vaccine recipient had Pfizer-BioNTech vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had Moderna vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had Janssen vaccine. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had a COVID-19 test result positive. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had a COVID-19 test result negative. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient had a COVID-19 test result inconclusive. ]\nAnswer:\n\n###[ What is the number of the cases where the vaccine recipient was hospitalized. ]\nAnswer:","2519":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"DIED\": \"Yes\"}},\n                {\"match\": {\"RECVDATE\": \"12\/05\/2021\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]","7984":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"01\/26\/2022\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"STATE\": \"VA\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ List all the records who was vaccinated on 1\/26\/22 in VA state. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"01\/26\/2022\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"STATE\": \"VA\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ List all the records who was vaccinated on","2021":"###[ How many patients have Chicken pox after vaccination? ]\nAnswer:\n\n###[ How many patients have Influenza after vaccination? ]\nAnswer:\n\n###[ How many patients have Meningitis after vaccination? ]\nAnswer:\n\n###[ How many patients have Polio after vaccination? ]\nAnswer:\n\n###[ How many patients have Tetanus after vaccination? ]\nAnswer:\n\n###[ How many patients have Typhoid after vaccination? ]\nAnswer:\n\n###[ How many patients have Whooping Cough after vaccination? ]\nAnswer:\n\n###[ How many patients have measles after vaccination? ]\nAnswer:\n\n###[ How many patients have rubella after vaccination? ]\nAnswer:\n\n###[ How many patients have Hepatitis B after vaccination? ]","97":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"RECVDATE\": \"03\/28\/2022\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES","12067":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"HEP B\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"INFLUENZA (SEASONAL)\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"FLUZONE HIGH-DOSE\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ List all the patients who got Pfizer Combivax (COMBOVAX) vaccine and Moderna (MODERNA) vaccine. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"Pfizer Combivax (COMBOVAX)\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"","4127":"###[ What is the number of cases where onset date of adverse event symptom is before 10\/03\/2016. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is after 10\/03\/2016. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is between 10\/03\/2016 and 10\/04\/2016. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is not 10\/03\/2016. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is not before 10\/03\/2016. ]","4790":"{\n    \"query\": {\n        \"match\": {\n            \"CLINICAL_NOTES\": \"test\"\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### entify the filed","8554":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"SYMPTOM_TEXT\": \"BCG\"}},\n                {\"match\": {\"SYMPTOM_TEXT\": \"VARICELLA\"}}\n            ],\n            \"filter\": [{\"range\": {\"RECVDATE\": {\"gte\": 20190301}}}]\n        }\n    },\n    \"_source\": [\"VAERS_ID\", \"STATE\", \"AGE_YRS\"]\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT,","4169":"###[ What is the number of cases where state is Washington. ]\nAnswer:\n\n###[ What is the number of cases where VAERS ID is 198456789.]\nAnswer:\n\n###[ What is the number of cases where sex is Female]\nAnswer:\n\n###[ What is the number of cases where hospital days is greater than or equal to 100]\nAnswer:\n\n###[ What is the number of cases where died is Yes]\nAnswer:\n\n###[ What is the number of cases where er visit is less than or equal to 100]\nAnswer:\n\n###[ What is the number of cases where l threat is Yes]\nAnswer:\n\n###[ What is the number of cases where disable is No]\nAnswer:\n\n###[ What is the number of cases where vax type is Pfizer-BioNTech]","2408":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"DIED\": \"08\/12\/2021\"\n          }\n        }\n      ],\n      \"filter\": []\n    }\n  },\n  \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"","5464":"'''\n\ndef get_condition(question):\n    '''\n    This function takes in a question string and returns the condition value\n\n    Parameters\n    ----------\n    question : str\n        Question string that needs to be parsed\n\n    Returns\n    -------\n    condition : str\n        Condition value extracted from the question string\n    '''\n    \n    # Split the question into words\n    words = question.split()\n    \n    # Find the index where 'is' occurs\n    idx = words.index('is')\n    \n    # Get the condition value by slicing the list starting from the word after 'is'\n    condition = \" \".join(words[(idx+1):])\n    \n    return condition\n\n\ndef generate_query(field_name, condition):\n    '''\n    This function generates an Elasticsearch query given a field name and its corresponding condition value\n\n    Parameters\n    ----------\n    field_name : str\n        Field name whose condition value will be used to construct the Elasticsearch query\n    condition : str\n        Condition value that will be used to construct the Elasticsearch query","8643":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"SYMPTOM_TEXT\": \"MEASLES\"}},\n                {\"match\": {\"SYMPTOM_TEXT\": \"PNEUMONIA\"}}\n            ],\n            \"filter\": [{\"range\": {\"RECVDATE\": {\"gte\": 20180101}}}]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\"]\n}\n\n###[ List all the patients who died in the United States after Jan 1st, 2018]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [{\"match\": {\"DIED\": \"Yes\"}}],\n            \"filter\": [\n                {\"term\": {\"STATE\": \"US\"}},\n                {\"range\": {\"RECVDATE\": {\"gte\": 20180101}}}\n            ]\n        }\n    },\n    \"_source\":","8407":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"SYMPTOM_TEXT\": \"YELLOW FEVER\"}},\n                {\"range\": {\"RECVDATE\": {\"gte\": \"2021-03-01\", \"lte\": \"2021-04-01\"}}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\"]\n}\n\n###[ Find all records who got YELLOW FEVER shot after 2021-03-01 but before 2021-04-01]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"SYMPTOM_TEXT\": \"YELLOW FEVER\"}},\n                {\"range\": {\"RECVDATE\": {\"gt\": \"2021-03-01\", \"lt\": \"2021-04-0","8468":"###[ How many patients are alive today?]\nAnswer:\n\n###[ How many patients died in the past year?]\nAnswer:\n\n###[ How many patients have been hospitalized in the past year?]\nAnswer:\n\n###[ How many patients have not received any vaccines yet?]\nAnswer:\n\n###[ How many patients have had at least one allergy in the past year?]\nAnswer:\n\n###[ How many patients have had an asthma attack in the past year?]\nAnswer:\n\n###[ How many patients have had a heart attack in the past year?]\nAnswer:\n\n###[ How many patients have had a stroke in the past year?]\nAnswer:\n\n###[ How many patients have had a kidney disease in the past year?]\nAnswer:\n\n###[ How many patients have had a liver disease in the past year?]","4320":"{\n  \"query\": {\n    \"range\": {\n      \"RECVDATE\": {\n        \"gte\": \"2021-03-09\",\n        \"lte\": \"2021-04-05\"\n      }\n    }\n  },\n  \"size\": 10000\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    For example, if the question was 'What is the condition value for this field?' it would return the answer to that question.\n    :param question: str\n    :return: str\n    \"\"\"\n\n    # TODO: Write your code here\n    pass\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    This function generates an Elasticsearch query given a field name and its corresponding condition value.\n    :param field_name: str\n    :param condition_value: str","1626":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Glomerular filtration rate\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1609459200\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_","6922":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"inflammation\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"1\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20210305,\n                            \"lte\": 20210405\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Find all the cases where the vaccine recipient reported a fever of 100 degrees or higher.]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"fever\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"","9543":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_MANU\": \"USJNJFOC20220233773\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1645897600,\n                            \"lte\": 1646502400\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[How many patients got vaccine manufactured by Pfizer-BioNTech?]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_MANU\": \"Pfizer-BioNTech\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte","8936":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"USPFIZER INC\"\n    }\n  },\n  \"size\": 5000\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field?","3344":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"07\/26\/2020\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME","6278":"###[ How many vaccine recipients have been hospitalized in the past 12 months due to COVID-19?]\nAnswer:\n\n###[ How many vaccine recipients have died since their last dose?]\nAnswer:\n\n###[ What percentage of all vaccine recipients have died since their last dose?]\nAnswer:\n\n###[ What is the average number of days a recipient has spent in the hospital before receiving their second dose of the COVID-19 vaccine?]\nAnswer:\n\n###[ What is the average number of days a recipient has spent in the hospital before receiving their first dose of the COVID-19 vaccine?]\nAnswer:\n\n###[ What is the average number of days a recipient has spent in the hospital before receiving their first dose of any COVID-19 vaccine?]\nAnswer:\n\n###[ What is the average number of days a recipient","9486":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"<NAME>\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_LOT\": \"INC2021344815\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SER","5360":"{\n    \"query\": {\n        \"match\": {\n            \"SYMPTOM_TEXT\": \"fluoxetine\"\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### ent","11548":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"MENINGOCOCCAL CONJUGATE\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"1\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"2020-03-01\",\n                            \"lte\": \"2020-04-01\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Test case 1\n    print(\"Test Case 1\")\n    question = \"Search any vaccine recipients who had MENINGOCOCCAL CONJUGATE (MENVEO) shot.\"\n    answer = \"\"\"\nPrompt: ### Elasticsearch","1831":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Respiratory tract congestion\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1638249600,\n                            \"lte\": 1638508800\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA","12806":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Neuralgia\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"1\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 20210305,\n              \"lte\": 20210405,\n              \"format\": \"yyyyMMdd\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n'''\n\ndef get_condition(question):\n    if 'after' in question:\n        return ['1']\n    elif 'before' in question:\n        return ['0']\n    else:\n        return []\n\n\ndef generate_elasticsearch_query(field_name, condition_value, date_from=None, date_to","11190":"###[What are the top 5 states that have the most number of deaths among all the states]\nAnswer:\n\n###[What are the top 10 cities that have the highest number of deaths among all the cities]\nAnswer:\n\n###[What are the top 3 symptoms that cause the most deaths among all the symptoms]\nAnswer:\n\n###[What are the top 3 drugs that cause the most deaths among all the drugs]\nAnswer:\n\n###[What are the top 3 conditions that cause the most deaths among all the conditions]\nAnswer:\n\n###[What are the top 3 diseases that cause the most deaths among all the diseases]\nAnswer:\n\n###[What are the top 3 procedures that cause the most deaths among all the procedures]\nAnswer:\n\n###[What are the top 3 immunizations that cause","11136":"###[ How many people have been injected from UNHCR ]\nAnswer:\n\n###[ How many people have been injected from WHO ]\nAnswer:\n\n###[ How many people have been injected from Pfizer-BioNTech]\nAnswer:\n\n###[ How many people have been injected from Moderna]\nAnswer:\n\n###[ How many people have been injected from Oxford\/AstraZeneca]\nAnswer:\n\n###[ How many people have been injected from J&J]\nAnswer:\n\n###[ How many people have been injected from Sinovac]\nAnswer:\n\n###[ How many people have been injected from Sinopharm]\nAnswer:\n\n###[ How many people have been injected from other vaccines]\nAnswer:\n\n###[ How many people have been injected from multiple vaccines]\nAnswer:\n\n###[ How many people have been injected from","8538":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"SYMPTOM_TEXT\": \"HIB\"}},\n                {\"match\": {\"SYMPTOM_TEXT\": \"Vaccine Not Specified\"}}\n            ],\n            \"filter\": [{\"range\": {\"RECVDATE\": {\"gte\": 20210305}}}]\n        }\n    },\n    \"_source\": [\"VAERS_ID\", \"STATE\", \"AGE_YRS\"]\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT,","11347":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"STATE\": \"RA\"}},\n                {\"match\": {\"STATE\": \"LA\"}}\n            ]\n        }\n    }\n}\n\n###[ Find all cases where people vaccinated in CA and PA. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"STATE\": \"CA\"}},\n                {\"match\": {\"STATE\": \"PA\"}}\n            ]\n        }\n    }\n}\n\n###[ Find all cases where people vaccinated in NY and NJ. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"STATE\": \"NY\"}},\n                {\"match\": {\"STATE\": \"NJ\"}}\n            ]\n        }\n    }\n}\n\n###[ Find all cases where people vaccinated in IL and IN. ]\nAnswer:\n{","11635":"###[ How many people received HIB (Hep B) vaccine. ]\nAnswer:\n\n###[ How many people received Pfizer-BioNTech vaccine. ]\nAnswer:\n\n###[ How many people received Moderna vaccine. ]\nAnswer:\n\n###[ How many people received Oxford\/AstraZeneca vaccine. ]\nAnswer:\n\n###[ How many people received Janssen vaccine. ]\nAnswer:\n\n###[ How many people received a COVID-19 test result of \u201cPositive\u201d]\nAnswer:\n\n###[ How many people received a COVID-19 test result of \u201cNegative\u201d]\nAnswer:\n\n###[ How many people received a COVID-19 test result of \u201cInconclusive\u201d]\nAnswer:\n\n###[ How many people have died due to COVID-19]\nAnswer:\n\n###[ How many people are","10355":"'''\n\ndef get_condition(question):\n    if 'UNK' in question:\n        return ['UNK']\n    elif 'TTOX' in question:\n        return ['TTOX']\n    else:\n        return []\n\n\ndef generate_query(field_name, condition_value):\n    # print('field_name', field_name)\n    # print('condition_value', condition_value)\n\n    if len(condition_value) == 0 or field_name not in FIELD_NAMES:\n        return ''\n\n    if field_name == 'RECVDATE':\n        return f\"\\\"{condition_value}\\\" <= {field_name}\"\n    elif field_name == 'STATE':\n        return f\"{field_name} = '{condition_value}'\"\n    elif field_name == 'AGE_YRS':\n        return f'{field_name} >= \"{condition_value}\"'\n    elif field_name == 'VAERS_ID':","9790":"###[ How many people are in the state of Washington who died after being vaccinated? ]\nAnswer:\n\n###[ What is the average age of all patients who received a Pfizer vaccine in the state of Washington?]\nAnswer:\n\n###[ What is the average age of all patients who received a Moderna vaccine in the state of Washington?]\nAnswer:\n\n###[ What is the average age of all patients who received an Oxford vaccine in the state of Washington?]\nAnswer:\n\n###[ What percentage of patients who received a Pfizer vaccine in the state of Washington died?]\nAnswer:\n\n###[ What percentage of patients who received a Moderna vaccine in the state of Washington died?]\nAnswer:\n\n###[ What percentage of patients who received an Oxford vaccine in the state of Washington died?","1747":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"$state\": \"VA\"}},\n                {\"range\": {\"$age_yrs\": {\"gte\": 18}}},\n                {\"term\": {\"$sex\": \"F\"}},\n                {\"match\": {\"$symptom_text\": \"Serum ferritin normal\"}},\n                {\"match\": {\"$died\": \"N\"}}\n            ],\n            \"filter\": [{\"range\": {\"$recvdate\": {\"gte\": \"2021-03-01\", \"lte\": \"2021-04-01\"}}}]\n        }\n    },\n    \"_source\": [\"$vax_name\"]\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n    \"\"\"Test generate_elasticsearch_query function.\"\"\"\n\n    # Test case 1\n    result = generate_elasticsearch_query(\n        prompt=TEST_PROMPT_CASE_1, answer=","12446":"###[ How many people have a new allergy to Penicillin G? ]\nAnswer:\n\n###[ How many people have had an injection of Hepatitis B in the last 12 months? ]\nAnswer:\n\n###[ How many people have been diagnosed with Chicken Pox in the last year? ]\nAnswer:\n\n###[ How many people have had a flu shot in the past 30 days? ]\nAnswer:\n\n###[ How many people have had a flu vaccine in the past 30 days? ]\nAnswer:\n\n###[ How many people have had a flu vaccine in the past 6 months? ]\nAnswer:\n\n###[ How many people have had a flu vaccine in the past 12 months? ]\nAnswer:\n\n###[ How many people have had a flu vaccine in the past 18 months","4445":"'''\n\ndef get_condition(field):\n    if field == 'RECVDATE':\n        return ['2021-03-05']\n    elif field == 'STATE':\n        return ['VA', 'DC']\n    elif field == 'AGE_YRS':\n        return ['>60']\n    elif field == 'VAERS_ID':\n        return ['1974000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","7251":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"allergic\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"OTHER_MEDS\": \"preservatives\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME","12899":"###[ what are the top 5 states that have the highest number of deaths among all states?]\nAnswer:\n\n###[ how many patients were there in total in 2018?]\nAnswer:\n\n###[ what is the average age of a patient who died in 2018?]\nAnswer:\n\n###[ what is the average hospital days of a patient who died in 2018?]\nAnswer:\n\n###[ what is the average hospital days of a patient who did not die in 2018?]\nAnswer:\n\n###[ what is the average hospital days of a patient who was ever hospitalized in 2018?]\nAnswer:\n\n###[ what is the average hospital days of a patient who was ever hospitalized before receiving any vaccines in 2018?]\nAnswer:\n\n###[ what is the","8709":"###[ List all the recipients who took PNEUMO and ANTHRAX after 2019-08-30]\nAnswer:\n\n###[ List all the recipients who took PNEUMO or ANTHRAX before 2019-08-30 but not after 2019-08-30.]\nAnswer:\n\n###[ List all the recipients who took PNEUMO or ANTHRAX after 2019-08-30 but not before 2019-08-30.]\nAnswer:\n\n###[ List all the recipients who took PNEUMO or ANTHRAX between 2019-08-30 to 2019-09-05]\nAnswer:\n\n###[ List all the recipients who took PNEUMO or ANTHRAX between","1041":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 88}}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\n###[ List all patients who have","7471":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"peanut\"\n                    }\n                }\n            ],\n            \"filter\": {\n                \"range\": {\n                    \"RECVDATE\": {\n                        \"gte\": 20190101,\n                        \"lte\": 20191231\n                    }\n                }\n            }\n        }\n    },\n    \"_source\": [\"VAERS_ID\", \"STATE\", \"AGE_YRS\", \"SYMPTOM_TEXT\"]\n}\n\n###[ Show me all the patients who has an allergic to peanut in California. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"peanut\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"STATE\":","12449":"###[ What are the top 5 states that have the most deaths in the US? ]\nAnswer:\n\n###[ What are the top 10 states that have the highest number of hospitalizations per 100k population? ]\nAnswer:\n\n###[ What are the top 3 states that have the highest number of deaths per 100k population? ]\nAnswer:\n\n###[ What are the top 2 states that have the highest number of hospitalizations per 100k population? ]\nAnswer:\n\n###[ What are the top 4 states that have the highest number of deaths per 100k population? ]\nAnswer:\n\n###[ What are the top 6 states that have the highest number of hospitalizations per 100k population? ]\nAnswer:\n\n###[ What are the top 7 states that have the highest number of deaths per","11593":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"HEP B\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"2021-08-31\",\n                            \"lte\": \"2021-09-01\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Search all vaccine recipients who were diagnosed with COVID-19 in the last week.  ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"COVID-19\"\n                    }\n                },\n                {","2202":"'''\n\ndef get_condition(question):\n    if'metastatic' in question or'metastases' in question:\n        return'metastatic cancer'\n    elif 'cancer' in question:\n        return 'cancer'\n    else:\n        return None\n\n\ndef generate_query(field_name, condition_value):\n    # print('field_name', field_name)\n    # print('condition_value', condition_value)\n\n    if field_name == 'RECVDATE':\n        return {\n            \"range\": {\n                \"RECVDATE\": {\n                    \"gte\": \"2021-03-01\",\n                    \"lte\": \"2021-04-01\"\n                }\n            }\n        }\n    elif field_name == 'STATE':\n        return {\n            \"match\": {\n                \"STATE\": condition_value\n            }\n        }\n    elif field_name == 'AGE_Y","2781":"###[How many patients are there in the state of Washington who were vaccinated against COVID-19?]\nAnswer:\n\n###[What percentage of all adults (age >= 18) in the state of Washington have received at least one dose of a COVID-19 vaccine? Round to two decimal places.]\nAnswer:\n\n###[What percentage of all adults (age >= 18) in the state of Washington have received at least two doses of a COVID-19 vaccine? Round to two decimal places.]\nAnswer:\n\n###[What percentage of all adults (age >= 18) in the state of Washington have received at least three doses of a COVID-19 vaccine? Round to two decimal places.]\nAnswer:\n\n###[What percentage of all adults (age >= 18) in the state of Washington","8242":"###[How many patients were hospitalized between 0-3 days after receiving the vaccine?]\nAnswer:\n\n###[What percentage of all patients who received the vaccine died within 7 days of being hospitalized?]\nAnswer:\n\n###[What was the average age of those who received the vaccine?]\nAnswer:\n\n###[What was the average number of days that patients were hospitalized before receiving the vaccine?]\nAnswer:\n\n###[What was the average number of days that patients spent in the hospital before receiving the vaccine?]\nAnswer:\n\n###[What was the average number of days that patients spent in the hospital after receiving the vaccine?]\nAnswer:\n\n###[What was the average number of days that patients spent in the hospital on their second visit to the hospital after receiving the vaccine?]\nAnswer:\n\n###[What was the average number of days","11651":"###[ How many people received Pfizer-BioNTech vaccine. ]\nAnswer:\n\n###[ How many people received Moderna vaccine. ]\nAnswer:\n\n###[ How many people received Oxford\/AstraZeneca vaccine. ]\nAnswer:\n\n###[ How many people received Janssen vaccine. ]\nAnswer:\n\n###[ How many people received a COVID-19 test result of \u201cPositive\u201d]\nAnswer:\n\n###[ How many people received a COVID-19 test result of \u201cNegative\u201d]\nAnswer:\n\n###[ How many people received a COVID-19 test result of \u201cInconclusive\u201d]\nAnswer:\n\n###[ How many people have died due to COVID-19]\nAnswer:\n\n###[ How many people are hospitalized due to COVID-19]\nAnswer:\n\n###[ How many days did they stay","5989":"###[ List all the patients who have a history of diabetes mellitus.]\nAnswer:\n\n###[ List all the patients who have been vaccinated against polio]\nAnswer:\n\n###[ List all the patients who have not been vaccinated against polio]\nAnswer:\n\n###[ List all the patients who have had at least one dose of Pfizer-BioNTech vaccine]\nAnswer:\n\n###[ List all the patients who have had at least two doses of Pfizer-BioNTech vaccine]\nAnswer:\n\n###[ List all the patients who have had at least three doses of Pfizer-BioNTech vaccine]\nAnswer:\n\n###[ List all the patients who have had at least four doses of Pfizer-BioNTech vaccine]\nAnswer:\n\n###[ List all the patients who have had at least five","136":"{\n    \"query\": {\n        \"match\": {\n            \"RECVDATE\": \"04\/02\/2022\"\n        }\n    }\n}\n\n###[ Find all cases that are male. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"SEX\": \"Male\"\n        }\n    }\n}\n\n###[ Find all cases that have died. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"DIED\": \"Yes\"\n        }\n    }\n}\n\n###[ Find all cases that have received a flu vaccine. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"VAX_NAME\": \"Influenza\"\n        }\n    }\n}\n\n###[ Find all cases that have not received any vaccines. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {","12331":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Nasal dryness\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_NAME\": \"COVID-19 mRNA (nucleoside modified) Vaccine Moderna COVID-19 Vaccine Janssen (JANSSEN-CILAG)\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 20210305,\n              \"lte\": 20210405,\n              \"format\": \"yyyyMMdd\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.","8057":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"02\/18\/2021\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"STATE\": \"VA\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: String containing the question to be parsed.\n    :return: Condition value of the question as a string.\n    \"\"\"\n\n    # Split the question into words using whitespace as delimiter.\n    split = question.split()\n\n    # Find the index of the word 'is'.\n    idx = split.index('is')\n\n    # Return everything after the word 'is' as the condition value.\n    return''.join(split[(idx +","8066":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"5\/19\/2022\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_TYPE\": \"COMBO\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ List all the records who was vaccinated on 5\/19\/2022 and has died in hospital. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"5\/19\/2022\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"Y\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"HOSPITAL\": \"Y\"\n                    }\n                },","1606":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Pericardial fibrosis\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"VAX_DATE\": {\n                            \"gte\": 1609459200000,\n                            \"lte\": 1638771200000\n                        }\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR","6092":"###[ List all the patients who have received a flu vaccine in the last 12 months. ]\nAnswer:\n\n###[ List all the patients who have not been hospitalized for any reason since receiving their second dose of a COVID-19 vaccine. ]\nAnswer:\n\n###[ List all the patients who have not been hospitalized for any reason since receiving their first dose of a COVID-19 vaccine. ]\nAnswer:\n\n###[ List all the patients who have not been hospitalized for any reason since receiving their third dose of a COVID-19 vaccine. ]\nAnswer:\n\n###[ List all the patients who have not been hospitalized for any reason since receiving their fourth dose of a COVID-19 vaccine. ]\nAnswer:\n\n###[ List all the patients who have not been hospitalized for any reason since receiving their fifth dose of a COVID-1","12963":"###[ what are the top 3 states that have the highest number of deaths among all states?]\nAnswer:\n\n###[ how many people in the US died due to COVID-19?]\nAnswer:\n\n###[ what is the average age of a person who has been diagnosed with COVID-19?]\nAnswer:\n\n###[ what is the percentage of people who have received at least one dose of Pfizer vaccine?]\nAnswer:\n\n###[ what is the percentage of people who have received at least two doses of Pfizer vaccine?]\nAnswer:\n\n###[ what is the percentage of people who have received at least three doses of Pfizer vaccine?]\nAnswer:\n\n###[ what is the percentage of people who have received at least four doses of Pfizer vaccine?]\nAnswer:\n\n###[ what is the","10602":"{\n    \"query\": {\n        \"match\": {\n            \"VAX_MANU\": \"SH\"\n        }\n    },\n    \"size\": 10000\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for","3968":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"12\/29\/2021\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ]\n        }\n    },\n    \"_source\": [\"DIED\"]\n}\n\n###[ Find all the records where the patient was diagnosed with cancer in 2021. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"SYMPTOM_TEXT\": \"CANCER\"}},\n                {\"match\": {\"YEAR(TODAYS_DATE)\": \"2021\"}}\n            ]\n        }\n    },\n    \"_source\": [\"DIED\"]\n}\n\n###[ Find all the patients who were diagnosed with cancer or died of lung cancer between January 1st, 2021 to December 31st","6842":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"infected toe\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"1\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20200301,\n                            \"lte\": 20200401\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n    \"\"\"Test generate_elasticsearch_query function.\"\"\"\n\n    # Test case 1\n    input_question = \"What is the patient's age?\"\n    expected_output = {\n        'query': {'match': {'AGE_YRS': '50'}}\n    }\n    assert generate_elasticsearch_query(input_question)","8797":"###[How many records had MENINGOCOCCAL B and JAPANESE ENCEPHALITIS after 2018-09-30]\nAnswer:\n\n###[How many records had MENINGOCOCCAL B and JAPANESE ENCEPHALITIS between 2018-09-30 and 2018-10-30]\nAnswer:\n\n###[How many records had MENINGOCOCCAL B and JAPANESE ENCEPHALITIS in 2018]\nAnswer:\n\n###[How many records had MENINGOCOCCAL B and JAPANESE ENCEPHALITIS in 2017]\nAnswer:\n\n###[How many records had MENINGOCOCCAL B and JAPANESE ENCEPHALITIS in","6573":"###[ Which is the least common vestibular for patients.]\nAnswer:\n\n###[ Which is the most common diagnosis of COVID-19 in hospitalized patients.]\nAnswer:\n\n###[ Which is the least common diagnosis of COVID-19 in hospitalized patients.]\nAnswer:\n\n###[ Which is the most common symptom of COVID-19 in hospitalized patients.]\nAnswer:\n\n###[ Which is the least common symptom of COVID-19 in hospitalized patients.]\nAnswer:\n\n###[ Which is the most common treatment of COVID-19 in hospitalized patients.]\nAnswer:\n\n###[ Which is the least common treatment of COVID-19 in hospitalized patients.]\nAnswer:\n\n###[ Which is the most common medication of COVID-19 in hospitalized patients.]\nAnswer:\n\n###[ Which is the least common medication of COVID-19 in","11119":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAERS_ID\": \"ID\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_TYPE\": \"JANSSEN-CILAG\"\n                    }\n                }\n            ],\n            \"filter\": [],\n            \"should\": []\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns a list of conditions that are present within it.\n\n    Parameters\n    ----------\n    question : str\n        Question to be parsed into conditions\n\n    Returns\n    -------\n    conditions : List[str]\n        List of conditions extracted from the question\n    \"\"\"\n    # TODO: Fill out your code here\n    return None\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    This function generates an Elasticsearch query given a field name and its corresponding condition value.","2538":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"DIED\": \"Yes\"}},\n                {\"match\": {\"RECVDATE\": \"01\/28\/2022\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]","8091":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"vax_date\": \"3\/7\/2021\"}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\n###[ List all","4974":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"left shoulder\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"TEST_NAME\": \"MRI\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Provide all records that have a vaccine administered by Pfizer in the last month]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_MANU\": \"Pfizer\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"V","3258":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"03\/20\/2022\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_TYPE\": \"COMBO\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n\n    Parameters\n    ----------\n    question : str\n        Question to be parsed into condition value.\n\n    Returns\n    -------\n    condition : str\n        Condition value extracted from the question.\n    \"\"\"\n    # TODO: Write your code here\n    if 'on' in question:\n        return question.split('on')[1].strip()\n    elif 'after' in question:\n        return question.split('after')[1].strip()\n    else:\n        return None","7699":"###[ How many patients have died in the hospital? ]\nAnswer:\n\n###[ How many patients received a flu vaccine in 2018?]\nAnswer:\n\n###[ How many patients were admitted to the emergency department in 2019?]\nAnswer:\n\n###[ How many patients had an influenza vaccine in Jan 2020?]\nAnswer:\n\n###[ How many patients have been hospitalized for pneumonia since 2015?]\nAnswer:\n\n###[ How many patients have not been hospitalized for pneumonia since 2015?]\nAnswer:\n\n###[ How many patients have been hospitalized for COVID-19 since 2019?]\nAnswer:\n\n###[ How many patients have not been hospitalized for COVID-19 since 2019?]","11478":"{\n    \"query\": {\n        \"match\": {\n            \"VAX_NAME\": \"INFLUENZA (SEASONAL) (FLUZONE HIGH-DOSE QUADRIVALENT)\"\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is","10700":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"STATE\": \"04\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"AGE_YRS\": \"25-34\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAERS_ID\": \"198670\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"fever\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"Y\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"ER_VISIT\": \"Y\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"L_THREAT\": \"Y\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"HOSPITAL\": \"Y\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"HO","5165":"###[How many patients have had at least one dose of COVID-19 vaccine administered to them in the last 30 days?]\nAnswer:\n\n###[What percentage of people who received a COVID-19 vaccine died within 7 days of receiving it?]\nAnswer:\n\n###[What percentage of people who received a COVID-19 vaccine died within 30 days of receiving it?]\nAnswer:\n\n###[What percentage of people who received a COVID-19 vaccine died within 90 days of receiving it?]\nAnswer:\n\n###[What percentage of people who received a COVID-19 vaccine died within 180 days of receiving it?]\nAnswer:\n\n###[What percentage of people who received a COVID-19 vaccine died within 365 days of receiving it?]\nAnswer:","236":"\"\"\"\n\nimport json\nfrom elasticsearch import Elasticsearch\n\n\ndef get_es():\n    es = Elasticsearch(\n        hosts=[{'host': 'localhost', 'port': 9200}],\n        http_auth=('elastic', '<PASSWORD>'),\n        scheme=\"https\",\n        retry_on_timeout=True,\n        max_retries=10\n    )\n\n    return es\n\n\ndef search_by_field_value(index_name, field_name, field_value):\n    \"\"\"\n    Search by field name and field value\n    :param index_name: Index Name\n    :param field_name: Field Name\n    :param field_value: Field Value\n    :return:\n    \"\"\"\n    es = get_es()\n    body = {\n        \"query\": {\n            \"match\": {\n                f\"{field_name}\": f\"{field_value}\"\n            }\n        },\n        \"_source\": [\"RECVDATE\"]\n    }\n    res = es.search","6086":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"DIED\": \"Y\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"OVERWEIGHT\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 18,\n                            \"lte\": 90\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ List all the patients who have died in hospital. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HOSPITAL\": \"Y\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"Y\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"","7507":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"breath\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"breath\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Find any cases where the vaccine recipients had a history of diabetes. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HISTORY\": \"diabetes\"\n                    }\n                }\n            ],\n            \"filter\":","4491":"###[ What is the number of cases where the interval from the vaccination date to the onset date is less than or equal to 182.0 days? ]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is greater than 365.0 days? ]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is between 91.0 and 182.0 days? ]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is between 182.0 and 365.0 days? ]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is between 365.","10472":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"STATE\": \"MICHIGAN\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_MANU\": \"<NAME>\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"VAX_DATE\": {\n                            \"gte\": 20190101,\n                            \"lte\": 20191231\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string to parse\n    :return: Condition value as a string or None if no condition was found\n    \"\"\"\n    # TODO: Implement me!\n    return None\n\n\ndef generate_elasticsearch_query(field_name, condition_value=None):","12403":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Electrocardiogram ST segment abnormal\"\n          }\n        },\n        {\n          \"range\": {\n            \"VAX_DATE\": {\n              \"gte\": 1609459200000,\n              \"lte\": 1638771200000\n            }\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"term\": {\n            \"DIED\": false\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Given a list of questions and answers, generate an elasticsearch query\n    # that can be used to retrieve relevant documents.\n    #\n    # Input:\n    #   - List of questions (strings)\n    #   - List of answers (strings)","3601":"###[How many patients were vaccinated before 08\/30\/2021?]\nAnswer:\n\n###[What are the top 5 states in terms of number of deaths?]\nAnswer:\n\n###[What are the top 5 states in terms of number of hospitalization days?]\nAnswer:\n\n###[What are the top 5 states in terms of number of hospitalizations?]\nAnswer:\n\n###[What are the top 5 states in terms of number of visits to emergency rooms?]\nAnswer:\n\n###[What are the top 5 states in terms of number of visits to outpatient clinics?]\nAnswer:\n\n###[What are the top 5 states in terms of number of visits to other healthcare facilities?]\nAnswer:\n\n###[What are the top 5 states in terms of number of visits to phys","3491":"###[ How many patients are there in California who have died after receiving a COVID-19 vaccine?]\nAnswer:\n\n###[ Which state has the most number of deaths among all states?]\nAnswer:\n\n###[ Which state has the highest number of deaths among those who received at least one dose of Pfizer vaccine?]\nAnswer:\n\n###[ Which state has the highest number of deaths among those who received at least two doses of Pfizer vaccine?]\nAnswer:\n\n###[ Which state has the highest number of deaths among those who received at least three doses of Pfizer vaccine?]\nAnswer:\n\n###[ Which state has the highest number of deaths among those who received at least four doses of Pfizer vaccine?]\nAnswer:\n\n###[ Which state has the highest number of deaths among those who received at least","3202":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"03\/12\/2022\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME","1137":"###[How many patients have died in the hospital?]\nAnswer:\n\n###[What is the average number of days a patient has been in the hospital?]\nAnswer:\n\n###[How many patients were vaccinated against COVID-19?]\nAnswer:\n\n###[How many patients received at least one dose of Pfizer vaccine?]\nAnswer:\n\n###[How many patients received at least two doses of Pfizer vaccine?]\nAnswer:\n\n###[How many patients received at least three doses of Pfizer vaccine?]\nAnswer:\n\n###[How many patients received at least four doses of Pfizer vaccine?]\nAnswer:\n\n###[How many patients received at least five doses of Pfizer vaccine?]\nAnswer:\n\n###[How many patients received at least six doses of Pfizer vaccine","8405":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"BCG\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"lt\": 20190305\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Find all records who got flu shot before. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"flu\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"lt\": 20190305\n                        }\n                    }\n                }\n            ],\n            \"","2286":"###[ what are the top 3 states that have the highest number of deaths among all states in the US]\nAnswer:\n\n###[ what are the top 5 states that have the highest number of hospitalization days among all states in the US]\nAnswer:\n\n###[ what are the top 10 states that have the highest number of hospitalization days among all states in the US]\nAnswer:\n\n###[ what are the top 2 states that have the lowest number of hospitalization days among all states in the US]\nAnswer:\n\n###[ what are the top 4 states that have the highest number of hospitalization days among all states in the US]\nAnswer:\n\n###[ what are the top 5 states that have the highest number of hospitalization days among all states in the US]\nAnswer:\n\n###[ what are the top 6 states that have the highest number of hospitalization days among","9984":"###[On 05\/13\/2022, how many people are still alive?]\nAnswer:\n\n###[On 06\/07\/2022, how many people died?]\nAnswer:\n\n###[On 06\/07\/2022, what was the average age of deaths?]\nAnswer:\n\n###[On 06\/07\/2022, what was the average age of survivors?]\nAnswer:\n\n###[On 06\/07\/2022, what was the average number of days in hospital before death?]\nAnswer:\n\n###[On 06\/07\/2022, what was the average number of days in hospital after death?]\nAnswer:\n\n###[On 06\/07\/2022, what was","10019":"###[On 03\/10\/2022, what are the ages of all patients who died in hospital?]\nAnswer:\n\n###[On 03\/10\/2022, what are the symptoms reported by at least one patient who died in hospital?]\nAnswer:\n\n###[On 03\/10\/2022, what are the states where there were more than 500 cases of COVID-19?]\nAnswer:\n\n###[On 03\/10\/2022, which state has the most number of deaths due to COVID-19?]\nAnswer:\n\n###[On 03\/10\/2022, what is the average age of those who died in hospitals?]\nAnswer:\n\n###[On 03\/10\/2","711":"###[Give me the state with the highest number of deaths]\nAnswer:\n\n###[Give me the state with the lowest number of deaths]\nAnswer:\n\n###[Give me the state with the highest number of hospital days]\nAnswer:\n\n###[Give me the state with the lowest number of hospital days]\nAnswer:\n\n###[Give me the state with the highest number of hospitalizations]\nAnswer:\n\n###[Give me the state with the lowest number of hospitalizations]\nAnswer:\n\n###[Give me the state with the highest number of vaccinations]\nAnswer:\n\n###[Give me the state with the lowest number of vaccinations]\nAnswer:\n\n###[Give me the state with the highest number of allergies]\nAnswer:\n\n###[Give me the state with the lowest number of allergies]\nAnswer:\n\n###[Give me the","13028":"###[ what are the top 3 states that have the highest number of deaths among all patients who received at least one dose of Pfizer-BioNTech vaccine in the US?]\nAnswer:\n\n###[ how many patients were there in each state before they received any vaccines?]\nAnswer:\n\n###[ what is the average age of a patient who has been hospitalized for over 10 days?]\nAnswer:\n\n###[ what is the percentage of patients who died within 90 days of receiving their second dose of a COVID-19 vaccine?]\nAnswer:\n\n###[ what is the average length of stay (in days) for patients who received at least two doses of a COVID-19 vaccine?]\nAnswer:\n\n###[ what is the average length of stay (in days) for patients who received at least three doses of a COVID-","10968":"###[How many people have been injected with 0331421A in California]\nAnswer:\n\n###[How many people have been injected with 0331421A in California who died]\nAnswer:\n\n###[How many people have been injected with 0331421A in California who did not die]\nAnswer:\n\n###[How many people have been injected with 0331421A in California who were hospitalized]\nAnswer:\n\n###[How many people have been injected with 0331421A in California who were not hospitalized]\nAnswer:\n\n###[How many people have been injected with 0331421A in California who had a vaccine administered]\nAnswer:\n\n###[How many people have been injected with 0331421A in","1086":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 1.83,\n                            \"lte\": 1.83\n                        }\n                    }\n                },\n                {\n                    \"match_phrase\": {\n                        \"SYMPTOM_TEXT\": \"fever\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ List all patients who have died in hospital. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": true\n                    }\n                },\n                {\n                    \"term\": {\n                        \"HOSPITAL\": true\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ List all patients who were vaccinated against COVID-19. ]\nAnswer:","3164":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"07\/19\/2021\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME","9974":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"12\/06\/2021\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ],\n            \"filter\": [{\"range\": {\"AGE_YRS\": {\"gte\": 50}}}]\n        }\n    },\n    \"_source\": [\"DIED\", \"HOSPITAL\"]\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string to parse\n    :return: Condition value as a string or None if no condition found\n    \"\"\"\n    # TODO: Implement me!\n    return None\n\n\ndef generate_elasticsearch_query(field_name, condition_value=None):\n    \"\"\"\n    Generates an Elasticsearch query given a field name and optional condition value\n\n    :param field_name: Field name of interest\n    :param condition_value:","3657":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"RECVDATE\": \"10\/01\/2021\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"onset date of adverse event symptoms\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, V","755":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 90}}}\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"","12879":"Yes\n\n###[ Is there any person have Bleeding after vaccine? ]\nAnswer:\nNo\n\n###[ Is there any person have Fever after vaccine? ]\nAnswer:\nYes\n\n###[ Is there any person have Cough after vaccine? ]\nAnswer:\nYes\n\n###[ Is there any person have Shortness of Breath after vaccine? ]\nAnswer:\nYes\n\n###[ Is there any person have Headache after vaccine? ]\nAnswer:\nYes\n\n###[ Is there any person have Nausea or Vomiting after vaccine? ]\nAnswer:\nYes\n\n###[ Is there any person have Diarrhea after vaccine? ]\nAnswer:\nYes\n\n###[ Is there any person have Loss of Taste\/Smell after vaccine? ]\nAnswer:\nYes\n\n###[ Is there any person have Loss of Speech after v","12748":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"IIIrd nerve disorder\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"1\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 20210305,\n              \"lte\": 20210405,\n              \"format\": \"yyyyMMdd\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\ndef get_condition(question):\n    if 'nerve' in question or 'neurologic' in question:\n        return 'iii'\n    elif 'heart' in question:\n        return 'ii'\n    else:\n        return None\n\n\ndef generate_es_query(question, answer=None","199":"\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value\n\n    Parameters\n    ----------\n    question : str\n        Question string that needs to be parsed\n\n    Returns\n    -------\n    condition : str\n        Condition value extracted from the question string\n    \"\"\"\n    # TODO: Write your code here\n    return \"\"\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    This function takes in a field name and its corresponding condition value and generates an Elasticsearch query\n\n    Parameters\n    ----------\n    field_name : str\n        Field name of the Elasticsearch document\n    condition_value : str\n        Condition value of the field\n\n    Returns\n    -------\n    elasticsearch_query : dict\n        Dictionary containing the Elasticsearch query\n    \"\"\"\n    # TODO: Write your code here\n    return {}\n\n\nif __name__ == \"__main__\":\n    print(\"Question:\", question)\n    print(\"Condition Value:\", get_condition(question))\n    print(\"Elasticsearch Query","9119":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"USJNJFOC20220237050\"\n          }\n        }\n      ],\n      \"filter\": []\n    }\n  },\n  \"from\": 0,\n  \"size\": 10000\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    Parameters\n    ----------\n    question : str\n        Question text to parse\n\n    Returns\n    -------\n    str\n        Condition value extracted from the question\n    \"\"\"\n    # TODO: Implement this function!\n    return \"\"\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    Generates an Elasticsearch query given a field name and its corresponding condition value\n\n    Parameters\n    ----------\n    field_name : str\n        Field name of interest\n    condition_value : str\n        Value","9482":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"USJNJFOC20220151104\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\",","11369":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"STATE\": \"OT\"}},\n                {\"match\": {\"STATE\": \"UN\"}}\n            ],\n            \"should\": [\n                {\"match\": {\"VAX_TYPE\": \"COMIRNATY\/CHOP\"}},{\"match\": {\"VAX_TYPE\": \"MODERNA\/SINOVAC\"}},{\"match\": {\"VAX_TYPE\": \"PFIZER-BIONTECH\"}},{\"match\": {\"VAX_TYPE\": \"ASTRAZENECA\"}},{\"match\": {\"VAX_TYPE\": \"JOHNSON & JOHNSON\"}},{\"match\": {\"VAX_TYPE\": \"JANSSEN-CILAG\"}},{\"match\": {\"VAX_TYPE\": \"NOVOLOG\"}},{\"match\": {\"VAX_TYPE\": \"COVID-19 mRNA (nucleoside modified)\"}},{\"match\": {\"VAX_","2606":"###[ What are the top 3 states that have the most deaths in the US. ]\nAnswer:\n\n###[ What are the top 3 states that have the highest number of hospitalizations in the US. ]\nAnswer:\n\n###[ What are the top 3 states that have the highest number of cases in the US. ]\nAnswer:\n\n###[ What are the top 3 states that have the highest number of vaccine doses administered in the US. ]\nAnswer:\n\n###[ What are the top 3 states that have the highest number of allergies reported by the US. ]\nAnswer:\n\n###[ What are the top 3 states that have the highest number of adverse events reported by the US. ]\nAnswer:\n\n###[ What are the top 3 states that have the highest number of symptoms reported by the US. ]\nAnswer:\n\n###[ What","11487":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"<NAME>\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"TETANUS\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"DIPHTHERIA\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE","5793":"###[Is there any patients who was taking miralax prn?]\n\n###[Is there any patients who was taking miralax prn?]\n\n###[Is there any patients who was taking miralax prn?]\n\n###[Is there any patients who was taking miralax prn?]\n\n###[Is there any patients who was taking miralax prn?]\n\n###[Is there any patients who was taking miralax prn?]\n\n###[Is there any patients who was taking miralax prn?]\n\n###[Is there any patients who was taking miralax prn?]\n\n###[Is there any patients who was taking miralax prn?]\n\n###[Is there any patients who was taking miralax prn?]\n\n###[Is there any patients who was taking miralax prn?]\n\n###[Is there any patients who was taking miralax pr","10086":"###[On 01\/30\/2021, what are the ages of all patients who died in hospital?]\nAnswer:\n\n###[On 01\/30\/2021, what are the symptoms reported by at least one patient who died in hospital?]\nAnswer:\n\n###[On 01\/30\/2021, what is the average age of those who died in hospitals?]\nAnswer:\n\n###[On 01\/30\/2021, what is the average number of days a patient has spent in the hospital before dying?]\nAnswer:\n\n###[On 01\/30\/2021, what is the average number of days a patient has spent in the hospital after being admitted to the hospital?]\nAnswer:\n\n###[On 01\/","10119":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"flu3\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190101,\n                            \"lte\": 20191231,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[Give me all the patients who got flu3 in January]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"flu3\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DI","7607":"###[ How many patients have died in the past year? ]\nAnswer:\n\n###[ How many patients have been hospitalized in the past 12 months? ]\nAnswer:\n\n###[ How many patients have had a visit with an Emergency Room doctor in the last 30 days?]\nAnswer:\n\n###[ How many patients have received any type of vaccine in the past 12 months?]\nAnswer:\n\n###[ How many patients have received at least one dose of a COVID-19 vaccine in the past 12 months?]\nAnswer:\n\n###[ How many patients have received two or more doses of a COVID-19 vaccine in the past 12 months?]\nAnswer:\n\n###[ How many patients have not received a COVID-19 vaccine in the past 12 months?]\nAnswer:\n\n###[ How many patients","7046":"###[ How many patients are dignosed of nerve block? ]\n\n###[ How many patients are dignosed of nerve block? ]\n\n###[ How many patients are dignosed of nerve block? ]\n\n###[ How many patients are dignosed of nerve block? ]\n\n###[ How many patients are dignosed of nerve block? ]\n\n###[ How many patients are dignosed of nerve block? ]\n\n###[ How many patients are dignosed of nerve block? ]\n\n###[ How many patients are dignosed of nerve block? ]\n\n###[ How many patients are dignosed of nerve block? ]\n\n###[ How many patients are dignosed of nerve block? ]\n\n###[ How many patients are dignosed of nerve block? ]\n\n###[ How many patients are dignosed of nerve block? ]\n\n###[ How many patients are dign","9571":"{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"USPFIZER INC\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_LOT\": \"2021504356\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Pfizer Inc?]\nAnswer:\n{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"Pfizer Inc\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Moderna Inc?]\nAnswer:\n{\n  \"size\": 0,","12046":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"<NAME>\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"<NAME>\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ List all the patients who got a COVID-19 vaccine in Jan 2021. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"VAX_DATE\": {\n                            \"gte\": \"2021-01-01\",\n                            \"lte\": \"2021-01-31\"\n                        }\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"COVID-19 mRNA Vaccine Moderna\"\n                    }\n                }\n            ]\n        }","8826":"###[How many records had a positive test result (\u2018X\u2019) in the ELISA lab before?]\nAnswer:\n\n###[How many records had a negative test result (\u2018-\u2019) in the ELISA lab before?]\nAnswer:\n\n###[How many records had a \u2018+\u2019 or \u2018++\u2019 test result in the ELISA lab before?]\nAnswer:\n\n###[How many records had a \u2018+\u2019 or \u2018++\u2019 test result in the ELISA lab after?]\nAnswer:\n\n###[How many records had a \u2018+\u2019 or \u2018++\u2019 test result in the ELISA lab between 2015-03-01 to 2016-04-01?]\nAnswer:\n\n###[How many records had a \u2018+\u2019 or \u2018++\u2019 test result in the ELISA lab between 2017-03-01","1065":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 44.0}}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\n###[ List all patients","9198":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"USPFIZER INC\"\n    }\n  },\n  \"size\": 5\n}\n\n###[ Search for any cases where the vaccine recipient got a Pfizer-BioNTech vaccine. ]\nAnswer:\n{\n  \"query\": {\n    \"match\": {\n      \"VAX_NAME\": \"<NAME>\"\n    }\n  },\n  \"size\": 5\n}\n\n###[ Search for any cases where the vaccine recipient got a Moderna vaccine. ]\nAnswer:\n{\n  \"query\": {\n    \"match\": {\n      \"VAX_NAME\": \"Moderna\"\n    }\n  },\n  \"size\": 5\n}\n\n###[ Search for any cases where the vaccine recipient got a Janssen vaccine. ]\nAnswer:\n{\n  \"query\": {\n    \"match\": {\n      \"V","2607":"###[ How many patients are still alive on 02\/27\/2022. ]\nAnswer:\n\n###[ What is the average age of all patients who died in hospital on 02\/27\/2022. ]\nAnswer:\n\n###[ What is the average age of all patients who are still alive in hospital on 02\/27\/2022. ]\nAnswer:\n\n###[ What is the total number of deaths that occurred in the United States on 02\/27\/2022. ]\nAnswer:\n\n###[ What is the total number of patients who have ever been hospitalized in the United States on 02\/27\/2022. ]\nAnswer:\n\n###[ What is the total number of patients who have ever tested positive for COVID-19 in the United States on 02\/27","5880":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"anemic\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_","1307":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"cage_year\": \"96\"}}\n            ]\n        }\n    }\n}\n\n###[ Return all records whose state is Washington]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"state\": \"Washington\"}}\n            ]\n        }\n    }\n}\n\n###[ Return all records whose age is greater than or equal to 50 years old]\nAnswer:\n{\n    \"query\": {\n        \"range\": {\n            \"age\": {\n                \"gte\": 50\n            }\n        }\n    }\n}\n\n###[ Return all records whose age is less than or equal to 20 years old]\nAnswer:\n{\n    \"query\": {\n        \"range\": {\n            \"age\": {\n                \"lte\": 20\n            }\n        }\n    }","7533":"###[ Find any cases where the vaccine recipients had a history of diabetes mellitus.]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a history of asthma]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a history of heart disease]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a history of cancer]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a history of chronic lung disease]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a history of dementia]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a history of epilepsy]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a history of stroke]\nAnswer:\n\n###[ Find any cases where the vaccine recipients had a","11442":"###[ Find the most common symptoms among all patients who died. ]\nAnswer:\n\n###[ Find the top 5 states by number of deaths. ]\nAnswer:\n\n###[ Find the average age of patients who received a Pfizer vaccine. ]\nAnswer:\n\n###[ Find the percentage of patients who have had at least one allergy in their lifetime. ]\nAnswer:\n\n###[ Find the top 3 states that have the highest rate of hospitalization. ]\nAnswer:\n\n###[ Find the top 10 states that have the lowest rate of hospitalization. ]\nAnswer:\n\n###[ Find the top 5 states that have the highest rate of hospital days. ]\nAnswer:\n\n###[ Find the top 5 states that have the lowest rate of hospital days. ]\nAnswer:\n\n###[ Find the top 5 states that have the highest rate of hospital discharge","6680":"{\n  \"query\": {\n    \"match\": {\n      \"SYMPTOM_TEXT\": \"angioplasty\"\n    }\n  }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### ent","8287":"###[How many patients were hospitalized in the state of Washington?]\nAnswer:\n\n###[What are the top 5 states by number of deaths?]\nAnswer:\n\n###[What are the top 5 states by number of hospitalizations?]\nAnswer:\n\n###[What are the top 5 states by number of cases?]\nAnswer:\n\n###[What are the top 5 states by number of vaccine doses administered?]\nAnswer:\n\n###[What are the top 5 states by number of vaccine shots given out?]\nAnswer:\n\n###[What are the top 5 states by number of vaccine shots taken?]\nAnswer:\n\n###[What are the top 5 states by number of vaccine shots distributed?]\nAnswer:\n\n###[What are the top 5 states by number of vaccine shots expired","11889":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"VAX_NAME\": \"ROTAVIRUS\"}},\n                {\"match\": {\"VAX_NAME\": \"HEP A\"}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLER","3421":"###[ How many patients are there in California who have died after receiving a COVID-19 vaccine? ]\nAnswer:\n\n###[ Which state has the most number of deaths among all states?]\nAnswer:\n\n###[ Which state has the least number of deaths among all states?]\nAnswer:\n\n###[ Which state has the highest percentage of deaths among all states?]\nAnswer:\n\n###[ Which state has the lowest percentage of deaths among all states?]\nAnswer:\n\n###[ Which state has the highest average age among all states?]\nAnswer:\n\n###[ Which state has the lowest average age among all states?]\nAnswer:\n\n###[ Which state has the highest median age among all states?]\nAnswer:\n\n###[ Which state has the lowest median age among all states?]\nAnswer:\n\n###[ Which state has the highest minimum age among","9778":"###[ How many people are in the state of Washington who died after being vaccinated?]\nAnswer:\n\n###[ What is the average age of all patients who received a Pfizer vaccine in the state of Washington?]\nAnswer:\n\n###[ What is the average age of all patients who received a Moderna vaccine in the state of Washington?]\nAnswer:\n\n###[ What is the average age of all patients who received an Oxford vaccine in the state of Washington?]\nAnswer:\n\n###[ What percentage of patients who received a Pfizer vaccine in the state of Washington died?]\nAnswer:\n\n###[ What percentage of patients who received a Moderna vaccine in the state of Washington died?]\nAnswer:\n\n###[ What percentage of patients who received an Oxford vaccine in the state of Washington died?","10162":"###[ How many people has not got PNC20? ]\nAnswer:\n\n###[ How many people has got Pneumonia? ]\nAnswer:\n\n###[ How many people has not got Pneumonia? ]\nAnswer:\n\n###[ How many people has got Dengue? ]\nAnswer:\n\n###[ How many people has not got Dengue? ]\nAnswer:\n\n###[ How many people has got Chikungunya? ]\nAnswer:\n\n###[ How many people has not got Chikungunya? ]\nAnswer:\n\n###[ How many people has got Malaria? ]\nAnswer:\n\n###[ How many people has not got Malaria? ]\nAnswer:\n\n###[ How many people has got Hepatitis B? ]\nAnswer:\n\n###[ How many people has not got Hepatitis B? ]\nAnswer","8631":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"VARICELLA\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"ADENOVIRUS TYPES 4 & 7\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"TODAYS_DATE\": \"LIVE\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"TODAYS_DATE\": \"ORAL\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"2019-08-30\",\n                            \"lte\": \"2019-08-30\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ List all the recipients who took any of the following drug","8153":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"vax_date\": {\"gte\": \"2021-11-20\", \"lte\": \"2021-11-20\"}}}\n            ],\n            \"filter\": [{\"match_all\": {}}]\n        }\n    },\n    \"_source\": [\"vaers_id\"]\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from the question string\n\n    Parameters\n    ----------\n    question : str\n        Question text to parse\n\n    Returns\n    -------\n    str\n        Condition value extracted from the question string\n    \"\"\"\n    # TODO: Implement this function!\n    return \"\"\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    Generates an Elasticsearch query given a field name and its corresponding condition value\n\n    Parameters\n    ----------\n    field_name : str\n        Field name of interest\n    condition_","12686":"'''\n\ndef get_condition(question):\n    '''\n    This function takes in a question string and returns the condition value of the field.\n    For example, if the question was \"What is the condition value for this field?\"\n    Then it would return the answer to the question.\n    '''\n\n    # Split the question into words\n    split = question.split()\n    \n    # Get the index of the word 'value'\n    idx = split.index('value')\n    \n    # Return the next word as the condition value\n    return split[idx+1]\n\n\ndef generate_query(field_name, condition_value):\n    '''\n    This function generates an Elasticsearch query given a field name and its corresponding condition value.\n    It uses the global variable `es` which is an instance of the Elasticsearch class.\n    '''\n\n    # Define the query body\n    query_body = {\n        \"size\": 0,\n        \"_source\": [\"RECVDATE\", \"STATE\", \"AGE","9744":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"04\/04\/2022\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_condition(question","47":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"RECVDATE\": \"01\/14\/2022\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES","10001":"###[On 11\/29\/2021, how many people are still alive?]\nAnswer:\n\n###[On 11\/30\/2021, how many people died?]\nAnswer:\n\n###[On 12\/1\/2021, what was the average age of all patients at the time of their deaths?]\nAnswer:\n\n###[On 12\/2\/2021, what was the average age of all patients at the time of their hospitalization?]\nAnswer:\n\n###[On 12\/3\/2021, what was the average age of all patients at the time of their vaccination?]\nAnswer:\n\n###[On 12\/4\/2021, what was the average age of all patients at the time of their visit to a clinic?]","11923":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"VAX_NAME\": \"MEASLES\"}},\n                {\"match\": {\"VAX_NAME\": \"MUMPS\"}},\n                {\"match\": {\"VAX_NAME\": \"RUBELLA\"}},\n                {\"match\": {\"VAX_NAME\": \"VARICELLA\"}}\n            ],\n            \"filter\": [\n                {\"term\": {\"VAX_NAME\": \"DTP\"}}\n            ]\n        }\n    },\n    \"_source\": [\"VAERS_ID\"]\n}\n\n###[ List all the patients who got at least one of the following vaccines: PFIZER-BIONTECH, MODERNA, JOHNSON & JOHNSON, OXFORD\/ASTRAZENECA, COVISHIELD, CDC, CANADIAN, PFIZER-BIONTECH, MODERNA, JOHN","12602":"'''\n\ndef get_condition(question):\n    '''\n    This function takes in a question string and returns the condition value of the field.\n    For example, if the question was \"What is the condition value for this field?\"\n    Then it would return the answer to the question.\n    '''\n\n    # Split the question into words\n    split = question.split()\n    \n    # Get the index of the word 'value'\n    idx = split.index('value')\n    \n    # Return the next word as the condition value\n    return split[idx+1]\n\n\ndef generate_query(field_name, condition_value):\n    '''\n    This function generates an Elasticsearch query given a field name and its corresponding condition value.\n    It uses the global variable `es` which is an instance of the Elasticsearch class.\n    '''\n\n    # Define the query dictionary\n    q = {\n       'size': 0,\n        'aggs': {\n            'agg_name': {\n                'filter","12847":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Cytomegalovirus\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"Yes\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"AGE_YRS\": {\n              \"gte\": 18,\n              \"lte\": 65\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[ Is there any person have Chlamydia viraemia before vaccine? ]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Chlamydia\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"No\"\n          }\n        }","11223":"'''\n\ndef get_condition(question):\n    if 'UN' in question:\n        return ['United States', 'Russia']\n    elif 'RL' in question:\n        return ['Republic of Korea']\n    else:\n        return []\n\n\ndef generate_query(field_name, condition_value):\n    # print('field_name:', field_name)\n    # print('condition_value:', condition_value)\n\n    if len(condition_value) == 0:\n        return ''\n    \n    if field_name == 'RECVDATE':\n        return f\"{{\\\"range\\\": {{\\\"{field_name}\\\": {{\\\"gte\\\": \\\"2021-08-31\\\", \\\"lte\\\": \\\"2021-09-05\\\"}}}}}}\"\n    elif field_name == 'STATE':\n        return f\"{{\\\"terms\\\": {{\\\"{field_name}\\\": {condition_value}}}}}\"","12074":"###[ How many people received VARICELLA (VARILRIX) vaccine and ROTAVIRUS (ROTATEQ) vaccine in 2019. ]\nAnswer:\n\n###[ How many people received VARICELLA (VARILRIX) vaccine and ROTAVIRUS (ROTATEQ) vaccine in 2018. ]\nAnswer:\n\n###[ How many people received VARICELLA (VARILRIX) vaccine and ROTAVIRUS (ROTATEQ) vaccine in 2017. ]\nAnswer:\n\n###[ How many people received VARICELLA (VARILRIX) vaccine and ROTAVIRUS (ROTATEQ) vaccine in 2016. ]\nAnswer:\n\n###[ How many people received VARICELLA (VARILRIX) vaccine and ROTAVIRUS (ROTATEQ) vaccine in","4725":"###[How many patients are there in each state?]\nAnswer:\n\n###[What is the average age of all patients who received at least one dose of Pfizer-BioNTech vaccine?]\nAnswer:\n\n###[What percentage of patients who received at least one dose of Pfizer-BioNTech vaccine died within 90 days after receiving their second dose?]\nAnswer:\n\n###[What percentage of patients who received at least two doses of Pfizer-BioNTech vaccine died within 90 days after receiving their second dose?]\nAnswer:\n\n###[What percentage of patients who received at least three doses of Pfizer-BioNTech vaccine died within 90 days after receiving their third dose?]\nAnswer:\n\n###[What percentage of patients who received at least four doses of Pfizer-Bio","989":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 71}}},\n                {\"match\": {\"DIED\": \"Y\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"V","6595":"###[ Which state has the highest number of deaths in 2018]\nAnswer:\n\n###[ Which state has the highest number of hospitalizations in 2018]\nAnswer:\n\n###[ Which state has the highest number of vaccine doses administered in 2018]\nAnswer:\n\n###[ Which state has the highest number of allergies reported in 2018]\nAnswer:\n\n###[ Which state has the highest number of adverse events reported in 2018]\nAnswer:\n\n###[ Which state has the highest number of cases diagnosed in 2018]\nAnswer:\n\n###[ Which state has the highest number of cases treated in 2018]\nAnswer:\n\n###[ Which state has the highest number of cases received a visit in 2018]\nAnswer:\n\n###[","5543":"###[ Find the number of cases where the vaccine recipients had chicken pox at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had measles at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had mumps at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had rubella at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had smallpox at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had typhoid at the time of vaccination. ]\nAnswer:\n\n###[ Find the number of cases where the vaccine recipients had varicella at the time of","4866":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"ag test\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401\n                        }\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ Provide all records that are male. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"SEX\": \"Male\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401\n                        }\n                    }","11062":"###[How many people have been injected with 037F21A in California?]\nAnswer:\n\n###[How many people have been injected with 037F21A in California who are between 45-60 years old?]\nAnswer:\n\n###[How many people have been injected with 037F21A in California who are between 45-60 years old who died?]\nAnswer:\n\n###[How many people have been injected with 037F21A in California who are between 45-60 years old who did not die?]\nAnswer:\n\n###[How many people have been injected with 037F21A in California who are between 45-60 years old who were vaccinated today?]\nAnswer:\n\n###[How many people have been injected with 03","5757":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"xiosil\"\n          }\n        },\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 1583296000,\n              \"lte\": 1584728000\n            }\n          }\n        }\n      ],\n      \"filter\": [],\n      \"should\": [],\n      \"must_not\": []\n    }\n  }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: String containing the question to be parsed.\n    :return: Condition value of the question as a string.\n    \"\"\"\n\n    # TODO: Write your code here\n    if 'is there' in question or 'was taking' in question:\n        return","7382":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"hay fever\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"hay fever\"\n                    }\n                }\n            ],\n            \"filter\": {\n                \"range\": {\n                    \"RECVDATE\": {\n                        \"gte\": 1609459200,\n                        \"lte\": 1635673600\n                    }\n                }\n            }\n        }\n    }\n}\n\n###[ Show me all the patients who has a history of diabetes. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HISTORY\": \"diabetes\"\n                    }\n                }\n            ],\n            \"filter\": {\n                \"range\": {\n                    \"RECV","8838":"###[How many records had MENINGOCOCCAL B or RABIES before]\nAnswer:\n\n###[How many records had MENINGOCOCCAL B AND\/OR RABIES before]\nAnswer:\n\n###[How many records had MENINGOCOCCAL B OR RABIES before]\nAnswer:\n\n###[How many records had MENINGOCOCCAL B AND RABIES before]\nAnswer:\n\n###[How many records had MENINGOCOCCAL B OR\/AND RABIES before]\nAnswer:\n\n###[How many records had MENINGOCOCCAL B AND\/OR RABIES before]\nAnswer:\n\n###[How many records had MENINGOCOCCAL B OR RABIES before]\nAnswer:\n\n###[How many records had MENINGOCOCCAL B AND RABIES","9763":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"04\/08\/2021\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_condition(question","1717":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Dialysis\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1609459200,\n                            \"lte\": 1637814400\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_ME","9349":"###[ What is the number of records that the vaccine recipient did not get any vaccines. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient was hospitalized in a medical facility. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient died after getting the vaccine. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient had an emergency room visit. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient received a COVID-19 test result within 7 days of receiving the vaccine. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient has been diagnosed with COVID-19. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient has a history of cancer or other illnesses. ]","9139":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"USPFIZER INC\"\n    }\n  },\n  \"size\": 10000\n}\n\n###[ Search for any cases where the vaccine recipient got a Pfizer-BioNTech vaccine in Janssen series. ]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"Pfizer-BioNTech\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_LOT\": \"Janssen\"\n          }\n        }\n      ]\n    }\n  },\n  \"size\": 10000\n}\n\n###[ Search for any cases where the vaccine recipient got a Pfizer-BioNTech vaccine in Janssen series that was administered before January 1st,","291":"###[ How many patients' record are received before 1980-01-01]\nAnswer:\n\n###[ How many patients' record are received after 2020-01-01]\nAnswer:\n\n###[ How many patients' record are received in California]\nAnswer:\n\n###[ How many patients' record are received in New York]\nAnswer:\n\n###[ How many patients' record are received in Texas]\nAnswer:\n\n###[ How many patients' record are received in Florida]\nAnswer:\n\n###[ How many patients' record are received in Georgia]\nAnswer:\n\n###[ How many patients' record are received in Pennsylvania]\nAnswer:\n\n###[ How many patients' record are received in Ohio]\nAnswer:\n\n###[ How many patients' record are received in Michigan]","6742":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"intraocular lens\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 18,\n                            \"lte\": 90\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n    \"\"\"Test generate_elasticsearch_query function.\"\"\"\n\n    # Test case 1\n    assert (\n        generate_elasticsearch_query(\n            \"RECVDATE\", [\"0\"], {\"gte\": 20200305}, {\"lte\": 20200406}\n        )\n        == expected_output_case_1\n    )\n\n    #","182":"{\n    \"query\": {\n        \"match\": {\n            \"RECVDATE\": \"04\/25\/2022\"\n        }\n    }\n}\n\n###[ Find all cases that are male. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"SEX\": \"Male\"\n        }\n    }\n}\n\n###[ Find all cases that have died. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"DIED\": \"Yes\"\n        }\n    }\n}\n\n###[ Find all cases that were hospitalized. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"HOSPITAL\": \"Yes\"\n        }\n    }\n}\n\n###[ Find all cases that received a flu vaccine. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"VAX_NAME\": \"","5114":"###[How many patients has a sodium after vaccination]\nAnswer:\n\n###[How many patients has an Iron after vaccination]\nAnswer:\n\n###[How many patients has a Zinc after vaccination]\nAnswer:\n\n###[How many patients has a Calcium after vaccination]\nAnswer:\n\n###[How many patients has a Magnesium after vaccination]\nAnswer:\n\n###[How many patients has a Phosphorus after vaccination]\nAnswer:\n\n###[How many patients has a Potassium after vaccination]\nAnswer:\n\n###[How many patients has a Sodium after vaccination]\nAnswer:\n\n###[How many patients has an Iron after vaccination]\nAnswer:\n\n###[How many patients has a Zinc after vaccination]\nAnswer:\n\n###[How","498":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"STATE\": \"PR\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[Give me all the patients who has died in hospital.]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"term\": {\n                        \"DIED\": true\n                    }\n                },\n                {\n                    \"exists\": {\n                        \"field\": \"HOSPITAL\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[Give me all the patients who has not died in hospital.]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"term\": {\n                        \"DIED\": false\n                    }\n                },\n                {\n                    \"missing\": {\n                        \"field\": \"HOSPITAL\"\n                    }\n                }\n            ]","4789":"{\n    \"query\": {\n        \"match\": {\n            \"SYMPTOM_TEXT\": \"sonogram\"\n        }\n    }\n}\nPrompt: ###[Give me all the patients who are 60 years old or older]\nAnswer:\n{\n    \"query\": {\n        \"range\": {\n            \"AGE_YRS\": {\n                \"gte\": 60\n            }\n        }\n    }\n}\nPrompt: ###[Give me all the patients who have died in hospital.]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"term\": {\n                        \"DIED\": true\n                    }\n                },\n                {\n                    \"exists\": {\n                        \"field\": \"HOSPITAL\"\n                    }\n                }\n            ],\n            \"should\": [],\n            \"must_not\": []\n        }\n    }\n}\nPrompt: ###[Give me all the patients who were vaccinated against COVID-","1016":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"Age_yrs\": {\"gte\": 72}}},\n                {\"match\": {\"Sex\": \"F\"}},\n                {\"match\": {\"DIED\": \"Y\"}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"V","12015":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"VAX_NAME\": \"TDAP\"}},\n                {\"match\": {\"VAX_NAME\": \"HEPA\"}}\n            ]\n        }\n    },\n    \"_source\": [\"VAERS_ID\"]\n}\n\n###[ List all the patients who got TDAP (NO BRAND NAME) vaccine and HEP A (NO BRAND NAME) vaccine in 2019]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"VAX_NAME\": \"TDAP\"}},\n                {\"match\": {\"VAX_NAME\": \"HEPA\"}},\n                {\"range\": {\"VAX_DATE\": {\"gte\": \"2019-01-01\", \"lte\": \"2019-12-31\"}}}\n            ]\n        }\n    },\n    \"_source\":","6005":"###[ List all the patients who have a history of diabetes mellitus.]\nAnswer:\n\n###[ List all the patients who have been diagnosed with cancer]\nAnswer:\n\n###[ List all the patients who have been diagnosed with dementia]\nAnswer:\n\n###[ List all the patients who have been diagnosed with epilepsy]\nAnswer:\n\n###[ List all the patients who have been diagnosed with heart disease]\nAnswer:\n\n###[ List all the patients who have been diagnosed with hypertension]\nAnswer:\n\n###[ List all the patients who have been diagnosed with lung disease]\nAnswer:\n\n###[ List all the patients who have been diagnosed with stroke]\nAnswer:\n\n###[ List all the patients who have been diagnosed with tuberculosis]\nAnswer:\n\n###","9976":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"02\/22\/2022\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ],\n            \"filter\": [{\"range\": {\"AGE_YRS\": {\"gte\": 18}}}]\n        }\n    },\n    \"_source\": [\"DIED\", \"HOSPITAL\"]\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string to parse\n    :return: Condition value as a string or None if no condition was found\n    \"\"\"\n    # TODO: Implement me!\n    return None\n\n\ndef generate_elasticsearch_query(field_name, condition_value=None):\n    \"\"\"\n    Generates an Elasticsearch query given a field name and optional condition value\n\n    :param field_name: Field name of interest\n    :param condition_value","726":"###[Give me the state that has the highest number of deaths]\nAnswer:\n\n###[Give me the state that has the lowest number of deaths]\nAnswer:\n\n###[Give me the state that has the highest number of hospital days]\nAnswer:\n\n###[Give me the state that has the lowest number of hospital days]\nAnswer:\n\n###[Give me the state that has the highest number of hospitalizations]\nAnswer:\n\n###[Give me the state that has the lowest number of hospitalizations]\nAnswer:\n\n###[Give me the state that has the highest number of vaccinations]\nAnswer:\n\n###[Give me the state that has the lowest number of vaccinations]\nAnswer:\n\n###[Give me the state that has the highest number of allergies]\nAnswer:\n\n###[Give me the state that has the lowest number of allergies]","10762":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"STATE\": \"EC\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"EC6449\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20180301,\n                            \"lte\": 20180531,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Find all the cases where the vaccine recipients got vaccinated in EC6449 or EC6450. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"should\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"EC","12679":"\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value\n\n    Parameters\n    ----------\n    question : str\n        Question string to be parsed\n\n    Returns\n    -------\n    condition : str\n        Condition value extracted from the question string\n    \"\"\"\n    \n    # Split the question into words\n    split = question.split()\n    \n    # Find the index of the word 'with'\n    idx = split.index('with')\n    \n    # Extract the condition value from the question\n    condition = \" \".join(split[(idx+1):])\n    \n    return condition\n\n\ndef generate_query(field_name, condition):\n    \"\"\"\n    This function generates an Elasticsearch query given a field name and \n    condition value\n\n    Parameters\n    ----------\n    field_name : str\n        Field name to search for\n    condition : str\n        Condition value to filter by\n\n    Returns\n    -------\n    query : dict\n        Dictionary containing the Elasticsearch query\n    \"\"\"\n    \n    # Create the base query\n    query = {","7269":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"atorvastatin\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"2021-08-31\",\n                            \"lte\": \"2021-09-01\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    For example, if the question is 'What is the condition value for this field?' it will return the answer to the question.\n    :param question: str\n    :return: str\n    \"\"\"\n\n    # TODO","4200":"###[ What is the number of cases where onset date of adverse event symptom is 10\/08\/2020. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is 11\/08\/2020. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is 12\/08\/2020. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is 13\/08\/2020. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is 14\/08\/2020. ]\nAnswer:\n\n###[ What is the number of cases where onset date of ad","11886":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"VAX_NAME\": \"HPV\"}},\n                {\"match\": {\"VAX_NAME\": \"PNEUMO\"}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\"]\n}","11934":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"VAX_NAME\": \"ZOSTER\"}},\n                {\"match\": {\"VAX_NAME\": \"DTaP\"}},\n                {\"match\": {\"VAX_NAME\": \"HEPB\"}},\n                {\"match\": {\"VAX_NAME\": \"IPV\"}}\n            ]\n        }\n    },\n    \"_source\": [\"VAERS_ID\"]\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from the question string\n\n    :param question: Question string\n    :return: Condition value\n    \"\"\"\n    # TODO: Implement this method to return the condition value of a given question\n    pass\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    Generates an Elasticsearch query based on the provided field name and condition value\n\n    :param field_name: Field name\n    :param condition_value: Condition value\n    :return","10289":"\"\"\"\nimport json\nfrom elasticsearch import Elasticsearch\n\n\ndef get_es():\n    es = Elasticsearch(\n        hosts=[{'host': 'localhost', 'port': 9200}],\n        http_auth=('elastic', '<PASSWORD>'),\n        scheme=\"https\",\n        retry_on_timeout=True,\n        max_retries=10\n    )\n\n    return es\n\n\ndef search_by_field_name(es):\n    # Search by field name\n    body = {\n        \"query\": {\n            \"match\": {\"STATE\": \"Florida\"}\n        }\n    }\n    res = es.search(index='vaersdata', doc_type='_doc', body=body)\n    print(\"Got %d Hits:\" % res['hits']['total'])\n    for hit in res['hits']['hits']:\n        print(\"%(timestamp)s %(author)s: %(text)s\" % hit[\"_source\"])\n\n\ndef search_by_condition","5987":"###[ List all the patients who have diabetes. ]\nAnswer:\n\n###[ List all the patients who have heart disease. ]\nAnswer:\n\n###[ List all the patients who have cancer. ]\nAnswer:\n\n###[ List all the patients who have stroke. ]\nAnswer:\n\n###[ List all the patients who have kidney disease. ]\nAnswer:\n\n###[ List all the patients who have liver disease. ]\nAnswer:\n\n###[ List all the patients who have lung disease. ]\nAnswer:\n\n###[ List all the patients who have dementia. ]\nAnswer:\n\n###[ List all the patients who have epilepsy. ]\nAnswer:\n\n###[ List all the patients who have arthritis. ]\nAnswer:\n\n###[ List all the patients who have pneumonia. ]\nAnswer:\n\n###[ List","8425":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"MEASLES\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"lt\": 20190305\n                        }\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ Find all records who got a flu shot in Jan 2018]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"flu\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20180101,\n                            \"lte\": 20180131\n                        }\n                    }\n                }\n            ],\n            \"filter","11303":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"STATE\": \"LL\"}},\n                {\"match\": {\"STATE\": \"UN\"}}\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Given a list of conditions\n    conditions = [\"STATE == 'LL'\", \"STATE == 'UN'\"]\n\n    # When generate_elasticsearch_query() is called\n    elasticsearch_query = generate_elasticsearch_query(conditions)\n\n    # Then it should return an Elasticsearch query string\n    assert (\n        elasticsearch_query\n        == \"\"\"{\"query\":{\"bool\":{\"must\":[{\"match\":{\"STATE\":\"LL\"}},{\"match\":{\"STATE\":\"UN\"}}]}}}\"\"\"\n    )\n\n\ndef test_generate_elasticsearch_query_with_multiple_fields():\n\n    # Given a list of conditions\n    conditions = [\"STATE == 'LL'\", \"STATE == 'UN'\", \"AGE_YRS > 60\", \"AGE","2587":"###[ How many patients are still alive today. ]\nAnswer:\n\n###[ Which state has the most number of deaths in 2021. ]\nAnswer:\n\n###[ Which state has the highest number of hospitalization days in 2021. ]\nAnswer:\n\n###[ Which state has the highest number of hospitalized patients in 2021. ]\nAnswer:\n\n###[ Which state has the highest number of vaccinated patients in 2021. ]\nAnswer:\n\n###[ Which state has the highest number of allergic patients in 2021. ]\nAnswer:\n\n###[ Which state has the highest number of patients who received a flu vaccine in 2021. ]\nAnswer:\n\n###[ Which state has the highest number of patients who received an influenza vaccine in 2021. ]\nAnswer","387":"###[ Find the state that has the highest number of deaths among all states]\nAnswer:\n\n###[ Find the state that has the lowest number of deaths among all states]\nAnswer:\n\n###[ Find the state that has the highest number of hospitalization days among all states]\nAnswer:\n\n###[ Find the state that has the lowest number of hospitalization days among all states]\nAnswer:\n\n###[ Find the state that has the highest number of vaccine doses administered among all states]\nAnswer:\n\n###[ Find the state that has the lowest number of vaccine doses administered among all states]\nAnswer:\n\n###[ Find the state that has the highest number of patients who received at least one Pfizer vaccine dose among all states]\nAnswer:\n\n###[ Find the state that has the lowest number of patients who received at least one Pfizer vaccine","11179":"###[How many people got vaccine in CA?]\nAnswer:\n\n###[How many people got vaccine in NY?]\nAnswer:\n\n###[How many people got vaccine in PA?]\nAnswer:\n\n###[How many people got vaccine in IL?]\nAnswer:\n\n###[How many people got vaccine in OH?]\nAnswer:\n\n###[How many people got vaccine in MI?]\nAnswer:\n\n###[How many people got vaccine in FL?]\nAnswer:\n\n###[How many people got vaccine in TX?]\nAnswer:\n\n###[How many people got vaccine in GA?]\nAnswer:\n\n###[How many people got vaccine in NC?]\nAnswer:\n\n###[How many people got vaccine in WI?]\nAnswer:\n\n###[How many people got vaccine in SC","11898":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"VAX_NAME\": \"DTaP+IPV+HIB (PENTACEL)\"}},\n                {\"match\": {\"VAX_NAME\": \"MENINGOCOCCAL B (TRUMENBA)\"}}\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string to parse\n    :return: Condition value as a string or None if no condition was found\n    \"\"\"\n    # TODO: Implement this function!\n    return None\n\n\ndef generate_elasticsearch_query(field_name, condition_value=None):\n    \"\"\"\n    Generates an Elasticsearch query given a field name and optional condition value\n\n    :param field_name: Field name of interest\n    :param condition_value: Optional condition value; if specified, the returned query will","988":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"age_yrs\": {\"gte\": 0, \"lte\": 1}}},\n                {\"match\": {\"vax_type\": \"JANSSEN\"}},\n                {\"match\": {\"sex\": \"F\"}}\n            ],\n            \"filter\": [{\"term\": {\"died\": \"N\"}}]\n        }\n    },\n    \"_source\": [\"vaers_id\", \"recvdate\"]\n}\n\n###[ Return all vaccine recipients who received a Janssen vaccine in the last three months. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"age_yrs\": {\"gte\": 0, \"lte\": 1}}},\n                {\"match\": {\"vax_type\": \"JANSSEN\"}},\n                {\"range\": {\"recvdate\": {\"gte\": \"now-3M\/M","3856":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"01\/21\/2022\"\n                        }\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"01\/21\/2022\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU","10391":"\"\"\"\nimport json\nfrom elasticsearch import Elasticsearch\n\n\ndef get_es():\n    es = Elasticsearch(\n        hosts=[{'host': 'localhost', 'port': 9200}],\n        http_auth=('elastic', '<PASSWORD>'),\n        scheme=\"https\",\n        retry_on_timeout=True,\n        max_retries=10\n    )\n\n    return es\n\n\ndef search_by_field_name(es):\n    # Search by field name\n    body = {\n        \"query\": {\n            \"match\": {\"STATE\": \"TX\"}\n        }\n    }\n    res = es.search(index='vaersdata', doc_type='_doc', body=body)\n    print(\"Got %d Hits:\" % res['hits']['total'])\n    for hit in res['hits']['hits']:\n        print(\"%(timestamp)s %(author)s: %(text)s\" % hit[\"_source\"])\n\n\ndef search_by_condition_","7425":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"red apples\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"red apples\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Show me all the patients who has a history of diabetes. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HISTORY\": \"diabetes\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Show me all the patients who has a history of diabetes or hypertension. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"should\": [\n                {\n                    \"match\": {\n                        \"HISTORY\": \"diabetes\"\n                    }","10145":"###[ How many people has not got FLUX? ]\nAnswer:\n\n###[ How many people has been cured of FLUX? ]\nAnswer:\n\n###[ How many people has not been cured of FLUX? ]\nAnswer:\n\n###[ How many people has died due to FLUX? ]\nAnswer:\n\n###[ How many people has not died due to FLUX? ]\nAnswer:\n\n###[ How many people has been hospitalized due to FLUX? ]\nAnswer:\n\n###[ How many people has not been hospitalized due to FLUX? ]\nAnswer:\n\n###[ How many people has been disabilited due to FLUX? ]\nAnswer:\n\n###[ How many people has not been disabilited due to FLUX? ]\nAnswer:\n\n###[ How many people has been admitted to a hospital due to FLUX? ]\nAnswer","4917":"'''\n\ndef get_condition(question):\n    if 'What is the condition value' in question:\n        return question.split('What is the condition value')[1].strip()\n    else:\n        return None\n\n\ndef get_field_name(question):\n    if 'What is the filed name?' in question:\n        return question.split('What is the filed name?')[1].strip().replace('#', '')\n    elif 'What is the field name?' in question:\n        return question.split('What is the field name?')[1].strip().replace('#', '')\n    else:\n        return None\n\n\ndef generate_query(question, condition=None):\n    # print(question)\n    field = get_field_name(question)\n\n    if not field or (not condition and 'What is the condition value' in question):\n        return ''\n\n    if condition:\n        return f'{field}:\"{condition}\"'\n    else:\n        return","4855":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"high temperatures\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TEMP_F\": {\n                            \"lte\": 112\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES","10857":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAERS_ID\": \"934906\"\n          }\n        },\n        {\n          \"match\": {\n            \"TODAYS_DATE\": \"2021-05-07T00:00:00Z\"\n          }\n        }\n      ],\n      \"filter\": []\n    }\n  }\n}\n\n###[ List all the records where they took their shot in 934906 and died. ]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAERS_ID\": \"934906\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"Y\"\n          }\n        },\n        {\n          \"match\": {\n            \"TODAYS_DATE\":","5036":"###[ Find the number of cases that the vaccine recipients had a blood pressure reading taken. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a temperature taken. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a pulse taken. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a respiratory rate taken. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a body mass index taken. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a height taken. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a weight taken. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had an oxygen saturation taken. ]\nAnswer:\n\n###[ Find the number","4120":"###[ What is the number of cases where onset date of adverse event symptom is greater than or equal to 06\/21\/2021. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is less than or equal to 06\/21\/2021. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is between 06\/21\/2021 and 07\/21\/2021 (inclusive).]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is not between 06\/21\/2021 and 07\/21\/2021 (inclusive).]\nAnswer:\n\n###[ What is the number of cases where on","3069":"###[How many patients had a history of diabetes?]\nAnswer:\n\n###[What was the highest age among all patients who received at least one dose of Pfizer vaccine in the United States?]\nAnswer:\n\n###[What percentage of patients in the United States have died after receiving at least one dose of Pfizer vaccine?]\nAnswer:\n\n###[What percentage of patients in the United States have died after receiving at least one dose of Moderna vaccine?]\nAnswer:\n\n###[What percentage of patients in the United States have died after receiving at least one dose of Janssen vaccine?]\nAnswer:\n\n###[What percentage of patients in the United States have died after receiving at least one dose of any vaccine?]\nAnswer:\n\n###[What percentage of patients in the United States have not been hospitalized for 1","12826":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Enlarged uvula\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"0\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"AGE_YRS\": {\n              \"gte\": 18,\n              \"lte\": 99\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[ Is there any person have Fever after vaccine? ]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Fever\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"0\"\n          }\n        }\n      ],\n      \"filter\": [\n        {","3340":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"09\/28\/2021\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_TYPE\": \"COMBO\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: str\n    :return: list\n    \"\"\"\n\n    # TODO: Write your code here to extract the condition value from the question string.\n    return ['']\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    This function generates an Elasticsearch query given a field name and its corresponding condition value.\n    :param field_name: str\n    :param condition_value: str or int","12714":"###[ List all records that had Pneumonia associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Septicemia associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Chronic Kidney Disease associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Diabetes associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Meningitis associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Asthma associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had COPD associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Cancer associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Obesity","4590":"###[ What is the number of cases where the interval from the vaccination date to the onset date is less than or equal to 182.0 days? ]\nAnswer:\n\n###[ What is the number of cases where the interval from the vaccination date to the onset date is greater than 539.0 days? ]\nAnswer:\n\n###[ What is the average interval between the vaccination date and the onset date in days?]\nAnswer:\n\n###[ What is the median interval between the vaccination date and the onset date in days?]\nAnswer:\n\n###[ What percentage of all cases have an interval between the vaccination date and the onset date of at least 182 days?]\nAnswer:\n\n###[ What percentage of all cases have an interval between the vaccination date and the onset date of at most 447","12730":"###[ List all records that had Pneumonia associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Chicken pox associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Meningitis associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Dengue fever associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Malaria associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Rabies associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Typhoid associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had Hepatitis B or C associated with the vaccination. ]\nAnswer:\n\n###[ List all records that had T","8051":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"07\/20\/21\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"STATE\": \"VA\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ List all the records who was vaccinated on 07\/20\/21 in VA state. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"07\/20\/21\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"STATE\": \"VA\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ List all the records who was vaccinated on 07\/","12281":"###[ Which state has the highest number of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the highest","11360":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"STATE\": \"LA\"}},\n                {\"match\": {\"STATE\": \"LG\"}}\n            ],\n            \"filter\": [{\"range\": {\"VAX_DATE\": {\"gte\": \"2021-03-01\", \"lte\": \"2021-04-01\"}}}]\n        }\n    },\n    \"_source\": [\"RECVDATE\",\"STATE\",\"AGE_YRS\",\"VAERS_ID\",\"SEX\",\"SYMPTOM_TEXT\",\"DIED\",\"ER_VISIT\",\"L_THREAT\",\"HOSPITAL\",\"HOSPDAYS\",\"DISABLE\",\"VAX_DATE\",\"LAB_DATA\",\"OTHER_MEDS\",\"CUR_ILL\",\"HISTORY\",\"PRIOR_VAX\",\"TODAYS_DATE\",\"OFC_VISIT\",\"VAX_TYPE\",\"VAX_MANU\",\"VAX_LOT\",\"VAX_DOSE_SERIES","9145":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"USPFIZER INC\"\n    }\n  },\n  \"size\": 10000\n}\n\n###[ Search for any cases where the vaccine recipient got a Pfizer-BioNTech vaccine. ]\nAnswer:\n{\n  \"query\": {\n    \"match\": {\n      \"VAX_NAME\": \"<NAME>\"\n    }\n  },\n  \"size\": 10000\n}\n\n###[ Search for any cases where the vaccine recipient got a Moderna vaccine. ]\nAnswer:\n{\n  \"query\": {\n    \"match\": {\n      \"VAX_NAME\": \"Moderna\"\n    }\n  },\n  \"size\": 10000\n}\n\n###[ Search for any cases where the vaccine recipient got a Janssen vaccine. ]\nAnswer:\n{","9201":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"USPFIZER INC\"\n    }\n  },\n  \"size\": 10000\n}\n\n###[ Search for any cases where the vaccine recipient got a Pfizer-BioNTech vaccine in Janssen series. ]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"Pfizer-BioNTech\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_LOT\": \"Janssen\"\n          }\n        }\n      ]\n    }\n  },\n  \"size\": 10000\n}\n\n###[ Search for any cases where the vaccine recipient got a Pfizer-BioNTech vaccine in Janssen series that was given as a single dose. ]","273":"\"\"\"\n\nimport json\nfrom elasticsearch import Elasticsearch\n\n\ndef get_es():\n    es = Elasticsearch(\n        hosts=[{'host': 'localhost', 'port': 9200}],\n        http_auth=('elastic', '<PASSWORD>'),\n        scheme=\"https\",\n        retry_on_timeout=True,\n        max_retries=10\n    )\n\n    return es\n\n\ndef search_by_field_value(index_name, field_name, field_value):\n    \"\"\"\n    Search by field name and field value\n    :param index_name: Index Name\n    :param field_name: Field Name\n    :param field_value: Field Value\n    :return:\n    \"\"\"\n    es = get_es()\n    body = {\n        \"query\": {\n            \"match\": {\n                f\"{field_name}\": f\"{field_value}\"\n            }\n        },\n        \"_source\": [\"RECVDATE\"]\n    }\n    res = es.search","538":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"STATE\": \"VI\"}},\n            ],\n        }\n    },\n}\n\n###[ Give me all the patients who has died in hospital. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"term\": {\"DIED\": True}},\n            ],\n        }\n    },\n}\n\n###[ Give me all the patients who has not been vaccinated. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"exists\": {\"field\": \"VAX_DATE\"}},\n            ],\n        }\n    },\n}\n\n###[ Give me all the patients who has not been vaccinated but received a Pfizer vaccine. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"exists\": {\"field","1349":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"cage_year\": \"48.0\"}}\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n    \"\"\"Test generate_elasticsearch_query function.\"\"\"\n\n    # Test case 1\n    assert (\n        generate_elasticsearch_query(\n            \"RECVDATE\", [\"4\/23\/2020\"], \"eq\"\n        ) == '{\"query\":{\"bool\":{\"must\":[{\"range\":{\"RECVDATE\":{\"gte\":\"2020-04-23T00:00:00\",\"lte\":\"2020-04-23T23:59:59\"}}}]}}}'\n    ), \"Test Case 1 failed.\"\n\n    # Test case 2\n    assert (\n        generate_elasticsearch_query(\"STATE\", [\"VA\"])\n        == '{\"query\":{\"bool\":{\"must","11770":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_NAME\": \"TYPHOID VI POLYSACCHARIDE (NO BRAND NAME)\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_NAME\": \"DTAP\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_NAME\": \"IPV\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_NAME\": \"HIB (PENTACEL)\"\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Given a prompt and answer, generate an elasticsearch query that matches the answer\n    prompt = \"\"\"What are the symptoms of COVID-19?\"\"\"\n    answer = [\"fever\", \"cough\"]\n    expected_output = {\"query\": {\"match\": {\"SYMPTOM_TEXT","3859":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"07\/01\/2020\"\n                        }\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"07\/01\/2020\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Give me all the patients who were diagnosed with cancer in their 40s. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"lte\": 40\n                        }\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"CANCER\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Give me all the","2853":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"HOSPDAYS\": {\n                            \"gte\": 10.0,\n                            \"lte\": 10.0\n                        }\n                    }\n                },\n                {\n                    \"match_phrase\": {\n                        \"SYMPTOM_TEXT\": {\n                            \"query\": \"hospitalization\"\n                        }\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, V","9843":"###[ How many people are in the state of Washington who died after being vaccinated? ]\nAnswer:\n\n###[ What is the average age of all patients who received a Pfizer vaccine in the state of Washington?]\nAnswer:\n\n###[ What is the average age of all patients who received a Moderna vaccine in the state of Washington?]\nAnswer:\n\n###[ What is the average age of all patients who received an Oxford vaccine in the state of Washington?]\nAnswer:\n\n###[ What percentage of patients who received a Pfizer vaccine in the state of Washington died?]\nAnswer:\n\n###[ What percentage of patients who received a Moderna vaccine in the state of Washington died?]\nAnswer:\n\n###[ What percentage of patients who received an Oxford vaccine in the state of Washington died?","4828":"{\n    \"query\": {\n        \"match\": {\n            \"SYMPTOM_TEXT\": \"physical\"\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### entify the filed","12937":"###[ what are the top 5 states that have the highest number of deaths among all states?]\nAnswer:\n\n###[ how many people in each state died due to COVID-19?]\nAnswer:\n\n###[ what is the average age of a person who has been diagnosed with COVID-19?]\nAnswer:\n\n###[ what is the percentage of male and female patients who have been diagnosed with COVID-19?]\nAnswer:\n\n###[ what is the distribution of the age group of those who have been diagnosed with COVID-19?]\nAnswer:\n\n###[ what is the distribution of the gender of those who have been diagnosed with COVID-19?]\nAnswer:\n\n###[ what is the distribution of the race of those who have been diagnosed with COVID-19?]\nAnswer:\n\n###[ what is","7718":"\"\"\"\nimport json\nfrom elasticsearch import Elasticsearch\n\n\ndef get_es():\n    es = Elasticsearch(\n        hosts=[{'host': 'localhost', 'port': 9200}],\n        http_auth=('elastic', '<PASSWORD>'),\n        scheme=\"https\",\n        retry_on_timeout=True,\n        max_retries=10\n    )\n\n    return es\n\n\ndef search_by_field_name(es):\n    # Search by field name\n    body = {\n        \"query\": {\n            \"match\": {\"FIELD_NAME\": \"CONDITION_VALUE\"}\n        }\n    }\n    res = es.search(index='clinical-notes', doc_type='_doc', body=body)\n    print(\"Got %d Hits:\" % res['hits']['total'])\n    for hit in res['hits']['hits']:\n        print(\"%(timestamp)s %(author)s: %(text)s\" % hit[\"_source\"])\n\n\nif __","4014":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"12\/31\/2020\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\n###[ Find all the records where the","10078":"###[On 12\/16\/2021, what are the ages of all patients who died in hospital?]\nAnswer:\n\n###[On 12\/16\/2021, what are the symptoms reported by at least one patient who died in hospital?]\nAnswer:\n\n###[On 12\/16\/2021, what are the states where there were more than 500 deaths?]\nAnswer:\n\n###[On 12\/16\/2021, what are the states where there were more than 300 deaths?]\nAnswer:\n\n###[On 12\/16\/2021, what are the states where there were more than 100 deaths?]\nAnswer:\n\n###[On 12\/16\/2021,","4972":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"BACTERIOLOGY\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"SARS-COV-2\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"ANTIBODY\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 1583296000,\n                            \"lte\": 1584728000\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Provide all records that have a diagnosis of cancer or other illness. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"should\": [","6798":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"palpitations\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 18,\n                            \"lte\": 90\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Search all the patients who have died in hospital. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"DIED\": \"1\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"HOSPITAL\": \"1\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {","7026":"###[ How many patients have diabetes?]\nAnswer:\n\n###[ How many patients are over 60 years old?]\nAnswer:\n\n###[ How many patients are male?]\nAnswer:\n\n###[ How many patients are female?]\nAnswer:\n\n###[ How many patients are not reported to have a sex?]\nAnswer:\n\n###[ How many patients are reported to have a sex?]\nAnswer:\n\n###[ How many patients are reported to have a symptom text?]\nAnswer:\n\n###[ How many patients are reported to have a hospital?]\nAnswer:\n\n###[ How many patients are reported to have a hospital days?]\nAnswer:\n\n###[ How many patients are reported to have a disable status?]\nAnswer:\n\n###[ How many patients are reported to have an ER visit?]\nAnswer:\n\n###[ How many","11296":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"STATE\": \"AR\"}},\n                {\"match\": {\"STATE\": \"LA\"}}\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Given a list of conditions\n    conditions = [\"LG\", \"AR\"]\n\n    # When generate_elasticsearch_query function is called\n    elasticsearch_query = generate_elasticsearch_query(conditions)\n\n    # Then it should return an Elasticsearch query\n    assert (\n        elasticsearch_query == \"\"\"{\"query\": {\"bool\": {\"must\": [{\"match\": {\"STATE\": \"AR\"}}, {\"match\": {\"STATE\": \"LA\"}}]}}}\"\"\"\n    )\n\n\ndef test_extract_field_name_and_condition_value():\n\n    # Given a question\n    question = \"Find all cases where people vaccinated in LG and AR.\"\n\n    # When extract_field_name_and_condition_value","1890":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Rhesus\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 18,\n                            \"lte\": 90\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Test case 1\n    print(\"Test Case 1\")\n    print(\n        generate_elasticsearch_query(\n            prompt=TEST_PROMPT_1, answer=TEST_ANSWER_1))\n    assert (generate_elasticsearch_query(prompt=TEST_PROMPT_1,\n                                         answer=TEST_ANSWER_1) == TEST_ES_QUERY","3629":"###[How many patients were vaccinated before 12\/14\/2021?]\nAnswer:\n\n###[What percentage of patients are vaccinated before 12\/14\/2021?]\nAnswer:\n\n###[What percentage of patients are vaccinated after 12\/14\/2021?]\nAnswer:\n\n###[What percentage of patients are vaccinated between 12\/13\/2021 to 12\/15\/2021?]\nAnswer:\n\n###[What percentage of patients are vaccinated between 12\/16\/2021 to 12\/18\/2021?]\nAnswer:\n\n###[What percentage of patients are vaccinated between 12\/19\/2021 to 12\/21\/2","5912":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"right kidney cyst\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"0\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 20190301,\n              \"lte\": 20190401,\n              \"format\": \"yyyyMMdd\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n    \"\"\"Test generate_elasticsearch_query function.\"\"\"\n\n    # Test case 1\n    input_text = (\n        'What are the symptoms of COVID-19?'\n    )\n    expected_output = (\n        '{\"query\":{\"bool\":{\"must\":[{\"match\":{\"SY","12838":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Impulse control disorder\"\n          }\n        },\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 1609459200000,\n              \"lte\": 1635788800000\n            }\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"term\": {\n            \"DIED\": false\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n    \"\"\"Test generate_elasticsearch_query function.\"\"\"\n\n    # Test case 1\n    result = generate_elasticsearch_query(\n        \"What is the average age of all patients who received a COVID-19 vaccination?\",\n        \"The average age of all patients who received","9044":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"USPFIZER INC\"\n    }\n  },\n  \"size\": 5000\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field?","2535":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"DIED\": \"Yes\"}},\n                {\"match\": {\"RECVDATE\": \"04\/20\/2022\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]","5767":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"atorvastatin\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"2021-03-01\",\n                            \"lte\": \"2021-04-01\"\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"STATE\": \"TX\"\n                    }\n                },\n                {\n                    \"term\": {\n                        \"AGE_YRS\": 56\n                    }\n                },\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                },\n                {\n                    \"term\": {\n                        \"HOSPITAL\": \"Y\"\n                    }\n                },\n                {\n                    \"term\": {\n                        \"DISABLE\": \"N\"\n                    }\n                },\n                {\n                    \"","1802":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Renal replacement therapy\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1609459200\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX","2829":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HOSPDAYS\": \"8\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLER","2826":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"HOSPDAYS\": \"14\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALL","4112":"###[ What is the number of cases where onset date of adverse event symptom is 03\/18\/2022. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is 04\/17\/2022. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is 05\/16\/2022. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is 06\/15\/2022. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is 07\/14\/2022. ]\nAnswer:\n\n###[ What is the number of cases where onset date of ad","1665":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Blood testosterone normal\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1638249600,\n                            \"lte\": 1638508800\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER","5482":"###[ List all the vaccine recipients who received a 2nd dose within 14 days after their 1st dose. ]\nAnswer:\n\n###[ List all the vaccine recipients who were given a Pfizer vaccine in the United States. ]\nAnswer:\n\n###[ List all the vaccine recipients who died before receiving their 1st dose. ]\nAnswer:\n\n###[ List all the vaccine recipients who have not been hospitalized for any reason. ]\nAnswer:\n\n###[ List all the vaccine recipients who are between 30-59 years old. ]\nAnswer:\n\n###[ List all the vaccine recipients who have had an influenza vaccine in the past year. ]\nAnswer:\n\n###[ List all the vaccine recipients who have never smoked. ]\nAnswer:\n\n###[ List all the vaccine recipients who have ever used","6647":"{\n    \"query\": {\n        \"match\": {\n            \"SYMPTOM_TEXT\": \"prostate cancer\"\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### ent","5806":"###[Is there any patients who was taking amoxicillin?]\nAnswer:\n\n###[Is there any patients who was taking azithromycin?]\nAnswer:\n\n###[Is there any patients who was taking ceftriaxone?]\nAnswer:\n\n###[Is there any patients who was taking cefotaxime?]\nAnswer:\n\n###[Is there any patients who was taking chloramphenicol?]\nAnswer:\n\n###[Is there any patients who was taking ciprofloxacin?]\nAnswer:\n\n###[Is there any patients who was taking clindamycin?]\nAnswer:\n\n###[Is there any patients who was taking daptomycin?]\nAnswer:\n\n###[Is there any patients who was taking darifenacin?]\nAnswer:\n\n###[Is there any patients who was taking","1862":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Carbon dioxide abnormal\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"0\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 20190301,\n              \"lte\": 20190401,\n              \"format\": \"yyyyMMdd\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n    \"\"\"Test generate_elasticsearch_query function.\"\"\"\n\n    # Test case 1\n    assert (\n        generate_elasticsearch_query(\n            \"What is the patient's age?\", \"The patient's age is 56 years old.\"\n        )\n        == expected","10451":"###[ Which state has the most number of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the highest percentage of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the lowest percentage of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the least number of deaths among all states in the US?]\nAnswer:\n\n###[ Which state has the highest number of hospitalization days among all states in the US?]\nAnswer:\n\n###[ Which state has the lowest number of hospitalization days among all states in the US?]\nAnswer:\n\n###[ Which state has the highest percentage of hospitalization days among all states in the US?]\nAnswer:\n\n###[ Which state has the lowest percentage of hospitalization days among all states in the US?]\nAnswer:\n\n###[ Which","6691":"{\n    \"query\": {\n        \"match\": {\n            \"SYMPTOM_TEXT\": \"brain inflammation\"\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### ent","11833":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"VAX_NAME\": \"TD ADSORBED (TDVAX)\"}},\n                {\"match\": {\"VAX_NAME\": \"POLIO VIRUS, INACTIVATED (POLIOVAX)\"}}\n            ]\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: String containing the question to be parsed.\n    :return: Condition value of the question as a string.\n    \"\"\"\n\n    # Split the question into words using space delimiter.\n    split = question.split()\n\n    # Get the index of the word 'is'.\n    idx = split.index('is') + 1\n\n    # Return the condition value which comes after 'is' keyword.\n    return split[idx]\n\n\ndef generate_elasticsearch","5675":"###[ How many patients was taking advil prn in 2019? ]\nAnswer:\n\n###[ How many patients was taking advil prn in 2018? ]\nAnswer:\n\n###[ How many patients was taking advil prn in 2017? ]\nAnswer:\n\n###[ How many patients was taking advil prn in 2016? ]\nAnswer:\n\n###[ How many patients was taking advil prn in 2015? ]\nAnswer:\n\n###[ How many patients was taking advil prn in 2014? ]\nAnswer:\n\n###[ How many patients was taking advil prn in 2013? ]\nAnswer:\n\n###[ How many patients was taking advil prn in 2012? ]\nAnswer:\n\n###[ How many patients was taking","12203":"###[ How many people received HEP A (HAVRIX) vaccine and MENINGOCOCCAL B (BEXSERO) vaccine in 2018. ]\nAnswer:\n\n###[ How many people received HEP A (HAVRIX) vaccine and MENINGOCOCCAL B (BEXSERO) vaccine in 2019. ]\nAnswer:\n\n###[ How many people received HEP A (HAVRIX) vaccine and MENINGOCOCCAL B (BEXSERO) vaccine in 2020. ]\nAnswer:\n\n###[ How many people received HEP A (HAVRIX) vaccine and MENINGOCOCCAL B (BEXSERO) vaccine in 2021. ]\nAnswer:\n\n###[ How many people received HEP A (HAVRIX) vaccine and MENING","520":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"STATE\": \"NV\"}},\n            ],\n        }\n    },\n}\n\n###[ Give me all the patients who has died in hospital. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"term\": {\"DIED\": True}},\n            ],\n        }\n    },\n}\n\n###[ Give me all the patients who has not been vaccinated against COVID-19. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"term\": {\"PRIOR_VAX\": False}},\n            ],\n        }\n    },\n}\n\n###[ Give me all the patients who has received at least 2 doses of Pfizer vaccine. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [","11563":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"ZOSTER\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"2021-08-31\",\n                            \"lte\": \"2021-09-01\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    Args:\n        question (str): Question text to parse\n\n    Returns:\n        str: Condition value extracted from the question\n    \"\"\"\n    # TODO: Implement this function!\n    return \"\"\n\n\ndef generate_elasticsearch_query(field_name, condition_","6741":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"ankylosing spondylitis\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"0\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"AGE_YRS\": {\n              \"gte\": 18,\n              \"lte\": 90\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Test case 1\n    print(\"Test Case 1\")\n    input_question = \"What is the patient's age?\"\n    expected_output = \"\"\"\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT,","3993":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"05\/01\/2020\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\n###[ Find all the records where the","2686":"###[How many patients are there in the state of Washington who were vaccinated on 09\/08\/2021]\nAnswer:\n\n###[What percentage of all patients in the state of Washington have died after receiving a COVID-19 vaccine? Round to two decimal places.]\nAnswer:\n\n###[What is the average age of all patients who received a COVID-19 vaccine in the state of Washington? Round to one decimal place.]\nAnswer:\n\n###[What is the total number of deaths among all patients who received a COVID-19 vaccine in the state of Washington?]\nAnswer:\n\n###[What is the average hospital days (including current hospitalization) among all patients who received a COVID-19 vaccine in the state of Washington? Round to whole numbers.]\nAnswer:\n\n###[What is the average length of stay (hospital","6040":"###[ List all the patients who have been diagnosed with cancer. ]\nAnswer:\n\n###[ List all the patients who have been diagnosed with cancer or diabetes. ]\nAnswer:\n\n###[ List all the patients who have not been diagnosed with cancer but have been diagnosed with diabetes. ]\nAnswer:\n\n###[ List all the patients who have not been diagnosed with cancer nor diabetes. ]\nAnswer:\n\n###[ List all the patients who have not been diagnosed with cancer and have not been diagnosed with diabetes. ]\nAnswer:\n\n###[ List all the patients who have been diagnosed with cancer and have not been diagnosed with diabetes. ]\nAnswer:\n\n###[ List all the patients who have been diagnosed with cancer or have been diagnosed with diabet","12571":"###[ What are the top 5 states in terms of number of deaths due to COVID-19? ]\nAnswer:\n\n###[ Which state has the highest number of deaths due to COVID-19? ]\nAnswer:\n\n###[ Which state has the lowest number of deaths due to COVID-19? ]\nAnswer:\n\n###[ Which state has the highest number of cases due to COVID-19? ]\nAnswer:\n\n###[ Which state has the lowest number of cases due to COVID-19? ]\nAnswer:\n\n###[ Which state has the highest number of hospitalizations due to COVID-19? ]\nAnswer:\n\n###[ Which state has the lowest number of hospitalizations due to COVID-19? ]\nAnswer:\n\n###[ Which state has the highest number of tests done due to COVID-19? ]\nAnswer:\n\n###[ Which state","4472":"'''\n\ndef get_condition(field):\n    if field == 'RECVDATE':\n        return ['>=', '2019-08-31']\n    elif field == 'STATE':\n        return ['=', 'VA']\n    elif field == 'AGE_YRS':\n        return ['>', '65']\n    elif field == 'VAERS_ID':\n        return ['!=', '']\n    elif field == 'SEX':\n        return ['=', 'F']\n    elif field == 'SYMPTOM_TEXT':\n        return ['!=', '']\n    elif field == 'DIED':\n        return ['=','']\n    elif field == 'ER_VISIT':\n        return ['=','']\n    elif field == 'L_THREAT':\n        return ['=','']\n    elif field == 'HOSPITAL':\n        return ['=','']\n    elif field == 'HOSPDAYS':\n        return ['<=', '7']\n    elif field","8903":"###[How many records had Pneumonia and influenza before]\nAnswer:\n\n###[How many records had Measles before]\nAnswer:\n\n###[How many records had Typhoid and cholera before]\nAnswer:\n\n###[How many records had Diphtheria and tetanus before]\nAnswer:\n\n###[How many records had Polio and dengue before]\nAnswer:\n\n###[How many records had Tuberculosis before]\nAnswer:\n\n###[How many records had AIDS before]\nAnswer:\n\n###[How many records had Malaria before]\nAnswer:\n\n###[How many records had other viral infections before]\nAnswer:\n\n###[How many records had mosquito-borne diseases before]\nAnswer:\n\n###[How many records had West Nile virus before]","8742":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Zoster\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Adenovirus Type 4\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Adenovirus Type 7\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"OFC_VISIT\": \"1\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"HISTORY\": \"Live\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"HISTORY\": \"Oral\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"20","9659":"{\n    \"query\": {\n        \"match\": {\n            \"FORM_VERS\": \"2\"\n        }\n    },\n    \"size\": 10000\n}\n\n###[ Return all records where the state is Washington. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"STATE\": \"Washington\"\n                    }\n                }\n            ]\n        }\n    },\n    \"size\": 10000\n}\n\n###[ Return all records where the sex is Female. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SEX\": \"Female\"\n                    }\n                }\n            ]\n        }\n    },\n    \"size\": 10000\n}\n\n###[ Return all records where the age is greater than or equal to 65","663":"###[ How many patients are from WI? ]\nAnswer:\n\n###[ How many patients are from MI? ]\nAnswer:\n\n###[ How many patients are from IL? ]\nAnswer:\n\n###[ How many patients are from IN? ]\nAnswer:\n\n###[ How many patients are from OH? ]\nAnswer:\n\n###[ How many patients are from KS? ]\nAnswer:\n\n###[ How many patients are from NY? ]\nAnswer:\n\n###[ How many patients are from CA? ]\nAnswer:\n\n###[ How many patients are from FL? ]\nAnswer:\n\n###[ How many patients are from TX? ]\nAnswer:\n\n###[ How many patients are from PA? ]\nAnswer:\n\n###[ How many patients are from GA? ]\nAnswer:\n\n###[ How many patients are from NC? ]\nAnswer:\n\n###","11918":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"VAX_NAME\": \"INFLUENZA (SEASONAL) (FLUARIX)\"}},\n                {\"match\": {\"VAX_NAME\": \"COVID19 (COVID19 (JANSSEN))\"}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"V","4902":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"blood sugar test\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190430\n                        }\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ Provide all records that are male patients who received a flu vaccine in Jan-2020. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"term\": {\n                        \"SEX\": \"Male\"\n                    }\n                },\n                {\n                    \"term\": {\n                        \"VAX_NAME\": \"Influenza, seasonal, injectable, preservative free\"\n                    }","12282":"###[ Which state has the highest number of deaths among all states in the US]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in the US]\nAnswer:\n\n###[ Which state has the highest number of deaths among all states in","9893":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"02\/23\/2022\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ],\n            \"filter\": [{\"range\": {\"AGE_YRS\": {\"gte\": 18}}}]\n        }\n    },\n    \"_source\": [\"SYMPTOM_TEXT\"]\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    Extracts the condition value from a question string\n\n    :param question: Question string to parse\n    :return: Condition value as a string or None if no condition found\n    \"\"\"\n    # TODO: Add support for multiple conditions in one question\n    match = re.search(r\"\\[(.*?)\\]\", question)\n    return match.group(1).strip() if match else None\n\n\ndef generate_elasticsearch_query(field_name, condition=None):\n    \"\"\"\n    Generates an Elasticsearch","5007":"###[ Find the number of cases that the vaccine recipients had flu shot. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had pneumonia. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had measles. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had rubella. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had polio. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had tetanus. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had hepatitis B. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had Hepatitis C. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had","716":"###[Give me the state that has the highest number of deaths]\nAnswer:\n\n###[Give me the state that has the lowest number of deaths]\nAnswer:\n\n###[Give me the state that has the highest number of hospital days]\nAnswer:\n\n###[Give me the state that has the lowest number of hospital days]\nAnswer:\n\n###[Give me the state that has the highest number of hospitalizations]\nAnswer:\n\n###[Give me the state that has the lowest number of hospitalizations]\nAnswer:\n\n###[Give me the state that has the highest number of vaccinations]\nAnswer:\n\n###[Give me the state that has the lowest number of vaccinations]\nAnswer:\n\n###[Give me the state that has the highest number of allergies]\nAnswer:\n\n###[Give me the state that has the lowest number of allergies]","11002":"###[How many people have been injected with a vaccine that contains the following ingredients: 5-FU, 20-CR, 40-TR, 60-PR, 80-HE, 100-PA, 120-AC, 140-IN, 160-CE, 180-NI, 200-TE, 220-LI, 240-BE, 260-LU, 280-MO, 300-AM, 320-SC, 340-TI, 360-FO, 380-VA, 400-AL, 420-PT, 440-AU, 460-HG, 480-PB, 500-BI, 520-","12175":"###[ How many people received INFLUENZA (SEASONAL) (FLUZONE) vaccine and PNEUMOVAX vaccine. ]\nAnswer:\n\n###[ How many people received INFLUENZA (SEASONAL) (FLUZONE) vaccine and COVISHIELD vaccine. ]\nAnswer:\n\n###[ How many people received INFLUENZA (SEASONAL) (FLUZONE) vaccine and NOVEL-CORONAVIRUS vaccine. ]\nAnswer:\n\n###[ How many people received INFLUENZA (SEASONAL) (FLUZONE) vaccine and MODERNA vaccine. ]\nAnswer:\n\n###[ How many people received INFLUENZA (SEASONAL) (FLUZONE) vaccine and JANSSEN vaccine. ]\nAnswer:\n\n###[ How many people received INFLUEN","9004":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"USPFIZER INC\"\n    }\n  },\n  \"size\": 10000\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field","8989":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"USPFIZER INC\"\n    }\n  },\n  \"size\": 10000\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field","10406":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"UNKNOWN\"\n          }\n        }\n      ],\n      \"filter\": []\n    }\n  },\n  \"from\": 0,\n  \"size\": 10000\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    For example, if the question was 'What are the conditions for getting COVID-19?'\n    Then it would return ['COVID-19']\n    \"\"\"\n\n    # TODO: Write your code here\n    pass\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    This function takes in a field name (e.g., `STATE`) and a list of possible condition values (e.g., `[\"CA\", \"NY\"]`).\n    It should return","3767":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"11\/30\/2021\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"2021-01-01\",\n                            \"lte\": \"2021-12-31\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Given a list of questions and answers, generate an elasticsearch query\n    questions = [\"What is the patient's age?\",\n                 \"What is the patient's gender?\",\n                 \"When was the patient diagnosed with COVID-19?\",\n                 \"What are the","12506":"###[ How many people have Acoustic stimulation tests before vaccine? ]\nAnswer:\n\n###[ How many people have Antiviral drugs after vaccine? ]\nAnswer:\n\n###[ How many people have Antiviral drugs before vaccine? ]\nAnswer:\n\n###[ How many people have Blood pressure medication after vaccine? ]\nAnswer:\n\n###[ How many people have Blood pressure medication before vaccine? ]\nAnswer:\n\n###[ How many people have Corticosteroids after vaccine? ]\nAnswer:\n\n###[ How many people have Corticosteroids before vaccine? ]\nAnswer:\n\n###[ How many people have Dopamine Norepinephrine Reuptake Inhibitors (D-NDRIs) after vaccine? ]\nAnswer:\n\n###[ How many people have Dopamine N","1519":"###[How many patients are still in hospital today]\nAnswer:\n\n###[What is the average number of days a patient has been in hospital before being discharged?]\nAnswer:\n\n###[What is the average length of stay (in days) for COVID-19 positive patients who were admitted to the hospital?]\nAnswer:\n\n###[What is the average length of stay (in days) for COVID-19 positive patients who did not receive any care at all?]\nAnswer:\n\n###[What percentage of patients who received care died within 7 days of being hospitalized?]\nAnswer:\n\n###[What percentage of patients who did not receive care died within 7 days of being hospitalized?]\nAnswer:\n\n###[What is the average number of days a patient has spent in the ICU before being discharged?]\nAnswer:\n\n###[What is","1619":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Polychromasia\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1609459200,\n                            \"lte\": 1637814400\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_","11957":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"HEPA\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"FLU\"\n                    }\n                }\n            ],\n            \"should\": [\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"HEPB\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"FLU\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Test 1\n    input = \"\"\"What are the patients who have been diagnosed with diabetes mellitus and hypertension?\"\"\"\n    output = generate_elasticsearch_query(input)\n    assert output == expected_output_test_1\n\n    # Test 2\n    input = \"\"\"What are the patients","1880":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Biopsy lung\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190430\n                        }\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n    \"\"\"Test generate_elasticsearch_query function.\"\"\"\n\n    # Test case 1\n    print(\"Test Case 1\")\n    input_question = \"What are the patients who have Diabetes?\"\n    expected_output = {\n        \"query\": {\n            \"bool\": {\n                \"must\": [\n                    {\"match\": {\"SYMPTOM_TEXT\": \"Diabetes\"}},\n                    {\n                        \"range\": {","11936":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"vax_name\": \"HIB\"}},\n                {\"match\": {\"vax_name\": \"COVID-19\"}}\n            ]\n        }\n    },\n    \"_source\": [\"vaers_id\"]\n}\n\n###[ List all the patients who got at least one of these two vaccines: COVISHIELD (COVAXIN), COVISHIELD (COVAXIN) or Pfizer-BioNTech (BIONTECH).]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"should\": [\n                {\"match\": {\"vax_name\": \"COVISHIELD\"}},\n                {\"match\": {\"vax_name\": \"Pfizer-BioNTech\"}}\n            ],\n            \"minimum_should_match\": 1\n        }\n    },\n    \"_source\": [\"vaers_id\"]","5718":"###[ How many patients was taking dutasteride? ]\n\n###[ How many patients was taking dutasteride? ]\n\n###[ How many patients was taking dutasteride? ]\n\n###[ How many patients was taking dutasteride? ]\n\n###[ How many patients was taking dutasteride? ]\n\n###[ How many patients was taking dutasteride? ]\n\n###[ How many patients was taking dutasteride? ]\n\n###[ How many patients was taking dutasteride? ]\n\n###[ How many patients was taking dutasteride? ]\n\n###[ How many patients was taking dutasteride? ]\n\n###[ How many patients was taking dutasteride? ]\n\n###[ How many patients was taking dutasteride? ]\n\n###[ How many patients was taking dutasteride? ]\n\n###[ How many","8609":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"SYMPTOM_TEXT\": \"TDAP\"}},\n                {\"match\": {\"SYMPTOM_TEXT\": \"ROTAVIRUS\"}}\n            ],\n            \"filter\": [{\"range\": {\"RECVDATE\": {\"gte\": 20190301}}}]\n        }\n    },\n    \"_source\": [\"VAERS_ID\", \"STATE\", \"AGE_YRS\"]\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT,","448":"###[ Find the state that has the highest number of deaths among all states]\nAnswer:\n\n###[ Find the state that has the lowest number of deaths among all states]\nAnswer:\n\n###[ Find the state that has the highest number of hospitalization days among all states]\nAnswer:\n\n###[ Find the state that has the lowest number of hospitalization days among all states]\nAnswer:\n\n###[ Find the state that has the highest number of vaccine doses given out among all states]\nAnswer:\n\n###[ Find the state that has the lowest number of vaccine doses given out among all states]\nAnswer:\n\n###[ Find the state that has the highest number of patients who received at least one Pfizer vaccine in Jan-2021]\nAnswer:\n\n###[ Find the state that has the highest number of patients who received at least two Pfizer vacc","1553":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"SYMPTOM_TEXT\": \"Tympanic membrane disorder\"}},\n                {\"range\": {\"VAX_DATE\": {\"gte\": \"2021-03-05\"}}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX","714":"###[Give me the state that has the highest number of deaths]\nAnswer:\n\n###[Give me the state that has the lowest number of deaths]\nAnswer:\n\n###[Give me the state that has the highest number of hospital days]\nAnswer:\n\n###[Give me the state that has the lowest number of hospital days]\nAnswer:\n\n###[Give me the state that has the highest number of hospitalizations]\nAnswer:\n\n###[Give me the state that has the lowest number of hospitalizations]\nAnswer:\n\n###[Give me the state that has the highest number of vaccinations]\nAnswer:\n\n###[Give me the state that has the lowest number of vaccinations]\nAnswer:\n\n###[Give me the state that has the highest number of allergies]\nAnswer:\n\n###[Give me the state that has the lowest number of allergies]","4087":"###[ What is the number of cases where onset date of adverse event symptom is greater than or equal to 07\/22\/2013. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is less than or equal to 07\/22\/2013. ]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is between 07\/22\/2013 and 08\/22\/2013 (inclusive).]\nAnswer:\n\n###[ What is the number of cases where onset date of adverse event symptom is not between 07\/22\/2013 and 08\/22\/2013 (inclusive).]\nAnswer:\n\n###[ What is the number of cases where on","1162":"{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"AGE_YRS\": \"5.83\"\n          }\n        },\n        {\n          \"match\": {\n            \"STATE\": \"VA\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": \"2021-04-01\",\n              \"lte\": \"2021-06-30\",\n              \"format\": \"yyyy-MM-dd||yyyy\/MM\/dd||yyyyMMdd\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[How many patients were diagnosed with cancer in 2021]\nAnswer:\n{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\":","12070":"###[ How many people received PNEUMOVAX (CHAdOx1) vaccine and INFLUENZA (SEASONAL) (FLUZONE) vaccine. ]\nAnswer:\n\n###[ How many people received COVISHIELD (CHAdOx1) vaccine and INFLUENZA (SEASONAL) (FLUZONE) vaccine. ]\nAnswer:\n\n###[ How many people received MODERNA (CHAdOx1) vaccine and INFLUENZA (SEASONAL) (FLUZONE) vaccine. ]\nAnswer:\n\n###[ How many people received JOHNSON & JOHNSON (JANSSEN) (COVID-19) vaccine and INFLUENZA (SEASONAL) (FLUZONE) vaccine. ]\nAnswer:\n\n###[ How many people received NOVA SCOTIA (ChAdOx","5177":"###[How many patients has a mri test before vaccination]\nAnswer:\n\n###[What is the average age of all patients who received at least one dose of pfizer vaccine in 2018]\nAnswer:\n\n###[What is the average age of all patients who received at least two doses of pfizer vaccine in 2018]\nAnswer:\n\n###[What is the average age of all patients who received at least three doses of pfizer vaccine in 2018]\nAnswer:\n\n###[What is the average age of all patients who received at least four doses of pfizer vaccine in 2018]\nAnswer:\n\n###[What is the average age of all patients who received at least five doses of pfizer vaccine in 2018]\nAnswer:\n\n###[What is the average age of all","10401":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"GLAXO\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_NAME\": \"BIOLOGICALS\"\n          }\n        }\n      ]\n    }\n  }\n}\n'''\n\ndef get_condition(question):\n    '''\n    This function takes in a question string and returns the condition value of that question.\n    For example, if the question was 'What are the symptoms of COVID-19?', it would return ['COVID-19']\n    If the question was 'How long has it been since I last saw my GP?' it would return ['GP', 'last seen']\n    '''\n\n    # Split the question into individual words\/tokens using whitespace as the delimiter\n    tokens = question.split()\n    \n    # Initialize an empty list to hold the condition value\n    cond_val =","12069":"###[ How many people received PNEUMO (PNEUMOVAX) vaccine and ANTHRAX (NO BRAND NAME) vaccine in 2019. ]\nAnswer:\n\n###[ How many people received PNEUMO (PNEUMOVAX) vaccine and ANTHRAX (NO BRAND NAME) vaccine in 2018. ]\nAnswer:\n\n###[ How many people received PNEUMO (PNEUMOVAX) vaccine and ANTHRAX (NO BRAND NAME) vaccine in 2017. ]\nAnswer:\n\n###[ How many people received PNEUMO (PNEUMOVAX) vaccine and ANTHRAX (NO BRAND NAME) vaccine in 2016. ]\nAnswer:\n\n###[ How many people received PNEUMO (PNEUMOVAX) vaccine","382":"###[ Find the state that has the highest number of deaths among all states]\nAnswer:\n\n###[ Find the state that has the lowest number of deaths among all states]\nAnswer:\n\n###[ Find the state that has the highest number of hospitalization days among all states]\nAnswer:\n\n###[ Find the state that has the lowest number of hospitalization days among all states]\nAnswer:\n\n###[ Find the state that has the highest number of vaccine doses given out among all states]\nAnswer:\n\n###[ Find the state that has the lowest number of vaccine doses given out among all states]\nAnswer:\n\n###[ Find the state that has the highest number of patients who received at least one Pfizer vaccine in Jan-2022]\nAnswer:\n\n###[ Find the state that has the highest number of patients who received at least two Pfizer vacc","10051":"###[On 04\/15\/2022, how many people are still alive?]\nAnswer:\n\n###[On 04\/15\/2022, how many people died?]\nAnswer:\n\n###[On 04\/15\/2022, what is the average age of all patients who have not died?]\nAnswer:\n\n###[On 04\/15\/2022, what is the average age of all patients who have died?]\nAnswer:\n\n###[On 04\/15\/2022, what is the average hospital days of all patients who have not died?]\nAnswer:\n\n###[On 04\/15\/2022, what is the average hospital days of all patients who have died?]\nAnswer:\n\n###[On","9647":"{\n  \"size\": 10000,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"USPFIZER INC\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_LOT\": \"202200730509\"\n          }\n        }\n      ],\n      \"filter\": []\n    }\n  }\n}\n\n###[How many patients got vaccine manufactured by Pfizer Inc?]\nAnswer:\n{\n  \"size\": 10000,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"Pfizer Inc\"\n          }\n        }\n      ],\n      \"filter\": []\n    }\n  }\n}\n\n###[How many patients got vaccine manufact","7796":"\"\"\"\nimport json\nfrom elasticsearch import Elasticsearch\nes = Elasticsearch()\n\n\ndef get_data(index):\n    res = es.search(\n        index=index,\n        body={\n            \"size\": 10000,\n            \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\",\n                        \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\",\n                        \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\",\n                        \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLER","8935":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"USPFIZER INC\"\n    }\n  },\n  \"size\": 10000\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field","3167":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_DATE\": \"09\/27\/2017\"\n          }\n        }\n      ],\n      \"filter\": []\n    }\n  },\n  \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME","9322":"###[ What is the number of records that the vaccine recipient did not get any vaccines. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient was hospitalized in a medical facility. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient died after getting the vaccine. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient had an emergency room visit. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient received a COVID-19 test result of \u201cpositive\u201d or \u201cnegative\u201d. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient has been exposed to a live animal before receiving the vaccine. ]\nAnswer:\n\n###[ What is the number of records that the vaccine recipient has been exposed to a human before receiving the vaccine.","945":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 68}}}\n            ],\n            \"filter\": [\n                {\"term\": {\"DIED\": \"N\"}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME","10138":"{\n    \"query\": {\n        \"match\": {\n            \"SYMPTOM_TEXT\": \"RV1\"\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### entify the","9343":"###[ What is the number of records that the vaccine recipient did not get any vaccines. ]\nAnswer:\n\n###[ What is the average age of all vaccine recipients who received at least one dose of Pfizer vaccine in 2021? Round to two decimal places.]\nAnswer:\n\n###[ What is the average age of all vaccine recipients who received at least one dose of Moderna vaccine in 2021? Round to two decimal places.]\nAnswer:\n\n###[ What is the average age of all vaccine recipients who received at least one dose of J&J vaccine in 2021? Round to two decimal places.]\nAnswer:\n\n###[ What is the average age of all vaccine recipients who received at least one dose of Janssen vaccine in 2021? Round to two decimal places.]\nAnswer:\n\n###[","7768":"\"\"\"\nimport json\nfrom elasticsearch import Elasticsearch\n\n\ndef get_es():\n    es = Elasticsearch(\n        hosts=[{'host': 'localhost', 'port': 9200}],\n        http_auth=('elastic', '<PASSWORD>'),\n        scheme=\"https\",\n        retry_on_timeout=True,\n        max_retries=10\n    )\n\n    return es\n\n\ndef search_by_field_name(es):\n    # Search by field name\n    body = {\n        \"query\": {\n            \"match\": {\"FIELD_NAME\": \"CONDITION_VALUE\"}\n        }\n    }\n    res = es.search(index='clinical-notes', doc_type='_doc', body=body)\n    print(\"Got %d Hits:\" % res['hits']['total'])\n    for hit in res['hits']['hits']:\n        print(\"%(timestamp)s %(author)s: %(text)s\" % hit[\"_source\"])\n\n\nif __","10780":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAERS_ID\": \"u031560\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_MANU\": \"JANSSEN-CILAG\"\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Given a list of fields and conditions\n    fields = [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\",\n              \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\",\n              \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\",\n              \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\",\n              \"HISTORY\", \"PRIOR_VAX","6221":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"polyarthralgia rheumatica\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"1\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 20200301,\n              \"lte\": 20200401,\n              \"format\": \"yyyyMMdd\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Test case 1\n    print(\"Test Case 1\")\n    input_question = \"\"\"What are the conditions that cause a person to die in the United States?\"\"\"\n    expected_output = \"\"\"\nPrompt: ### Elasticsearch database with","9681":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"RECVDATE\": \"04\/18\/2022\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\"\"\"\n\ndef get_condition(question","8262":"###[How many patients were hospitalized between 05\/13\/2021 to 06\/13\/2021?]\nAnswer:\n\n###[What are the top 5 states in terms of number of deaths?]\nAnswer:\n\n###[What are the top 5 states in terms of number of hospitalizations?]\nAnswer:\n\n###[What are the top 5 states in terms of number of visits to an emergency room?]\nAnswer:\n\n###[What are the top 5 states in terms of number of visits to a hospital?]\nAnswer:\n\n###[What are the top 5 states in terms of number of visits to a doctor?]\nAnswer:\n\n###[What are the top 5 states in terms of number of visits to a clinic?]\nAnswer:\n\n###[What are the top","1517":"###[How many patients are still in hospital today]\nAnswer:\n\n###[What is the average number of days a patient has been in hospital before receiving their vaccine dose 1?]\nAnswer:\n\n###[What is the average number of days a patient has been in hospital before receiving their vaccine dose 2?]\nAnswer:\n\n###[What is the average number of days a patient has been in hospital before receiving their vaccine dose 3?]\nAnswer:\n\n###[What is the average number of days a patient has been in hospital before receiving their vaccine dose 4?]\nAnswer:\n\n###[What is the average number of days a patient has been in hospital before receiving their vaccine dose 5?]\nAnswer:\n\n###[What is the average number of days a patient has been in hospital before receiving their vaccine dose 6?]\nAnswer","5346":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"daily\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_NAME\": \"one pill\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 1583296000,\n                            \"lte\": 1584728000\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[Give me all the patients who was taking two pills at once.]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"at once\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_","1177":"###[How many patients have died in the hospital?]\nAnswer:\n\n###[What is the average number of days a patient has been in the hospital?]\nAnswer:\n\n###[How many patients were vaccinated against COVID-19?]\nAnswer:\n\n###[How many patients received at least one dose of Pfizer vaccine?]\nAnswer:\n\n###[How many patients received at least two doses of Pfizer vaccine?]\nAnswer:\n\n###[How many patients received at least three doses of Pfizer vaccine?]\nAnswer:\n\n###[How many patients received at least four doses of Pfizer vaccine?]\nAnswer:\n\n###[How many patients received at least five doses of Pfizer vaccine?]\nAnswer:\n\n###[How many patients received at least six doses of Pfizer vaccine","2497":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"DIED\": \"Yes\"}},\n                {\"match\": {\"RECVDATE\": \"04\/11\/2021\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]","2419":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"DIED\": \"Yes\"}},\n                {\"match\": {\"RECVDATE\": \"01\/29\/2022\"}}\n            ]\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\"]\n}\n\n###[Give me all the patients who are between 35-40 years old. ]\nAnswer:\n{\n    \"query\": {\n        \"range\": {\n            \"AGE_YRS\": {\n                \"gte\": 35,\n                \"lte\": 40\n            }\n        }\n    },\n    \"_source\": [\"STATE\", \"AGE_YRS\"]\n}\n\n###[Give me all the patients who have a history of heart attack. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"HISTORY\": \"Heart Attack\"\n        }\n    },\n    \"_source\": [\"","4967":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"creatinine\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190430\n                        }\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ Provide all records that are diagnosed with cancer in the last year. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"Y\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20180301,\n                            \"lte\": 20","12842":"Yes\n\n###[ Is there any person have Fever after vaccine? ]\nAnswer:\nYes\n\n###[ Is there any person have Cough after vaccine? ]\nAnswer:\nYes\n\n###[ Is there any person have Shortness of Breath after vaccine? ]\nAnswer:\nYes\n\n###[ Is there any person have Headache after vaccine? ]\nAnswer:\nYes\n\n###[ Is there any person have Body aches or Pain after vaccine? ]\nAnswer:\nYes\n\n###[ Is there any person have Loss of Taste\/Smell after vaccine? ]\nAnswer:\nYes\n\n###[ Is there any person have Nausea or Vomiting after vaccine? ]\nAnswer:\nYes\n\n###[ Is there any person have Diarrhea after vaccine? ]\nAnswer:\nYes\n\n###[ Is there any person have Other symptoms","247":"\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value\n\n    Parameters\n    ----------\n    question : str\n        Question string that needs to be parsed\n\n    Returns\n    -------\n    condition : str\n        Condition value extracted from the question string\n    \"\"\"\n    # TODO: Write your code here\n    return \"\"\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    This function takes in a field name and its corresponding condition value and generates an Elasticsearch query\n\n    Parameters\n    ----------\n    field_name : str\n        Field name of the Elasticsearch document\n    condition_value : str\n        Condition value of the field\n\n    Returns\n    -------\n    elasticsearch_query : dict\n        Dictionary containing the Elasticsearch query\n    \"\"\"\n    # TODO: Write your code here\n    return {}\n\n\nif __name__ == \"__main__\":\n    print(\"Question:\", question)\n    print(\"Condition Value:\", get_condition(question))\n    print(\"Elasticsearch Query","11543":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"PNEUMO\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"Y\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"1980-01-01\",\n                            \"lte\": \"2021-04-30\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Test case 1\n    print(\"Test Case 1\")\n    question = \"Search any vaccine recipients who had PNEUMO (PREVNAR20) shot.\"\n    answer = generate_elasticsearch_query(question=question)\n    assert answer == expected_answer_case","8513":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"ZOSTER LIVE\"\n          }\n        },\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"HEP B\"\n          }\n        }\n      ],\n      \"filter\": {\n        \"range\": {\n          \"RECVDATE\": {\n            \"gte\": 1583296000,\n            \"lte\": 1584728000\n          }\n        }\n      }\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n    \"\"\"Test generate_elasticsearch_query function.\"\"\"\n\n    # Test case 1\n    assert (\n        generate_elasticsearch_query(\n            \"What are the patients' ages when they were admitted to hospital?\",\n            \"AGE_YRS\",\n            158329600","3916":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"08\/15\/2021\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"N\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": \"2021-07-31\",\n              \"lte\": \"2021-09-01\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    For example, if the question was 'What are the conditions for receiving an influenza vaccine?'\n    Then it would return ['influenza', 'vaccine']\n    :","1054":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 0.67,\n                            \"lte\": 0.67\n                        }\n                    }\n                },\n                {\n                    \"match_phrase\": {\n                        \"DIED\": \"Y\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ List all patients who have died in the last year]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": \"now-1y\",\n                            \"lte\": \"now-1y\"\n                        }\n                    }\n                },\n                {\n                    \"match_phrase\": {\n                        \"DIED\": \"Y\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ List all patients who were diag","9246":"###[ What is the number of records that the vaccine recipient did not get any vaccines. ]\nAnswer:\n\n###[ What is the average age of all the vaccine recipients in the dataset. ]\nAnswer:\n\n###[ What is the total number of males and females in the dataset. ]\nAnswer:\n\n###[ What is the percentage of male and female patients in the dataset. ]\nAnswer:\n\n###[ What is the average age of male and female patients in the dataset. ]\nAnswer:\n\n###[ What is the minimum and maximum ages of male and female patients in the dataset. ]\nAnswer:\n\n###[ What is the average hospital days of all the vaccine recipients in the dataset. ]\nAnswer:\n\n###[ What is the average hospital days of male and female patients in the dataset. ]\nAnswer:\n\n###[ What is the average hospital days of male and","628":"###[ How many patients are from WI? ]\nAnswer:\n\n###[ How many patients are from MI? ]\nAnswer:\n\n###[ How many patients are from IL? ]\nAnswer:\n\n###[ How many patients are from IN? ]\nAnswer:\n\n###[ How many patients are from OH? ]\nAnswer:\n\n###[ How many patients are from KS? ]\nAnswer:\n\n###[ How many patients are from MO? ]\nAnswer:\n\n###[ How many patients are from NE? ]\nAnswer:\n\n###[ How many patients are from NJ? ]\nAnswer:\n\n###[ How many patients are from NY? ]\nAnswer:\n\n###[ How many patients are from PA? ]\nAnswer:\n\n###[ How many patients are from TX? ]\nAnswer:\n\n###[ How many patients are from FL? ]\nAnswer:","7902":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"03\/29\/21\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"VAX_TYPE\": \"COMBO\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\"\"\"\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question.\n    :param question: str\n    :return: list\n    \"\"\"\n\n    # TODO: Write code here to return the condition value of the question passed into the function.\n    if 'priviously' in question:\n        return ['COMBO']\n    elif 'on' in question:\n        return ['03\/29\/21']\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    This function generates","1044":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 104}}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME\", \"ALLERGIES\"]\n}\n\n###[ List all patients who","6586":"###[ Which is the least common seen march for patients.]\nAnswer:\n\n###[ Which state has the highest number of deaths in 2018]\nAnswer:\n\n###[ Which state has the lowest number of deaths in 2018]\nAnswer:\n\n###[ Which state has the highest number of hospital days in 2018]\nAnswer:\n\n###[ Which state has the lowest number of hospital days in 2018]\nAnswer:\n\n###[ Which state has the highest number of vaccine doses administered in 2018]\nAnswer:\n\n###[ Which state has the lowest number of vaccine doses administered in 2018]\nAnswer:\n\n###[ Which state has the highest number of vaccine doses distributed in 2018]\nAnswer:\n\n###[ Which state has the lowest","10060":"###[On 12\/08\/2021, what are the ages of all patients who died in hospital?]\nAnswer:\n\n###[On 12\/08\/2021, what are the symptoms reported by at least one patient who died in hospital?]\nAnswer:\n\n###[On 12\/08\/2021, what are the states where there were more than 500 cases of COVID-19 reported?]\nAnswer:\n\n###[On 12\/08\/2021, what are the states where there were more than 300 deaths due to COVID-19 reported?]\nAnswer:\n\n###[On 12\/08\/2021, which state has the most number of confirmed cases of COVID-19 reported so far?]\nAnswer:\n\n###","1215":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"CLINICAL_NOTES\": \"cage year\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"CLINICAL_NOTES\": \"10.0\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX","2727":"###[How many patients are there in the state of Washington who were vaccinated against COVID-19?]\nAnswer:\n\n###[What percentage of all adults (age >= 18) in the state of Washington have received at least one dose of a COVID-19 vaccine? Round to two decimal places.]\nAnswer:\n\n###[What percentage of all adults (age >= 18) in the state of Washington have received at least two doses of a COVID-19 vaccine? Round to two decimal places.]\nAnswer:\n\n###[What percentage of all adults (age >= 18) in the state of Washington have received at least three doses of a COVID-19 vaccine? Round to two decimal places.]\nAnswer:\n\n###[What percentage of all adults (age >= 18) in the state of Washington","3376":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"VAX_DATE\": \"10\/14\/2021\"\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"VAX_NAME","5473":"###[ List all the vaccine recipients who were 18 years old when they got their first dose of a COVID-19 vaccine. ]\nAnswer:\n\n###[ List all the vaccine recipients who had any of these conditions (in any order): hypertension, diabetes, asthma, heart disease, cancer, immunocompromised, pregnant or breastfeeding.]\nAnswer:\n\n###[ List all the vaccine recipients who have not been hospitalized for more than 30 days]\nAnswer:\n\n###[ List all the vaccine recipients who are receiving two doses of Pfizer Comirnaty in the same day. ]\nAnswer:\n\n###[ List all the vaccine recipients who are receiving two doses of Moderna in the same day. ]\nAnswer:\n\n###[ List all the vaccine recipients who are receiving two doses of Jan","6328":"###[ How many vaccine recipients have a history of allergies to penicillin glycosides (PEG)?]\nAnswer:\n\n###[ How many vaccine recipients have a history of allergies to other drugs?]\nAnswer:\n\n###[ How many vaccine recipients have a history of allergies to any type of antibiotics?]\nAnswer:\n\n###[ How many vaccine recipients have a history of allergies to any type of mold preparations?]\nAnswer:\n\n###[ How many vaccine recipients have a history of allergies to any type of pollen or noxious weed?]\nAnswer:\n\n###[ How many vaccine recipients have a history of allergies to any type of plant food?]\nAnswer:\n\n###[ How many vaccine recipients have a history of allergies to any type of animal protein?]","4762":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"ana\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"0\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"gte\": 20190301,\n                            \"lte\": 20190401,\n                            \"format\": \"yyyyMMdd\"\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA,","10584":"{\n    \"query\": {\n        \"match\": {\n            \"VAX_MANU\": \"WAG4512\"\n        }\n    }\n}\n\nPrompt: ###[Give me all the patients who are 60 years old or older.]\nAnswer:\n{\n    \"query\": {\n        \"range\": {\n            \"AGE_YRS\": {\n                \"gte\": 60\n            }\n        }\n    }\n}\n\nPrompt: ###[Give me all the patients who have died in hospital.]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"term\": {\n                        \"DIED\": true\n                    }\n                },\n                {\n                    \"exists\": {\n                        \"field\": \"HOSPITAL\"\n                    }\n                }\n            ],\n            \"should\": []\n        }\n    }\n}\n\nPrompt: ###[Give me all the patients who have died in hospital within last","11207":"###[What are the top 5 states that have the most number of deaths due to covid-19]\nAnswer:\n\n###[What are the top 3 states that have the highest number of hospitalization days due to covid-19]\nAnswer:\n\n###[What are the top 3 states that have the highest number of hospitalization days due to covid-19]\nAnswer:\n\n###[What are the top 3 states that have the highest number of hospitalization days due to covid-19]\nAnswer:\n\n###[What are the top 3 states that have the highest number of hospitalization days due to covid-19]\nAnswer:\n\n###[What are the top 3 states that have the highest number of hospitalization days due to covid-19]\nAnswer:\n\n###[What are the top 3 states that have the highest number","10566":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_NAME\": \"AMXA688A\"\n    }\n  }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]###","8406":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"VARICELLA\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"lt\": 20190305\n                        }\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###[ Find all records who got COVID-19 infection before. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"COVID-19\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"RECVDATE\": {\n                            \"lt\": 20190305\n                        }\n                    }\n                }\n            ],\n            \"filter\": []\n        }\n    }\n}\n\n###","3679":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"RECVDATE\": \"06\/05\/2021\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"onset date of adverse event symptoms\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string as input and returns the condition value for that question.\n\n    :param question: String containing the question to be parsed.\n    :return: Condition value for the given question.\n    \"\"\"\n    # TODO: Write your code here\n    return None\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    This function generates an Elasticsearch query based on the provided field name and condition value.\n\n    :param field_name: Field name extracted from the","1873":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"arteriovenous fistula\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"1\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 20200301,\n              \"lte\": 20200430,\n              \"format\": \"yyyyMMdd\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\"\"\"\n\n\ndef test_generate_elasticsearch_query():\n\n    # Test case 1\n    print(\"Test Case 1\")\n    input_question = \"\"\"What are the patients who have died in the last month?\"\"\"\n    expected_output = \"\"\"\nPrompt: ### Elasticsearch database with field names:\n#","7037":"###[ How many patients are not dignosed of cidp? ]\nAnswer:\n\n###[ How many patients have been discharged from hospital?]\nAnswer:\n\n###[ How many patients have not been discharged from hospital?]\nAnswer:\n\n###[ How many patients have been discharged from outpatient clinic?]\nAnswer:\n\n###[ How many patients have not been discharged from outpatient clinic?]\nAnswer:\n\n###[ How many patients have been discharged from inpatient clinic?]\nAnswer:\n\n###[ How many patients have not been discharged from inpatient clinic?]\nAnswer:\n\n###[ How many patients have been discharged from ER?]\nAnswer:\n\n###[ How many patients have not been discharged from ER?]\nAnswer:\n\n###[ How many patients have been discharged from U","10362":"\"\"\"\n\n\ndef get_condition(question):\n    \"\"\"\n    This function takes in a question string and returns the condition value of that question\n\n    :param question: String containing the question to be parsed\n    :return: String containing the condition value of the question\n    \"\"\"\n    # TODO: Write your code here\n    return \"\"\n\n\ndef generate_elasticsearch_query(field_name, condition_value):\n    \"\"\"\n    This function takes in a field name and its corresponding condition value and generates an Elasticsearch query\n\n    :param field_name: String containing the field name\n    :param condition_value: String containing the condition value\n    :return: String containing the generated Elasticsearch query\n    \"\"\"\n    # TODO: Write your code here\n    return \"\"\n\n\nif __name__ == \"__main__\":\n    print(\"Question:\", question)\n    print(\"Condition Value:\", get_condition(question))\n    print(\"Elasticsearch Query:\", generate_elasticsearch_query(\"\", \"\"))","1773":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"RECVDATE\": \"2021-03-05\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"STATE\": \"VA\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"AGE_YRS\": {\n                            \"gte\": 18,\n                            \"lte\": 90\n                        }\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Adverse Event\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"DIED\": \"Y\"\n                    }\n                }\n            ],\n            \"should\": [],\n            \"filter\": []\n        }\n    }\n}\n\"\"\"\n\n\"\"\"\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM","9185":"{\n  \"query\": {\n    \"match\": {\n      \"VAX_MANU\": \"USPFIZER INC\"\n    }\n  },\n  \"size\": 5000\n}\n\n###[ Search for any cases where the vaccine recipient got a Pfizer-BioNTech vaccine. ]\nAnswer:\n{\n  \"query\": {\n    \"match\": {\n      \"VAX_NAME\": \"<NAME>\"\n    }\n  },\n  \"size\": 5000\n}\n\n###[ Search for any cases where the vaccine recipient got a Moderna vaccine. ]\nAnswer:\n{\n  \"query\": {\n    \"match\": {\n      \"VAX_NAME\": \"Moderna\"\n    }\n  },\n  \"size\": 5000\n}\n\n###[ Search for any cases where the vaccine recipient got a Janssen vaccine. ]\nAnswer:\n{\n  \"query\":","1379":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"CLINICAL_NOTES\": \"cage months\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"CLINICAL_NOTES\": \"0.9\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_","6568":"###[ Which is the most common muscle wasting and atrophy for patients.]\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLERGIES### What is the filed name?The filed name is [ ]\n### What is the condition value for this field? The condition value for this field is[ ]### entify the filed name first, then extract the specific condition values from","6455":"###[ What is the number of vaccine recipients that had heart failure when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had diabetes mellitus when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had chronic kidney disease when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had cancer when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had obesity when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had asthma when they took the shot? ]\nAnswer:\n\n###[ What is the number of vaccine recipients that had COPD (chronic obstructive pulmonary disease) when they took the shot? ]","9612":"{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"VAX_MANU\": \"USPFIZER INC\"\n          }\n        },\n        {\n          \"match\": {\n            \"VAX_LOT\": \"202101495427\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[How many patients were vaccinated against COVID-19 in California?]\nAnswer:\n{\n  \"size\": 0,\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"STATE\": \"CA\"\n          }\n        },\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"COVID-19\"\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[What are the top 3","12755":"{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Erythema multiforme\"\n          }\n        },\n        {\n          \"match\": {\n            \"DIED\": \"0\"\n          }\n        }\n      ],\n      \"filter\": [\n        {\n          \"range\": {\n            \"RECVDATE\": {\n              \"gte\": 20210305,\n              \"lte\": 20210405,\n              \"format\": \"yyyyMMdd\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\n###[ Is there any person have Fever after vaccine? ]\nAnswer:\n{\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"match\": {\n            \"SYMPTOM_TEXT\": \"Fever\"\n          }\n        },\n        {\n          \"match","4656":"###[How many patients are there in each state?]\nAnswer:\n\n###[What is the average age of all patients who received at least one dose of Pfizer-BioNTech vaccine?]\nAnswer:\n\n###[What percentage of patients who received at least one dose of Pfizer-BioNTech vaccine died within 12 months after receiving their second dose?]\nAnswer:\n\n###[What percentage of patients who received at least two doses of Pfizer-BioNTech vaccine died within 365 days after receiving their second dose?]\nAnswer:\n\n###[What percentage of patients who received at least three doses of Pfizer-BioNTech vaccine died within 730 days after receiving their third dose?]\nAnswer:\n\n###[What percentage of patients who received at least four doses of Pfizer","933":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"range\": {\"AGE_YRS\": {\"gte\": 76}}},\n                {\"match\": {\"DIED\": \"Y\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ]\n        }\n    },\n    \"_source\": [\"RECVDATE\", \"STATE\", \"AGE_YRS\", \"VAERS_ID\", \"SEX\", \"SYMPTOM_TEXT\", \"DIED\", \"ER_VISIT\", \"L_THREAT\", \"HOSPITAL\", \"HOSPDAYS\", \"DISABLE\", \"VAX_DATE\", \"LAB_DATA\", \"OTHER_MEDS\", \"CUR_ILL\", \"HISTORY\", \"PRIOR_VAX\", \"TODAYS_DATE\", \"OFC_VISIT\", \"VAX_TYPE\", \"VAX_MANU\", \"VAX_LOT\", \"VAX_DOSE_SERIES\", \"V","12130":"###[ How many people received VARICELLA (NO BRAND NAME) vaccine and PNEUMO (VAXNEUVANCE) vaccine in 2018. ]\nAnswer:\n\n###[ How many people received VARICELLA (NO BRAND NAME) vaccine and PNEUMO (VAXNEUVANCE) vaccine in 2019. ]\nAnswer:\n\n###[ How many people received VARICELLA (NO BRAND NAME) vaccine and PNEUMO (VAXNEUVANCE) vaccine in 2020. ]\nAnswer:\n\n###[ How many people received VARICELLA (NO BRAND NAME) vaccine and PNEUMO (VAXNEUVANCE) vaccine in 2021. ]\nAnswer:\n\n###[ How many people received VARICELLA (NO BRAND NAME) vaccine and","7237":"###[ Which is the least common malabsorption for patients.]\nAnswer:\n\n###[ Which is the most common allergy for patients]\nAnswer:\n\n###[ Which is the least common allergy for patients]\nAnswer:\n\n###[ Which state has the highest number of deaths in 2019?]\nAnswer:\n\n###[ Which state has the lowest number of deaths in 2019?]\nAnswer:\n\n###[ Which state has the highest number of hospital days in 2019?]\nAnswer:\n\n###[ Which state has the lowest number of hospital days in 2019?]\nAnswer:\n\n###[ Which state has the highest number of cases in 2019?]\nAnswer:\n\n###[ Which state has the lowest number of cases in 2019?]\nAnswer:\n\n###[ Which state","5072":"###[ Find the number of cases that the vaccine recipients had right shoulder mri test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had both shoulder mri tests. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients did not have any shoulder mri test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a positive result in their shoulder mri test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had a negative result in their shoulder mri test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had an inconclusive result in their shoulder mri test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients had no result in their shoulder mri test. ]\nAnswer:","183":"{\n    \"query\": {\n        \"match\": {\n            \"RECVDATE\": \"01\/23\/2022\"\n        }\n    }\n}\n\n###[ Find all cases that are male. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"SEX\": \"Male\"\n        }\n    }\n}\n\n###[ Find all cases that have died. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"DIED\": \"Yes\"\n        }\n    }\n}\n\n###[ Find all cases that were hospitalized. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"HOSPITAL\": \"Yes\"\n        }\n    }\n}\n\n###[ Find all cases that received a flu vaccine. ]\nAnswer:\n{\n    \"query\": {\n        \"match\": {\n            \"VAX_NAME\": \"","1835":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Myoglobin\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1609459200,\n                            \"lte\": 1637814400\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_","1820":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"Prostate\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"TODAYS_DATE\": {\n                            \"gte\": 1609459200\n                        }\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"term\": {\n                        \"DIED\": \"N\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS","12653":"'''\n\ndef get_condition(question):\n    '''\n    This function takes in a question string and returns the condition value of the field.\n    '''\n    # Split the question into words\n    split = question.split()\n\n    # Find the index where 'is' occurs\n    idx = split.index('is')\n\n    # Return everything after 'is' as the condition value\n    return \" \".join(split[(idx + 1):])\n\n\ndef generate_query(field_name, condition_value):\n    '''\n    This function generates an Elasticsearch query given a field name and its corresponding condition value.\n    '''\n    # Initialize an empty dictionary to store the conditions\n    conditions = {}\n\n    # Add the condition to the dictionary\n    conditions[\"match\"] = {\n        field_name : condition_value\n    }\n\n    # Create a query dict that uses the match condition\n    query = {\"query\":conditions}\n\n    # Return the query\n    return query","5056":"###[ Find the number of cases that the vaccine recipients did not have excison test. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients were hospitalized in a U.S. hospital. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients were hospitalized in a non-U.S. hospital. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients died during hospitalization. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients died before hospitalization. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients received a Pfizer vaccine. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients received a Moderna vaccine. ]\nAnswer:\n\n###[ Find the number of cases that the vaccine recipients received an O","11438":"###[ Find the most common age group of patients who died in hospital. ]\nAnswer:\n\n###[ Find the most common vaccine type used by people over 60 years old. ]\nAnswer:\n\n###[ Find the most common allergies among people aged between 35 to 49. ]\nAnswer:\n\n###[ Find the most common symptoms among people younger than 25. ]\nAnswer:\n\n###[ Find the most common hospitalization status among people younger than 18. ]\nAnswer:\n\n###[ Find the most common visiting status of doctors. ]\nAnswer:\n\n###[ Find the most common visiting status of nurses. ]\nAnswer:\n\n###[ Find the most common visiting status of physicians. ]\nAnswer:\n\n###[ Find the most common visiting status of other healthcare workers. ]","10769":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"STATE\": \"FJ\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"FJ1619\"\n                    }\n                }\n            ],\n            \"filter\": [\n                {\n                    \"range\": {\n                        \"VAX_DATE\": {\n                            \"gte\": 20210305,\n                            \"lte\": 20210405\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\n###[ Find all the cases where the vaccine recipients got vaccinated in FJ1619 or FJ1620. ]\nAnswer:\n{\n    \"query\": {\n        \"bool\": {\n            \"should\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"FJ1619\"\n                    }","7332":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"SYMPTOM_TEXT\": \"pvc\"\n                    }\n                },\n                {\n                    \"match\": {\n                        \"ALLERGIES\": \"1\"\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MANU, VAX_LOT, VAX_DOSE_SERIES, VAX_NAME, ALLER","10466":"###[ Which state has the most number of deaths in 2018. ]\nAnswer:\n\n###[ Which state has the highest number of hospitalization days in 2018. ]\nAnswer:\n\n###[ Which state has the highest number of patients who received at least one dose of COVID-19 vaccines. ]\nAnswer:\n\n###[ Which state has the highest number of patients who received all three doses of COVID-19 vaccines. ]\nAnswer:\n\n###[ Which state has the lowest number of patients who received any two doses of COVID-19 vaccines. ]\nAnswer:\n\n###[ Which state has the highest number of patients who received any two doses of COVID-19 vaccines. ]\nAnswer:\n\n###[ Which state has the highest number of patients who received any two doses of COVID-19 vaccines.","1109":"{\n    \"size\": 25,\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\"match\": {\"AGE_YRS\": \"100\"}},\n                {\"match\": {\"STATE\": \"VA\"}}\n            ],\n            \"filter\": [{\"range\": {\"RECVDATE\": {\"gte\": \"2021-04-01\", \"lte\": \"2021-06-30\"}}}]\n        }\n    },\n    \"_source\": [\"RECVDATE\",\"STATE\",\"AGE_YRS\",\"VAERS_ID\",\"SEX\",\"SYMPTOM_TEXT\",\"DIED\",\"ER_VISIT\",\"L_THREAT\",\"HOSPITAL\",\"HOSPDAYS\",\"DISABLE\",\"VAX_DATE\",\"LAB_DATA\",\"OTHER_MEDS\",\"CUR_ILL\",\"HISTORY\",\"PRIOR_VAX\",\"TODAYS_DATE\",\"OFC_VISIT\",\"VAX_TYPE\",\"VAX_MANU\",\"VAX","7771":"\"\"\"\nimport json\nfrom elasticsearch import Elasticsearch\n\n\ndef get_es():\n    es = Elasticsearch(\n        hosts=[{'host': 'localhost', 'port': 9200}],\n        http_auth=('elastic', '<PASSWORD>'),\n        scheme=\"https\",\n        retry_on_timeout=True,\n        max_retries=10\n    )\n\n    return es\n\n\ndef search_by_field_name(es):\n    # Search by field name\n    body = {\n        \"query\": {\n            \"match\": {\"FIELD_NAME\": \"CONDITION_VALUE\"}\n        }\n    }\n    res = es.search(index='clinical-notes', doc_type='_doc', body=body)\n    print(\"Got %d Hits:\" % res['hits']['total'])\n    for hit in res['hits']['hits']:\n        print(\"%(timestamp)s %(author)s: %(text)s\" % hit[\"_source\"])\n\n\nif __","1378":"{\n    \"query\": {\n        \"bool\": {\n            \"must\": [\n                {\n                    \"match\": {\n                        \"CLINICAL_NOTES\": \"cage months\"\n                    }\n                },\n                {\n                    \"range\": {\n                        \"CLINICAL_NOTES.cage_months\": {\n                            \"gte\": 0.3,\n                            \"lte\": 0.3\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n\nPrompt: ### Elasticsearch database with field names:\n# RECVDATE, STATE, AGE_YRS, VAERS_ID, SEX, SYMPTOM_TEXT, DIED, ER_VISIT, L_THREAT, HOSPITAL, HOSPDAYS, DISABLE, VAX_DATE, LAB_DATA, OTHER_MEDS, CUR_ILL, HISTORY, PRIOR_VAX, TODAYS_DATE, OFC_VISIT, VAX_TYPE, VAX_MAN"}}